/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/messages/unread-count/route";
exports.ids = ["app/api/messages/unread-count/route"];
exports.modules = {

/***/ "(rsc)/./app/api/messages/unread-count/route.ts":
/*!************************************************!*\
  !*** ./app/api/messages/unread-count/route.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _server_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/server/storage */ \"(rsc)/./server/storage.ts\");\n/* harmony import */ var _lib_supabase_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/supabase-server */ \"(rsc)/./lib/supabase-server.ts\");\n\n\n\nasync function GET(request) {\n    try {\n        const supabase = await (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_2__.createClient)();\n        const { data: { user }, error } = await supabase.auth.getUser();\n        if (error || !user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const count = await _server_storage__WEBPACK_IMPORTED_MODULE_1__.storage.getUnreadMessageCount(user.id);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            count\n        });\n    } catch (error) {\n        console.error(\"Error fetching unread count:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: \"Failed to fetch unread count\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL21lc3NhZ2VzL3VucmVhZC1jb3VudC9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJDO0FBQ0E7QUFDVTtBQUU5QyxlQUFlRyxJQUFJQyxPQUFnQjtJQUN0QyxJQUFJO1FBQ0EsTUFBTUMsV0FBVyxNQUFNSCxrRUFBWUE7UUFDbkMsTUFBTSxFQUFFSSxNQUFNLEVBQUVDLElBQUksRUFBRSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNSCxTQUFTSSxJQUFJLENBQUNDLE9BQU87UUFFN0QsSUFBSUYsU0FBUyxDQUFDRCxNQUFNO1lBQ2hCLE9BQU9QLHFEQUFZQSxDQUFDVyxJQUFJLENBQUM7Z0JBQUVDLFNBQVM7WUFBZSxHQUFHO2dCQUFFQyxRQUFRO1lBQUk7UUFDeEU7UUFFQSxNQUFNQyxRQUFRLE1BQU1iLG9EQUFPQSxDQUFDYyxxQkFBcUIsQ0FBQ1IsS0FBS1MsRUFBRTtRQUN6RCxPQUFPaEIscURBQVlBLENBQUNXLElBQUksQ0FBQztZQUFFRztRQUFNO0lBQ3JDLEVBQUUsT0FBT04sT0FBTztRQUNaUyxRQUFRVCxLQUFLLENBQUMsZ0NBQWdDQTtRQUM5QyxPQUFPUixxREFBWUEsQ0FBQ1csSUFBSSxDQUFDO1lBQUVDLFNBQVM7UUFBK0IsR0FBRztZQUFFQyxRQUFRO1FBQUk7SUFDeEY7QUFDSiIsInNvdXJjZXMiOlsiL2hvbWUvcnlhbi9Eb2N1bWVudHMvUHJvamVjdHMvdmljLmJhbmQvYXBwL2FwaS9tZXNzYWdlcy91bnJlYWQtY291bnQvcm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5pbXBvcnQgeyBzdG9yYWdlIH0gZnJvbSBcIkAvc2VydmVyL3N0b3JhZ2VcIjtcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS1zZXJ2ZXJcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBSZXF1ZXN0KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcbiAgICAgICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG4gICAgICAgIGlmIChlcnJvciB8fCAhdXNlcikge1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWRcIiB9LCB7IHN0YXR1czogNDAxIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY291bnQgPSBhd2FpdCBzdG9yYWdlLmdldFVucmVhZE1lc3NhZ2VDb3VudCh1c2VyLmlkKTtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgY291bnQgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIHVucmVhZCBjb3VudDpcIiwgZXJyb3IpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBtZXNzYWdlOiBcIkZhaWxlZCB0byBmZXRjaCB1bnJlYWQgY291bnRcIiB9LCB7IHN0YXR1czogNTAwIH0pO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJzdG9yYWdlIiwiY3JlYXRlQ2xpZW50IiwiR0VUIiwicmVxdWVzdCIsInN1cGFiYXNlIiwiZGF0YSIsInVzZXIiLCJlcnJvciIsImF1dGgiLCJnZXRVc2VyIiwianNvbiIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJjb3VudCIsImdldFVucmVhZE1lc3NhZ2VDb3VudCIsImlkIiwiY29uc29sZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/messages/unread-count/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/supabase-server.ts":
/*!********************************!*\
  !*** ./lib/supabase-server.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClient: () => (/* binding */ createClient)\n/* harmony export */ });\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/ssr */ \"(rsc)/./node_modules/@supabase/ssr/dist/module/index.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n\n\nasync function createClient() {\n    const cookieStore = await (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n    return (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createServerClient)(\"https://jgtgvxzxgkudctocoxsq.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpndGd2eHp4Z2t1ZGN0b2NveHNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5NjIzODYsImV4cCI6MjA4MDUzODM4Nn0.coNaN9oP4XGgigqG83eyve2fJMm2mVDksvT2zpcvmOA\", {\n        cookies: {\n            get (name) {\n                return cookieStore.get(name)?.value;\n            },\n            set (name, value, options) {\n                try {\n                    cookieStore.set({\n                        name,\n                        value,\n                        ...options\n                    });\n                } catch (error) {\n                // The `set` method was called from a Server Component.\n                // This can be ignored if you have middleware refreshing\n                // user sessions.\n                }\n            },\n            remove (name, options) {\n                try {\n                    cookieStore.set({\n                        name,\n                        value: '',\n                        ...options\n                    });\n                } catch (error) {\n                // The `delete` method was called from a Server Component.\n                // This can be ignored if you have middleware refreshing\n                // user sessions.\n                }\n            }\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc3VwYWJhc2Utc2VydmVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFzRTtBQUNoQztBQUUvQixlQUFlRTtJQUNsQixNQUFNQyxjQUFjLE1BQU1GLHFEQUFPQTtJQUVqQyxPQUFPRCxpRUFBa0JBLENBQ3JCSSwwQ0FBb0MsRUFDcENBLGtOQUF5QyxFQUN6QztRQUNJSCxTQUFTO1lBQ0xPLEtBQUlDLElBQVk7Z0JBQ1osT0FBT04sWUFBWUssR0FBRyxDQUFDQyxPQUFPQztZQUNsQztZQUNBQyxLQUFJRixJQUFZLEVBQUVDLEtBQWEsRUFBRUUsT0FBc0I7Z0JBQ25ELElBQUk7b0JBQ0FULFlBQVlRLEdBQUcsQ0FBQzt3QkFBRUY7d0JBQU1DO3dCQUFPLEdBQUdFLE9BQU87b0JBQUM7Z0JBQzlDLEVBQUUsT0FBT0MsT0FBTztnQkFDWix1REFBdUQ7Z0JBQ3ZELHdEQUF3RDtnQkFDeEQsaUJBQWlCO2dCQUNyQjtZQUNKO1lBQ0FDLFFBQU9MLElBQVksRUFBRUcsT0FBc0I7Z0JBQ3ZDLElBQUk7b0JBQ0FULFlBQVlRLEdBQUcsQ0FBQzt3QkFBRUY7d0JBQU1DLE9BQU87d0JBQUksR0FBR0UsT0FBTztvQkFBQztnQkFDbEQsRUFBRSxPQUFPQyxPQUFPO2dCQUNaLDBEQUEwRDtnQkFDMUQsd0RBQXdEO2dCQUN4RCxpQkFBaUI7Z0JBQ3JCO1lBQ0o7UUFDSjtJQUNKO0FBRVIiLCJzb3VyY2VzIjpbIi9ob21lL3J5YW4vRG9jdW1lbnRzL1Byb2plY3RzL3ZpYy5iYW5kL2xpYi9zdXBhYmFzZS1zZXJ2ZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlU2VydmVyQ2xpZW50LCB0eXBlIENvb2tpZU9wdGlvbnMgfSBmcm9tICdAc3VwYWJhc2Uvc3NyJ1xuaW1wb3J0IHsgY29va2llcyB9IGZyb20gJ25leHQvaGVhZGVycydcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUNsaWVudCgpIHtcbiAgICBjb25zdCBjb29raWVTdG9yZSA9IGF3YWl0IGNvb2tpZXMoKVxuXG4gICAgcmV0dXJuIGNyZWF0ZVNlcnZlckNsaWVudChcbiAgICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcbiAgICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhLFxuICAgICAgICB7XG4gICAgICAgICAgICBjb29raWVzOiB7XG4gICAgICAgICAgICAgICAgZ2V0KG5hbWU6IHN0cmluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29va2llU3RvcmUuZ2V0KG5hbWUpPy52YWx1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0KG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZywgb3B0aW9uczogQ29va2llT3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29va2llU3RvcmUuc2V0KHsgbmFtZSwgdmFsdWUsIC4uLm9wdGlvbnMgfSlcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBgc2V0YCBtZXRob2Qgd2FzIGNhbGxlZCBmcm9tIGEgU2VydmVyIENvbXBvbmVudC5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgY2FuIGJlIGlnbm9yZWQgaWYgeW91IGhhdmUgbWlkZGxld2FyZSByZWZyZXNoaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1c2VyIHNlc3Npb25zLlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZW1vdmUobmFtZTogc3RyaW5nLCBvcHRpb25zOiBDb29raWVPcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb29raWVTdG9yZS5zZXQoeyBuYW1lLCB2YWx1ZTogJycsIC4uLm9wdGlvbnMgfSlcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBgZGVsZXRlYCBtZXRob2Qgd2FzIGNhbGxlZCBmcm9tIGEgU2VydmVyIENvbXBvbmVudC5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgY2FuIGJlIGlnbm9yZWQgaWYgeW91IGhhdmUgbWlkZGxld2FyZSByZWZyZXNoaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1c2VyIHNlc3Npb25zLlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICApXG59XG4iXSwibmFtZXMiOlsiY3JlYXRlU2VydmVyQ2xpZW50IiwiY29va2llcyIsImNyZWF0ZUNsaWVudCIsImNvb2tpZVN0b3JlIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiZ2V0IiwibmFtZSIsInZhbHVlIiwic2V0Iiwib3B0aW9ucyIsImVycm9yIiwicmVtb3ZlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase-server.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fmessages%2Funread-count%2Froute&page=%2Fapi%2Fmessages%2Funread-count%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmessages%2Funread-count%2Froute.ts&appDir=%2Fhome%2Fryan%2FDocuments%2FProjects%2Fvic.band%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fryan%2FDocuments%2FProjects%2Fvic.band&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fmessages%2Funread-count%2Froute&page=%2Fapi%2Fmessages%2Funread-count%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmessages%2Funread-count%2Froute.ts&appDir=%2Fhome%2Fryan%2FDocuments%2FProjects%2Fvic.band%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fryan%2FDocuments%2FProjects%2Fvic.band&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/./node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/./node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/web/spec-extension/adapters/next-request */ \"(rsc)/./node_modules/next/dist/server/web/spec-extension/adapters/next-request.js\");\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/./node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/send-response */ \"(rsc)/./node_modules/next/dist/server/send-response.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/web/utils */ \"(rsc)/./node_modules/next/dist/server/web/utils.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/lib/cache-control */ \"(rsc)/./node_modules/next/dist/server/lib/cache-control.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/./node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/./node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _home_ryan_Documents_Projects_vic_band_app_api_messages_unread_count_route_ts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./app/api/messages/unread-count/route.ts */ \"(rsc)/./app/api/messages/unread-count/route.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/messages/unread-count/route\",\n        pathname: \"/api/messages/unread-count\",\n        filename: \"route\",\n        bundlePath: \"app/api/messages/unread-count/route\"\n    },\n    distDir: \".next\" || 0,\n    relativeProjectDir:  false || '',\n    resolvedPagePath: \"/home/ryan/Documents/Projects/vic.band/app/api/messages/unread-count/route.ts\",\n    nextConfigOutput,\n    userland: _home_ryan_Documents_Projects_vic_band_app_api_messages_unread_count_route_ts__WEBPACK_IMPORTED_MODULE_16__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\nasync function handler(req, res, ctx) {\n    var _nextConfig_experimental;\n    let srcPage = \"/api/messages/unread-count/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = false;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname } = prepareResult;\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__.normalizeAppPath)(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isRevalidate = isIsr && !supportsDynamicResponse;\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                cacheComponents: Boolean(nextConfig.experimental.cacheComponents),\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            supportsDynamicResponse,\n            incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'incrementalCache'),\n            cacheLifeProfiles: (_nextConfig_experimental = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental.cacheLife,\n            isRevalidate,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextRequest(req);\n    const nodeNextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextResponse(res);\n    const nextReq = next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.NextRequestAdapter.fromNodeNextRequest(nodeNextReq, (0,next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.signalFromNodeResponse)(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.toNodeOutgoingHttpHeaders)(response.headers);\n                        if (cacheTags) {\n                            headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                                isRevalidate,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode')) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.fromNodeOutgoingHttpHeaders)(cacheEntry.value.headers);\n            if (!((0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isIsr)) {\n                headers.delete(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', (0,next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__.getCacheControlHeader)(cacheEntry.cacheControl));\n            }\n            await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        if (!(err instanceof next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                    isRevalidate,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZtZXNzYWdlcyUyRnVucmVhZC1jb3VudCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGbWVzc2FnZXMlMkZ1bnJlYWQtY291bnQlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZtZXNzYWdlcyUyRnVucmVhZC1jb3VudCUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGcnlhbiUyRkRvY3VtZW50cyUyRlByb2plY3RzJTJGdmljLmJhbmQlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRmhvbWUlMkZyeWFuJTJGRG9jdW1lbnRzJTJGUHJvamVjdHMlMkZ2aWMuYmFuZCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCZpc0dsb2JhbE5vdEZvdW5kRW5hYmxlZD0hIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ2Q7QUFDUztBQUNPO0FBQ0s7QUFDbUM7QUFDakQ7QUFDTztBQUNmO0FBQ3NDO0FBQ3pCO0FBQ007QUFDQztBQUNoQjtBQUN3QztBQUMxRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxhQUFhLE9BQW9DLElBQUksQ0FBRTtBQUN2RCx3QkFBd0IsTUFBdUM7QUFDL0Q7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LDBGQUFxQjtBQUNsRTtBQUNBLGtCQUFrQiw2RUFBWTtBQUM5QjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDViw2RUFBNkUsZ0ZBQWM7QUFDM0YsaUNBQWlDLFFBQVEsRUFBRSxRQUFRO0FBQ25ELDBCQUEwQix1RUFBUTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLE1BQU07QUFDTiw2QkFBNkIsNkZBQWU7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsMkZBQW1CO0FBQ3JEO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDZFQUFZO0FBQzFCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCB7IGdldFJlcXVlc3RNZXRhIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcmVxdWVzdC1tZXRhXCI7XG5pbXBvcnQgeyBnZXRUcmFjZXIsIFNwYW5LaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3RyYWNlL3RyYWNlclwiO1xuaW1wb3J0IHsgbm9ybWFsaXplQXBwUGF0aCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvYXBwLXBhdGhzXCI7XG5pbXBvcnQgeyBOb2RlTmV4dFJlcXVlc3QsIE5vZGVOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9iYXNlLWh0dHAvbm9kZVwiO1xuaW1wb3J0IHsgTmV4dFJlcXVlc3RBZGFwdGVyLCBzaWduYWxGcm9tTm9kZVJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvd2ViL3NwZWMtZXh0ZW5zaW9uL2FkYXB0ZXJzL25leHQtcmVxdWVzdFwiO1xuaW1wb3J0IHsgQmFzZVNlcnZlclNwYW4gfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvdHJhY2UvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBnZXRSZXZhbGlkYXRlUmVhc29uIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvaW5zdHJ1bWVudGF0aW9uL3V0aWxzXCI7XG5pbXBvcnQgeyBzZW5kUmVzcG9uc2UgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9zZW5kLXJlc3BvbnNlXCI7XG5pbXBvcnQgeyBmcm9tTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMsIHRvTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci93ZWIvdXRpbHNcIjtcbmltcG9ydCB7IGdldENhY2hlQ29udHJvbEhlYWRlciB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9jYWNoZS1jb250cm9sXCI7XG5pbXBvcnQgeyBJTkZJTklURV9DQUNIRSwgTkVYVF9DQUNIRV9UQUdTX0hFQURFUiB9IGZyb20gXCJuZXh0L2Rpc3QvbGliL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgTm9GYWxsYmFja0Vycm9yIH0gZnJvbSBcIm5leHQvZGlzdC9zaGFyZWQvbGliL25vLWZhbGxiYWNrLWVycm9yLmV4dGVybmFsXCI7XG5pbXBvcnQgeyBDYWNoZWRSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yZXNwb25zZS1jYWNoZVwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9ob21lL3J5YW4vRG9jdW1lbnRzL1Byb2plY3RzL3ZpYy5iYW5kL2FwcC9hcGkvbWVzc2FnZXMvdW5yZWFkLWNvdW50L3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9tZXNzYWdlcy91bnJlYWQtY291bnQvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9tZXNzYWdlcy91bnJlYWQtY291bnRcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL21lc3NhZ2VzL3VucmVhZC1jb3VudC9yb3V0ZVwiXG4gICAgfSxcbiAgICBkaXN0RGlyOiBwcm9jZXNzLmVudi5fX05FWFRfUkVMQVRJVkVfRElTVF9ESVIgfHwgJycsXG4gICAgcmVsYXRpdmVQcm9qZWN0RGlyOiBwcm9jZXNzLmVudi5fX05FWFRfUkVMQVRJVkVfUFJPSkVDVF9ESVIgfHwgJycsXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvaG9tZS9yeWFuL0RvY3VtZW50cy9Qcm9qZWN0cy92aWMuYmFuZC9hcHAvYXBpL21lc3NhZ2VzL3VucmVhZC1jb3VudC9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzLCBjdHgpIHtcbiAgICB2YXIgX25leHRDb25maWdfZXhwZXJpbWVudGFsO1xuICAgIGxldCBzcmNQYWdlID0gXCIvYXBpL21lc3NhZ2VzL3VucmVhZC1jb3VudC9yb3V0ZVwiO1xuICAgIC8vIHR1cmJvcGFjayBkb2Vzbid0IG5vcm1hbGl6ZSBgL2luZGV4YCBpbiB0aGUgcGFnZSBuYW1lXG4gICAgLy8gc28gd2UgbmVlZCB0byB0byBwcm9jZXNzIGR5bmFtaWMgcm91dGVzIHByb3Blcmx5XG4gICAgLy8gVE9ETzogZml4IHR1cmJvcGFjayBwcm92aWRpbmcgZGlmZmVyaW5nIHZhbHVlIGZyb20gd2VicGFja1xuICAgIGlmIChwcm9jZXNzLmVudi5UVVJCT1BBQ0spIHtcbiAgICAgICAgc3JjUGFnZSA9IHNyY1BhZ2UucmVwbGFjZSgvXFwvaW5kZXgkLywgJycpIHx8ICcvJztcbiAgICB9IGVsc2UgaWYgKHNyY1BhZ2UgPT09ICcvaW5kZXgnKSB7XG4gICAgICAgIC8vIHdlIGFsd2F5cyBub3JtYWxpemUgL2luZGV4IHNwZWNpZmljYWxseVxuICAgICAgICBzcmNQYWdlID0gJy8nO1xuICAgIH1cbiAgICBjb25zdCBtdWx0aVpvbmVEcmFmdE1vZGUgPSBwcm9jZXNzLmVudi5fX05FWFRfTVVMVElfWk9ORV9EUkFGVF9NT0RFO1xuICAgIGNvbnN0IHByZXBhcmVSZXN1bHQgPSBhd2FpdCByb3V0ZU1vZHVsZS5wcmVwYXJlKHJlcSwgcmVzLCB7XG4gICAgICAgIHNyY1BhZ2UsXG4gICAgICAgIG11bHRpWm9uZURyYWZ0TW9kZVxuICAgIH0pO1xuICAgIGlmICghcHJlcGFyZVJlc3VsdCkge1xuICAgICAgICByZXMuc3RhdHVzQ29kZSA9IDQwMDtcbiAgICAgICAgcmVzLmVuZCgnQmFkIFJlcXVlc3QnKTtcbiAgICAgICAgY3R4LndhaXRVbnRpbCA9PSBudWxsID8gdm9pZCAwIDogY3R4LndhaXRVbnRpbC5jYWxsKGN0eCwgUHJvbWlzZS5yZXNvbHZlKCkpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgeyBidWlsZElkLCBwYXJhbXMsIG5leHRDb25maWcsIGlzRHJhZnRNb2RlLCBwcmVyZW5kZXJNYW5pZmVzdCwgcm91dGVyU2VydmVyQ29udGV4dCwgaXNPbkRlbWFuZFJldmFsaWRhdGUsIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkLCByZXNvbHZlZFBhdGhuYW1lIH0gPSBwcmVwYXJlUmVzdWx0O1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRTcmNQYWdlID0gbm9ybWFsaXplQXBwUGF0aChzcmNQYWdlKTtcbiAgICBsZXQgaXNJc3IgPSBCb29sZWFuKHByZXJlbmRlck1hbmlmZXN0LmR5bmFtaWNSb3V0ZXNbbm9ybWFsaXplZFNyY1BhZ2VdIHx8IHByZXJlbmRlck1hbmlmZXN0LnJvdXRlc1tyZXNvbHZlZFBhdGhuYW1lXSk7XG4gICAgaWYgKGlzSXNyICYmICFpc0RyYWZ0TW9kZSkge1xuICAgICAgICBjb25zdCBpc1ByZXJlbmRlcmVkID0gQm9vbGVhbihwcmVyZW5kZXJNYW5pZmVzdC5yb3V0ZXNbcmVzb2x2ZWRQYXRobmFtZV0pO1xuICAgICAgICBjb25zdCBwcmVyZW5kZXJJbmZvID0gcHJlcmVuZGVyTWFuaWZlc3QuZHluYW1pY1JvdXRlc1tub3JtYWxpemVkU3JjUGFnZV07XG4gICAgICAgIGlmIChwcmVyZW5kZXJJbmZvKSB7XG4gICAgICAgICAgICBpZiAocHJlcmVuZGVySW5mby5mYWxsYmFjayA9PT0gZmFsc2UgJiYgIWlzUHJlcmVuZGVyZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm9GYWxsYmFja0Vycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IGNhY2hlS2V5ID0gbnVsbDtcbiAgICBpZiAoaXNJc3IgJiYgIXJvdXRlTW9kdWxlLmlzRGV2ICYmICFpc0RyYWZ0TW9kZSkge1xuICAgICAgICBjYWNoZUtleSA9IHJlc29sdmVkUGF0aG5hbWU7XG4gICAgICAgIC8vIGVuc3VyZSAvaW5kZXggYW5kIC8gaXMgbm9ybWFsaXplZCB0byBvbmUga2V5XG4gICAgICAgIGNhY2hlS2V5ID0gY2FjaGVLZXkgPT09ICcvaW5kZXgnID8gJy8nIDogY2FjaGVLZXk7XG4gICAgfVxuICAgIGNvbnN0IHN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlID0gLy8gSWYgd2UncmUgaW4gZGV2ZWxvcG1lbnQsIHdlIGFsd2F5cyBzdXBwb3J0IGR5bmFtaWMgSFRNTFxuICAgIHJvdXRlTW9kdWxlLmlzRGV2ID09PSB0cnVlIHx8IC8vIElmIHRoaXMgaXMgbm90IFNTRyBvciBkb2VzIG5vdCBoYXZlIHN0YXRpYyBwYXRocywgdGhlbiBpdCBzdXBwb3J0c1xuICAgIC8vIGR5bmFtaWMgSFRNTC5cbiAgICAhaXNJc3I7XG4gICAgLy8gVGhpcyBpcyBhIHJldmFsaWRhdGlvbiByZXF1ZXN0IGlmIHRoZSByZXF1ZXN0IGlzIGZvciBhIHN0YXRpY1xuICAgIC8vIHBhZ2UgYW5kIGl0IGlzIG5vdCBiZWluZyByZXN1bWVkIGZyb20gYSBwb3N0cG9uZWQgcmVuZGVyIGFuZFxuICAgIC8vIGl0IGlzIG5vdCBhIGR5bmFtaWMgUlNDIHJlcXVlc3QgdGhlbiBpdCBpcyBhIHJldmFsaWRhdGlvblxuICAgIC8vIHJlcXVlc3QuXG4gICAgY29uc3QgaXNSZXZhbGlkYXRlID0gaXNJc3IgJiYgIXN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlO1xuICAgIGNvbnN0IG1ldGhvZCA9IHJlcS5tZXRob2QgfHwgJ0dFVCc7XG4gICAgY29uc3QgdHJhY2VyID0gZ2V0VHJhY2VyKCk7XG4gICAgY29uc3QgYWN0aXZlU3BhbiA9IHRyYWNlci5nZXRBY3RpdmVTY29wZVNwYW4oKTtcbiAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgICBwYXJhbXMsXG4gICAgICAgIHByZXJlbmRlck1hbmlmZXN0LFxuICAgICAgICByZW5kZXJPcHRzOiB7XG4gICAgICAgICAgICBleHBlcmltZW50YWw6IHtcbiAgICAgICAgICAgICAgICBjYWNoZUNvbXBvbmVudHM6IEJvb2xlYW4obmV4dENvbmZpZy5leHBlcmltZW50YWwuY2FjaGVDb21wb25lbnRzKSxcbiAgICAgICAgICAgICAgICBhdXRoSW50ZXJydXB0czogQm9vbGVhbihuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbC5hdXRoSW50ZXJydXB0cylcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdXBwb3J0c0R5bmFtaWNSZXNwb25zZSxcbiAgICAgICAgICAgIGluY3JlbWVudGFsQ2FjaGU6IGdldFJlcXVlc3RNZXRhKHJlcSwgJ2luY3JlbWVudGFsQ2FjaGUnKSxcbiAgICAgICAgICAgIGNhY2hlTGlmZVByb2ZpbGVzOiAoX25leHRDb25maWdfZXhwZXJpbWVudGFsID0gbmV4dENvbmZpZy5leHBlcmltZW50YWwpID09IG51bGwgPyB2b2lkIDAgOiBfbmV4dENvbmZpZ19leHBlcmltZW50YWwuY2FjaGVMaWZlLFxuICAgICAgICAgICAgaXNSZXZhbGlkYXRlLFxuICAgICAgICAgICAgd2FpdFVudGlsOiBjdHgud2FpdFVudGlsLFxuICAgICAgICAgICAgb25DbG9zZTogKGNiKT0+e1xuICAgICAgICAgICAgICAgIHJlcy5vbignY2xvc2UnLCBjYik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25BZnRlclRhc2tFcnJvcjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgb25JbnN0cnVtZW50YXRpb25SZXF1ZXN0RXJyb3I6IChlcnJvciwgX3JlcXVlc3QsIGVycm9yQ29udGV4dCk9PnJvdXRlTW9kdWxlLm9uUmVxdWVzdEVycm9yKHJlcSwgZXJyb3IsIGVycm9yQ29udGV4dCwgcm91dGVyU2VydmVyQ29udGV4dClcbiAgICAgICAgfSxcbiAgICAgICAgc2hhcmVkQ29udGV4dDoge1xuICAgICAgICAgICAgYnVpbGRJZFxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBub2RlTmV4dFJlcSA9IG5ldyBOb2RlTmV4dFJlcXVlc3QocmVxKTtcbiAgICBjb25zdCBub2RlTmV4dFJlcyA9IG5ldyBOb2RlTmV4dFJlc3BvbnNlKHJlcyk7XG4gICAgY29uc3QgbmV4dFJlcSA9IE5leHRSZXF1ZXN0QWRhcHRlci5mcm9tTm9kZU5leHRSZXF1ZXN0KG5vZGVOZXh0UmVxLCBzaWduYWxGcm9tTm9kZVJlc3BvbnNlKHJlcykpO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGludm9rZVJvdXRlTW9kdWxlID0gYXN5bmMgKHNwYW4pPT57XG4gICAgICAgICAgICByZXR1cm4gcm91dGVNb2R1bGUuaGFuZGxlKG5leHRSZXEsIGNvbnRleHQpLmZpbmFsbHkoKCk9PntcbiAgICAgICAgICAgICAgICBpZiAoIXNwYW4pIHJldHVybjtcbiAgICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAnaHR0cC5zdGF0dXNfY29kZSc6IHJlcy5zdGF0dXNDb2RlLFxuICAgICAgICAgICAgICAgICAgICAnbmV4dC5yc2MnOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RTcGFuQXR0cmlidXRlcyA9IHRyYWNlci5nZXRSb290U3BhbkF0dHJpYnV0ZXMoKTtcbiAgICAgICAgICAgICAgICAvLyBXZSB3ZXJlIHVuYWJsZSB0byBnZXQgYXR0cmlidXRlcywgcHJvYmFibHkgT1RFTCBpcyBub3QgZW5hYmxlZFxuICAgICAgICAgICAgICAgIGlmICghcm9vdFNwYW5BdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQuc3Bhbl90eXBlJykgIT09IEJhc2VTZXJ2ZXJTcGFuLmhhbmRsZVJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBVbmV4cGVjdGVkIHJvb3Qgc3BhbiB0eXBlICcke3Jvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQuc3Bhbl90eXBlJyl9Jy4gUGxlYXNlIHJlcG9ydCB0aGlzIE5leHQuanMgaXNzdWUgaHR0cHM6Ly9naXRodWIuY29tL3ZlcmNlbC9uZXh0LmpzYCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgcm91dGUgPSByb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnJvdXRlJyk7XG4gICAgICAgICAgICAgICAgaWYgKHJvdXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBgJHttZXRob2R9ICR7cm91dGV9YDtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICduZXh0LnJvdXRlJzogcm91dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5yb3V0ZSc6IHJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQuc3Bhbl9uYW1lJzogbmFtZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi51cGRhdGVOYW1lKG5hbWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4udXBkYXRlTmFtZShgJHttZXRob2R9ICR7cmVxLnVybH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaGFuZGxlUmVzcG9uc2UgPSBhc3luYyAoY3VycmVudFNwYW4pPT57XG4gICAgICAgICAgICB2YXIgX2NhY2hlRW50cnlfdmFsdWU7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZUdlbmVyYXRvciA9IGFzeW5jICh7IHByZXZpb3VzQ2FjaGVFbnRyeSB9KT0+e1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZ2V0UmVxdWVzdE1ldGEocmVxLCAnbWluaW1hbE1vZGUnKSAmJiBpc09uRGVtYW5kUmV2YWxpZGF0ZSAmJiByZXZhbGlkYXRlT25seUdlbmVyYXRlZCAmJiAhcHJldmlvdXNDYWNoZUVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzQ29kZSA9IDQwNDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uLWRlbWFuZCByZXZhbGlkYXRlIGFsd2F5cyBzZXRzIHRoaXMgaGVhZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCd4LW5leHRqcy1jYWNoZScsICdSRVZBTElEQVRFRCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmVuZCgnVGhpcyBwYWdlIGNvdWxkIG5vdCBiZSBmb3VuZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBpbnZva2VSb3V0ZU1vZHVsZShjdXJyZW50U3Bhbik7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5mZXRjaE1ldHJpY3MgPSBjb250ZXh0LnJlbmRlck9wdHMuZmV0Y2hNZXRyaWNzO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGVuZGluZ1dhaXRVbnRpbCA9IGNvbnRleHQucmVuZGVyT3B0cy5wZW5kaW5nV2FpdFVudGlsO1xuICAgICAgICAgICAgICAgICAgICAvLyBBdHRlbXB0IHVzaW5nIHByb3ZpZGVkIHdhaXRVbnRpbCBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXQncyBub3Qgd2UgZmFsbGJhY2sgdG8gc2VuZFJlc3BvbnNlJ3MgaGFuZGxpbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdXYWl0VW50aWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdHgud2FpdFVudGlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LndhaXRVbnRpbChwZW5kaW5nV2FpdFVudGlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nV2FpdFVudGlsID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlVGFncyA9IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRUYWdzO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcmVxdWVzdCBpcyBmb3IgYSBzdGF0aWMgcmVzcG9uc2UsIHdlIGNhbiBjYWNoZSBpdCBzbyBsb25nXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzIGl0J3Mgbm90IGVkZ2UuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0lzcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvcHkgdGhlIGhlYWRlcnMgZnJvbSB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gdG9Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyhyZXNwb25zZS5oZWFkZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWNoZVRhZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzW05FWFRfQ0FDSEVfVEFHU19IRUFERVJdID0gY2FjaGVUYWdzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoZWFkZXJzWydjb250ZW50LXR5cGUnXSAmJiBibG9iLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzWydjb250ZW50LXR5cGUnXSA9IGJsb2IudHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldmFsaWRhdGUgPSB0eXBlb2YgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFJldmFsaWRhdGUgPT09ICd1bmRlZmluZWQnIHx8IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRSZXZhbGlkYXRlID49IElORklOSVRFX0NBQ0hFID8gZmFsc2UgOiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkUmV2YWxpZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4cGlyZSA9IHR5cGVvZiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkRXhwaXJlID09PSAndW5kZWZpbmVkJyB8fCBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkRXhwaXJlID49IElORklOSVRFX0NBQ0hFID8gdW5kZWZpbmVkIDogY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgY2FjaGUgZW50cnkgZm9yIHRoZSByZXNwb25zZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlRW50cnkgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2luZDogQ2FjaGVkUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEJ1ZmZlci5mcm9tKGF3YWl0IGJsb2IuYXJyYXlCdWZmZXIoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBpcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlRW50cnk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZW5kIHJlc3BvbnNlIHdpdGhvdXQgY2FjaGluZyBpZiBub3QgSVNSXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZW5kUmVzcG9uc2Uobm9kZU5leHRSZXEsIG5vZGVOZXh0UmVzLCByZXNwb25zZSwgY29udGV4dC5yZW5kZXJPcHRzLnBlbmRpbmdXYWl0VW50aWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBhIGJhY2tncm91bmQgcmV2YWxpZGF0ZSB3ZSBuZWVkIHRvIHJlcG9ydFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcmVxdWVzdCBlcnJvciBoZXJlIGFzIGl0IHdvbid0IGJlIGJ1YmJsZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzQ2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogcHJldmlvdXNDYWNoZUVudHJ5LmlzU3RhbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHJvdXRlTW9kdWxlLm9uUmVxdWVzdEVycm9yKHJlcSwgZXJyLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVyS2luZDogJ0FwcCBSb3V0ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlUGF0aDogc3JjUGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZVR5cGU6ICdyb3V0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZVJlYXNvbjogZ2V0UmV2YWxpZGF0ZVJlYXNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcm91dGVyU2VydmVyQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBjYWNoZUVudHJ5ID0gYXdhaXQgcm91dGVNb2R1bGUuaGFuZGxlUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgICAgICBuZXh0Q29uZmlnLFxuICAgICAgICAgICAgICAgIGNhY2hlS2V5LFxuICAgICAgICAgICAgICAgIHJvdXRlS2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgICAgICAgICBpc0ZhbGxiYWNrOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwcmVyZW5kZXJNYW5pZmVzdCxcbiAgICAgICAgICAgICAgICBpc1JvdXRlUFBSRW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VHZW5lcmF0b3IsXG4gICAgICAgICAgICAgICAgd2FpdFVudGlsOiBjdHgud2FpdFVudGlsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IGNyZWF0ZSBhIGNhY2hlRW50cnkgZm9yIElTUlxuICAgICAgICAgICAgaWYgKCFpc0lzcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChjYWNoZUVudHJ5ID09IG51bGwgPyB2b2lkIDAgOiAoX2NhY2hlRW50cnlfdmFsdWUgPSBjYWNoZUVudHJ5LnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2NhY2hlRW50cnlfdmFsdWUua2luZCkgIT09IENhY2hlZFJvdXRlS2luZC5BUFBfUk9VVEUpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2NhY2hlRW50cnlfdmFsdWUxO1xuICAgICAgICAgICAgICAgIHRocm93IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgRXJyb3IoYEludmFyaWFudDogYXBwLXJvdXRlIHJlY2VpdmVkIGludmFsaWQgY2FjaGUgZW50cnkgJHtjYWNoZUVudHJ5ID09IG51bGwgPyB2b2lkIDAgOiAoX2NhY2hlRW50cnlfdmFsdWUxID0gY2FjaGVFbnRyeS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jYWNoZUVudHJ5X3ZhbHVlMS5raW5kfWApLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiRTcwMVwiLFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWdldFJlcXVlc3RNZXRhKHJlcSwgJ21pbmltYWxNb2RlJykpIHtcbiAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCd4LW5leHRqcy1jYWNoZScsIGlzT25EZW1hbmRSZXZhbGlkYXRlID8gJ1JFVkFMSURBVEVEJyA6IGNhY2hlRW50cnkuaXNNaXNzID8gJ01JU1MnIDogY2FjaGVFbnRyeS5pc1N0YWxlID8gJ1NUQUxFJyA6ICdISVQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIERyYWZ0IG1vZGUgc2hvdWxkIG5ldmVyIGJlIGNhY2hlZFxuICAgICAgICAgICAgaWYgKGlzRHJhZnRNb2RlKSB7XG4gICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcignQ2FjaGUtQ29udHJvbCcsICdwcml2YXRlLCBuby1jYWNoZSwgbm8tc3RvcmUsIG1heC1hZ2U9MCwgbXVzdC1yZXZhbGlkYXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gZnJvbU5vZGVPdXRnb2luZ0h0dHBIZWFkZXJzKGNhY2hlRW50cnkudmFsdWUuaGVhZGVycyk7XG4gICAgICAgICAgICBpZiAoIShnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpICYmIGlzSXNyKSkge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMuZGVsZXRlKE5FWFRfQ0FDSEVfVEFHU19IRUFERVIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgY2FjaGUgY29udHJvbCBpcyBhbHJlYWR5IHNldCBvbiB0aGUgcmVzcG9uc2Ugd2UgZG9uJ3RcbiAgICAgICAgICAgIC8vIG92ZXJyaWRlIGl0IHRvIGFsbG93IHVzZXJzIHRvIGN1c3RvbWl6ZSBpdCB2aWEgbmV4dC5jb25maWdcbiAgICAgICAgICAgIGlmIChjYWNoZUVudHJ5LmNhY2hlQ29udHJvbCAmJiAhcmVzLmdldEhlYWRlcignQ2FjaGUtQ29udHJvbCcpICYmICFoZWFkZXJzLmdldCgnQ2FjaGUtQ29udHJvbCcpKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0NhY2hlLUNvbnRyb2wnLCBnZXRDYWNoZUNvbnRyb2xIZWFkZXIoY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2wpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHNlbmRSZXNwb25zZShub2RlTmV4dFJlcSwgbm9kZU5leHRSZXMsIG5ldyBSZXNwb25zZShjYWNoZUVudHJ5LnZhbHVlLmJvZHksIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIHN0YXR1czogY2FjaGVFbnRyeS52YWx1ZS5zdGF0dXMgfHwgMjAwXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gVE9ETzogYWN0aXZlU3BhbiBjb2RlIHBhdGggaXMgZm9yIHdoZW4gd3JhcHBlZCBieVxuICAgICAgICAvLyBuZXh0LXNlcnZlciBjYW4gYmUgcmVtb3ZlZCB3aGVuIHRoaXMgaXMgbm8gbG9uZ2VyIHVzZWRcbiAgICAgICAgaWYgKGFjdGl2ZVNwYW4pIHtcbiAgICAgICAgICAgIGF3YWl0IGhhbmRsZVJlc3BvbnNlKGFjdGl2ZVNwYW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgdHJhY2VyLndpdGhQcm9wYWdhdGVkQ29udGV4dChyZXEuaGVhZGVycywgKCk9PnRyYWNlci50cmFjZShCYXNlU2VydmVyU3Bhbi5oYW5kbGVSZXF1ZXN0LCB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW5OYW1lOiBgJHttZXRob2R9ICR7cmVxLnVybH1gLFxuICAgICAgICAgICAgICAgICAgICBraW5kOiBTcGFuS2luZC5TRVJWRVIsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLm1ldGhvZCc6IG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLnRhcmdldCc6IHJlcS51cmxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGhhbmRsZVJlc3BvbnNlKSk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKCEoZXJyIGluc3RhbmNlb2YgTm9GYWxsYmFja0Vycm9yKSkge1xuICAgICAgICAgICAgYXdhaXQgcm91dGVNb2R1bGUub25SZXF1ZXN0RXJyb3IocmVxLCBlcnIsIHtcbiAgICAgICAgICAgICAgICByb3V0ZXJLaW5kOiAnQXBwIFJvdXRlcicsXG4gICAgICAgICAgICAgICAgcm91dGVQYXRoOiBub3JtYWxpemVkU3JjUGFnZSxcbiAgICAgICAgICAgICAgICByb3V0ZVR5cGU6ICdyb3V0ZScsXG4gICAgICAgICAgICAgICAgcmV2YWxpZGF0ZVJlYXNvbjogZ2V0UmV2YWxpZGF0ZVJlYXNvbih7XG4gICAgICAgICAgICAgICAgICAgIGlzUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV0aHJvdyBzbyB0aGF0IHdlIGNhbiBoYW5kbGUgc2VydmluZyBlcnJvciBwYWdlXG4gICAgICAgIC8vIElmIHRoaXMgaXMgZHVyaW5nIHN0YXRpYyBnZW5lcmF0aW9uLCB0aHJvdyB0aGUgZXJyb3IgYWdhaW4uXG4gICAgICAgIGlmIChpc0lzcikgdGhyb3cgZXJyO1xuICAgICAgICAvLyBPdGhlcndpc2UsIHNlbmQgYSA1MDAgcmVzcG9uc2UuXG4gICAgICAgIGF3YWl0IHNlbmRSZXNwb25zZShub2RlTmV4dFJlcSwgbm9kZU5leHRSZXMsIG5ldyBSZXNwb25zZShudWxsLCB7XG4gICAgICAgICAgICBzdGF0dXM6IDUwMFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fmessages%2Funread-count%2Froute&page=%2Fapi%2Fmessages%2Funread-count%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmessages%2Funread-count%2Froute.ts&appDir=%2Fhome%2Fryan%2FDocuments%2FProjects%2Fvic.band%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fryan%2FDocuments%2FProjects%2Fvic.band&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./server/db.ts":
/*!**********************!*\
  !*** ./server/db.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   queryClient: () => (/* binding */ queryClient)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_postgres_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/postgres-js */ \"(rsc)/./node_modules/drizzle-orm/postgres-js/driver.js\");\n/* harmony import */ var postgres__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! postgres */ \"(rsc)/./node_modules/postgres/src/index.js\");\n/* harmony import */ var _shared_schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @shared/schema */ \"(rsc)/./shared/schema.ts\");\n\n\n\nif (!process.env.DATABASE_URL) {\n    throw new Error(\"DATABASE_URL must be set. Did you forget to provision a database?\");\n}\nconst queryClient = (0,postgres__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(process.env.DATABASE_URL);\nconst db = (0,drizzle_orm_postgres_js__WEBPACK_IMPORTED_MODULE_2__.drizzle)(queryClient, {\n    schema: _shared_schema__WEBPACK_IMPORTED_MODULE_1__\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zZXJ2ZXIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBa0Q7QUFDbEI7QUFDUztBQUV6QyxJQUFJLENBQUNHLFFBQVFDLEdBQUcsQ0FBQ0MsWUFBWSxFQUFFO0lBQzdCLE1BQU0sSUFBSUMsTUFDUjtBQUVKO0FBRU8sTUFBTUMsY0FBY04sb0RBQVFBLENBQUNFLFFBQVFDLEdBQUcsQ0FBQ0MsWUFBWSxFQUFFO0FBQ3ZELE1BQU1HLEtBQUtSLGdFQUFPQSxDQUFDTyxhQUFhO0lBQUVMLE1BQU1BLDZDQUFBQTtBQUFDLEdBQUciLCJzb3VyY2VzIjpbIi9ob21lL3J5YW4vRG9jdW1lbnRzL1Byb2plY3RzL3ZpYy5iYW5kL3NlcnZlci9kYi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkcml6emxlIH0gZnJvbSBcImRyaXp6bGUtb3JtL3Bvc3RncmVzLWpzXCI7XG5pbXBvcnQgcG9zdGdyZXMgZnJvbSBcInBvc3RncmVzXCI7XG5pbXBvcnQgKiBhcyBzY2hlbWEgZnJvbSBcIkBzaGFyZWQvc2NoZW1hXCI7XG5cbmlmICghcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMKSB7XG4gIHRocm93IG5ldyBFcnJvcihcbiAgICBcIkRBVEFCQVNFX1VSTCBtdXN0IGJlIHNldC4gRGlkIHlvdSBmb3JnZXQgdG8gcHJvdmlzaW9uIGEgZGF0YWJhc2U/XCIsXG4gICk7XG59XG5cbmV4cG9ydCBjb25zdCBxdWVyeUNsaWVudCA9IHBvc3RncmVzKHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTCk7XG5leHBvcnQgY29uc3QgZGIgPSBkcml6emxlKHF1ZXJ5Q2xpZW50LCB7IHNjaGVtYSB9KTtcbiJdLCJuYW1lcyI6WyJkcml6emxlIiwicG9zdGdyZXMiLCJzY2hlbWEiLCJwcm9jZXNzIiwiZW52IiwiREFUQUJBU0VfVVJMIiwiRXJyb3IiLCJxdWVyeUNsaWVudCIsImRiIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./server/db.ts\n");

/***/ }),

/***/ "(rsc)/./server/storage.ts":
/*!***************************!*\
  !*** ./server/storage.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DatabaseStorage: () => (/* binding */ DatabaseStorage),\n/* harmony export */   storage: () => (/* binding */ storage)\n/* harmony export */ });\n/* harmony import */ var _shared_schema__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @shared/schema */ \"(rsc)/./shared/schema.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./db */ \"(rsc)/./server/db.ts\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/sql/expressions/conditions.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/sql/sql.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/sql/expressions/select.js\");\n\n\n\nclass DatabaseStorage {\n    // User operations\n    async getUser(id) {\n        const [user] = await _db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.users).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.users.id, id));\n        return user;\n    }\n    async getUserByEmail(email) {\n        const [user] = await _db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.users).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.users.email, email));\n        return user;\n    }\n    async upsertUser(userData) {\n        const [user] = await _db__WEBPACK_IMPORTED_MODULE_1__.db.insert(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.users).values(userData).onConflictDoUpdate({\n            target: _shared_schema__WEBPACK_IMPORTED_MODULE_0__.users.id,\n            set: {\n                ...userData,\n                updatedAt: new Date()\n            }\n        }).returning();\n        return user;\n    }\n    // Musician profile operations\n    async getMusicianProfiles(filters) {\n        const conditions = [\n            (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.musicianProfiles.isActive, true)\n        ];\n        if (filters) {\n            if (filters.location) {\n                conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.musicianProfiles.location, filters.location));\n            }\n            if (filters.experienceLevel) {\n                conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.musicianProfiles.experienceLevel, filters.experienceLevel));\n            }\n            if (filters.availability) {\n                conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.musicianProfiles.availability, filters.availability));\n            }\n            if (filters.instruments && filters.instruments.length > 0) {\n                conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.arrayOverlaps)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.musicianProfiles.instruments, filters.instruments));\n            }\n            if (filters.genres && filters.genres.length > 0) {\n                conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.arrayOverlaps)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.musicianProfiles.genres, filters.genres));\n            }\n            if (filters.searchQuery) {\n                const query = `%${filters.searchQuery}%`;\n                const searchCondition = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.or)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.ilike)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.musicianProfiles.name, query), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.ilike)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.musicianProfiles.bio, query), // Use array_to_string for array columns\n                (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.sql)`array_to_string(${_shared_schema__WEBPACK_IMPORTED_MODULE_0__.musicianProfiles.instruments}, ',') ILIKE ${query}`, (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.sql)`array_to_string(${_shared_schema__WEBPACK_IMPORTED_MODULE_0__.musicianProfiles.genres}, ',') ILIKE ${query}`);\n                if (searchCondition) {\n                    conditions.push(searchCondition);\n                }\n            }\n        }\n        return _db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.musicianProfiles).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.and)(...conditions)).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.desc)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.musicianProfiles.createdAt)).limit(filters?.limit || 50).offset(filters?.offset || 0);\n    }\n    async getMusicianProfile(id) {\n        const [profile] = await _db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.musicianProfiles).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.musicianProfiles.id, id));\n        return profile;\n    }\n    async getMusicianProfilesByUser(userId) {\n        return _db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.musicianProfiles).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.musicianProfiles.userId, userId)).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.desc)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.musicianProfiles.createdAt));\n    }\n    async createMusicianProfile(profile) {\n        const [created] = await _db__WEBPACK_IMPORTED_MODULE_1__.db.insert(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.musicianProfiles).values(profile).returning();\n        return created;\n    }\n    async updateMusicianProfile(id, profile) {\n        const [updated] = await _db__WEBPACK_IMPORTED_MODULE_1__.db.update(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.musicianProfiles).set({\n            ...profile,\n            updatedAt: new Date()\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.musicianProfiles.id, id)).returning();\n        return updated;\n    }\n    async deleteMusicianProfile(id) {\n        const result = await _db__WEBPACK_IMPORTED_MODULE_1__.db.delete(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.musicianProfiles).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.musicianProfiles.id, id)).returning();\n        return result.length > 0;\n    }\n    // Marketplace listing operations\n    async getMarketplaceListings(filters) {\n        const conditions = [\n            (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.marketplaceListings.isActive, true)\n        ];\n        if (filters) {\n            if (filters.location) {\n                conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.marketplaceListings.location, filters.location));\n            }\n            if (filters.category && filters.category.length > 0) {\n                if (filters.category.length === 1) {\n                    conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.marketplaceListings.category, filters.category[0]));\n                } else {\n                    const categoryConditions = filters.category.map((cat)=>(0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.marketplaceListings.category, cat));\n                    conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.or)(...categoryConditions));\n                }\n            }\n            if (filters.condition && filters.condition.length > 0) {\n                if (filters.condition.length === 1) {\n                    conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.marketplaceListings.condition, filters.condition[0]));\n                } else {\n                    const conditionConditions = filters.condition.map((cond)=>(0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.marketplaceListings.condition, cond));\n                    conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.or)(...conditionConditions));\n                }\n            }\n            if (filters.minPrice !== undefined) {\n                conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.gte)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.marketplaceListings.price, filters.minPrice));\n            }\n            if (filters.maxPrice !== undefined) {\n                conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.lte)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.marketplaceListings.price, filters.maxPrice));\n            }\n        }\n        return _db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.marketplaceListings).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.and)(...conditions)).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.desc)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.marketplaceListings.createdAt));\n    }\n    async getMarketplaceListing(id) {\n        const [listing] = await _db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.marketplaceListings).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.marketplaceListings.id, id));\n        return listing;\n    }\n    async getMarketplaceListingsByUser(userId) {\n        return _db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.marketplaceListings).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.marketplaceListings.userId, userId)).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.desc)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.marketplaceListings.createdAt));\n    }\n    async createMarketplaceListing(listing) {\n        const [created] = await _db__WEBPACK_IMPORTED_MODULE_1__.db.insert(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.marketplaceListings).values(listing).returning();\n        return created;\n    }\n    async updateMarketplaceListing(id, listing) {\n        const [updated] = await _db__WEBPACK_IMPORTED_MODULE_1__.db.update(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.marketplaceListings).set({\n            ...listing,\n            updatedAt: new Date()\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.marketplaceListings.id, id)).returning();\n        return updated;\n    }\n    async deleteMarketplaceListing(id) {\n        const result = await _db__WEBPACK_IMPORTED_MODULE_1__.db.delete(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.marketplaceListings).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.marketplaceListings.id, id)).returning();\n        return result.length > 0;\n    }\n    // Message operations\n    async getConversations(userId) {\n        const allMessages = await _db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.messages).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.or)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.messages.senderId, userId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.messages.receiverId, userId))).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.desc)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.messages.createdAt));\n        const conversationMap = new Map();\n        for (const message of allMessages){\n            const otherUserId = message.senderId === userId ? message.receiverId : message.senderId;\n            if (!conversationMap.has(otherUserId)) {\n                conversationMap.set(otherUserId, {\n                    messages: [],\n                    unreadCount: 0\n                });\n            }\n            const conv = conversationMap.get(otherUserId);\n            conv.messages.push(message);\n            if (message.receiverId === userId && !message.isRead) {\n                conv.unreadCount++;\n            }\n        }\n        const conversations = [];\n        const entries = Array.from(conversationMap.entries());\n        for (const [otherUserId, data] of entries){\n            const otherUser = await this.getUser(otherUserId);\n            if (otherUser) {\n                conversations.push({\n                    otherUser,\n                    lastMessage: data.messages[0],\n                    unreadCount: data.unreadCount\n                });\n            }\n        }\n        conversations.sort((a, b)=>new Date(b.lastMessage.createdAt).getTime() - new Date(a.lastMessage.createdAt).getTime());\n        return conversations;\n    }\n    async getConversation(userId, otherUserId) {\n        return _db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.messages).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.or)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.messages.senderId, userId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.messages.receiverId, otherUserId)), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.messages.senderId, otherUserId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.messages.receiverId, userId)))).orderBy(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.messages.createdAt);\n    }\n    async sendMessage(message) {\n        const [created] = await _db__WEBPACK_IMPORTED_MODULE_1__.db.insert(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.messages).values(message).returning();\n        return created;\n    }\n    async markMessagesAsRead(userId, otherUserId) {\n        await _db__WEBPACK_IMPORTED_MODULE_1__.db.update(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.messages).set({\n            isRead: true\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.messages.senderId, otherUserId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.messages.receiverId, userId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.messages.isRead, false)));\n    }\n    async getUnreadMessageCount(userId) {\n        const result = await _db__WEBPACK_IMPORTED_MODULE_1__.db.select({\n            count: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.sql)`count(*):: int`\n        }).from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.messages).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.messages.receiverId, userId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.messages.isRead, false)));\n        return result[0]?.count || 0;\n    }\n    // Review operations\n    async getReview(id) {\n        const [review] = await _db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.reviews).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.reviews.id, id));\n        return review;\n    }\n    async getReviewsForTarget(targetType, targetId) {\n        const reviewList = await _db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.reviews).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.reviews.targetType, targetType), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.reviews.targetId, targetId))).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.desc)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.reviews.createdAt));\n        const reviewsWithReviewers = [];\n        for (const review of reviewList){\n            const reviewer = await this.getUser(review.reviewerId);\n            reviewsWithReviewers.push({\n                ...review,\n                reviewer\n            });\n        }\n        return reviewsWithReviewers;\n    }\n    async getReviewsByUser(userId) {\n        return _db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.reviews).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.reviews.reviewerId, userId)).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.desc)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.reviews.createdAt));\n    }\n    async createReview(review) {\n        const [newReview] = await _db__WEBPACK_IMPORTED_MODULE_1__.db.insert(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.reviews).values(review).returning();\n        return newReview;\n    }\n    // Bands\n    async createBand(band) {\n        const [newBand] = await _db__WEBPACK_IMPORTED_MODULE_1__.db.insert(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.bands).values(band).returning();\n        return newBand;\n    }\n    async getBand(id) {\n        const [band] = await _db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.bands).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.bands.id, id));\n        return band;\n    }\n    async getBands(filters) {\n        const conditions = [\n            (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.bands.isActive, true)\n        ];\n        if (filters) {\n            if (filters.location) {\n                conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.ilike)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.bands.location, `%${filters.location}%`));\n            }\n            if (filters.searchQuery) {\n                const query = `%${filters.searchQuery}%`;\n                const searchCondition = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.or)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.ilike)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.bands.name, query), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.ilike)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.bands.bio, query), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.ilike)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.bands.location, query), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.sql)`array_to_string(${_shared_schema__WEBPACK_IMPORTED_MODULE_0__.bands.genres}, ',') ILIKE ${query}`);\n                if (searchCondition) {\n                    conditions.push(searchCondition);\n                }\n            }\n        }\n        return await _db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.bands).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.and)(...conditions));\n    }\n    async getBandsByUser(userId) {\n        return await _db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.bands).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.bands.userId, userId));\n    }\n    async updateBand(id, band) {\n        const [updated] = await _db__WEBPACK_IMPORTED_MODULE_1__.db.update(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.bands).set({\n            ...band,\n            updatedAt: new Date()\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.bands.id, id)).returning();\n        return updated;\n    }\n    // Band Members\n    async addBandMember(member) {\n        const [newMember] = await _db__WEBPACK_IMPORTED_MODULE_1__.db.insert(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.bandMembers).values(member).returning();\n        return newMember;\n    }\n    async removeBandMember(bandId, userId) {\n        const result = await _db__WEBPACK_IMPORTED_MODULE_1__.db.delete(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.bandMembers).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.bandMembers.bandId, bandId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.bandMembers.userId, userId))).returning();\n        return result.length > 0;\n    }\n    async getBandMembers(bandId) {\n        const members = await _db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.bandMembers).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.bandMembers.bandId, bandId));\n        const membersWithUsers = [];\n        for (const member of members){\n            const user = await this.getUser(member.userId);\n            if (user) {\n                membersWithUsers.push({\n                    ...member,\n                    user\n                });\n            }\n        }\n        return membersWithUsers;\n    }\n    async isBandAdmin(bandId, userId) {\n        // Check if owner\n        const band = await this.getBand(bandId);\n        if (band && band.userId === userId) return true;\n        // Check if admin member\n        const [member] = await _db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.bandMembers).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.bandMembers.bandId, bandId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.bandMembers.userId, userId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.bandMembers.role, 'admin')));\n        return !!member;\n    }\n    // Gigs\n    async createGig(gig) {\n        const [newGig] = await _db__WEBPACK_IMPORTED_MODULE_1__.db.insert(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.gigs).values(gig).returning();\n        return newGig;\n    }\n    async getGigs(filters) {\n        const conditions = [];\n        if (filters) {\n            if (filters.location) {\n                conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.ilike)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.gigs.location, `%${filters.location}%`));\n            }\n            if (filters.genre) {\n                conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.ilike)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.gigs.genre, `%${filters.genre}%`));\n            }\n            if (filters.date === 'upcoming') {\n                conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.gte)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.gigs.date, new Date()));\n            } else if (filters.date === 'past') {\n                conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.lt)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.gigs.date, new Date()));\n            }\n            if (filters.searchQuery) {\n                const query = `%${filters.searchQuery}%`;\n                conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.or)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.ilike)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.gigs.title, query), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.ilike)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.gigs.description, query), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.ilike)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.gigs.genre, query), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.ilike)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.gigs.location, query)));\n            }\n        }\n        return await _db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.gigs).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.and)(...conditions)).orderBy(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.gigs.date).limit(filters?.limit || 50).offset(filters?.offset || 0);\n    }\n    async getGigsByBand(bandId) {\n        return await _db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.gigs).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.gigs.bandId, bandId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.gte)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.gigs.date, new Date()))).orderBy(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.gigs.date);\n    }\n    async getGigsByMusician(musicianId) {\n        return await _db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.gigs).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.gigs.musicianId, musicianId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.gte)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.gigs.date, new Date()))).orderBy(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.gigs.date);\n    }\n    async updateReview(id, review) {\n        const [updated] = await _db__WEBPACK_IMPORTED_MODULE_1__.db.update(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.reviews).set({\n            ...review,\n            updatedAt: new Date()\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.reviews.id, id)).returning();\n        return updated;\n    }\n    async deleteReview(id) {\n        const result = await _db__WEBPACK_IMPORTED_MODULE_1__.db.delete(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.reviews).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.reviews.id, id)).returning();\n        return result.length > 0;\n    }\n    async getAverageRating(targetType, targetId) {\n        const result = await _db__WEBPACK_IMPORTED_MODULE_1__.db.select({\n            average: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.sql)`COALESCE(AVG(${_shared_schema__WEBPACK_IMPORTED_MODULE_0__.reviews.rating}), 0)::float`,\n            count: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.sql)`COUNT(*)::int`\n        }).from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.reviews).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.reviews.targetType, targetType), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.reviews.targetId, targetId)));\n        return {\n            average: result[0]?.average || 0,\n            count: result[0]?.count || 0\n        };\n    }\n    async hasUserReviewed(userId, targetType, targetId) {\n        const result = await _db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.reviews).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.reviews.reviewerId, userId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.reviews.targetType, targetType), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.reviews.targetId, targetId)));\n        return result.length > 0;\n    }\n    async checkRateLimit(userId, type, limit, windowSeconds) {\n        const now = new Date();\n        const windowStartThreshold = new Date(now.getTime() - windowSeconds * 1000);\n        const [record] = await _db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.rateLimits).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.rateLimits.userId, userId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.rateLimits.type, type)));\n        if (!record) {\n            // First time action\n            await _db__WEBPACK_IMPORTED_MODULE_1__.db.insert(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.rateLimits).values({\n                userId,\n                type,\n                hits: 1,\n                windowStart: now\n            });\n            return true;\n        }\n        if (record.windowStart < windowStartThreshold) {\n            // Window expired, reset\n            await _db__WEBPACK_IMPORTED_MODULE_1__.db.update(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.rateLimits).set({\n                hits: 1,\n                windowStart: now\n            }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.rateLimits.id, record.id));\n            return true;\n        }\n        if (record.hits >= limit) {\n            // Limit exceeded\n            return false;\n        }\n        // Increment\n        await _db__WEBPACK_IMPORTED_MODULE_1__.db.update(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.rateLimits).set({\n            hits: record.hits + 1\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.rateLimits.id, record.id));\n        return true;\n    }\n    // Notifications\n    async getNotifications(userId) {\n        return _db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.notifications).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.notifications.userId, userId)).orderBy((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.desc)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.notifications.createdAt));\n    }\n    async getUnreadNotificationCount(userId) {\n        const result = await _db__WEBPACK_IMPORTED_MODULE_1__.db.select({\n            count: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.sql)`count(*)::int`\n        }).from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.notifications).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.notifications.userId, userId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.notifications.isRead, false)));\n        return result[0]?.count || 0;\n    }\n    async createNotification(notification) {\n        const [created] = await _db__WEBPACK_IMPORTED_MODULE_1__.db.insert(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.notifications).values(notification).returning();\n        return created;\n    }\n    async markNotificationAsRead(id) {\n        await _db__WEBPACK_IMPORTED_MODULE_1__.db.update(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.notifications).set({\n            isRead: true\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.notifications.id, id));\n    }\n    async markAllNotificationsAsRead(userId) {\n        await _db__WEBPACK_IMPORTED_MODULE_1__.db.update(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.notifications).set({\n            isRead: true\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.notifications.userId, userId));\n    }\n    // Contact Requests\n    async createContactRequest(request) {\n        const [created] = await _db__WEBPACK_IMPORTED_MODULE_1__.db.insert(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.contactRequests).values(request).returning();\n        return created;\n    }\n    async getContactRequest(requesterId, recipientId) {\n        const [request] = await _db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.contactRequests).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.contactRequests.requesterId, requesterId), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.contactRequests.recipientId, recipientId)));\n        return request;\n    }\n    async getContactRequestById(id) {\n        const [request] = await _db__WEBPACK_IMPORTED_MODULE_1__.db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.contactRequests).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.contactRequests.id, id));\n        return request;\n    }\n    async updateContactRequestStatus(id, status) {\n        await _db__WEBPACK_IMPORTED_MODULE_1__.db.update(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.contactRequests).set({\n            status\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.contactRequests.id, id));\n    }\n    // Reports\n    async createReport(report) {\n        const [created] = await _db__WEBPACK_IMPORTED_MODULE_1__.db.insert(_shared_schema__WEBPACK_IMPORTED_MODULE_0__.reports).values(report).returning();\n        return created;\n    }\n}\nconst storage = new DatabaseStorage();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE1BQU0vSyxtQ0FBRUEsQ0FDTDBELE1BQU0sQ0FBQzNELDJEQUFlQSxFQUN0QjJCLEdBQUcsQ0FBQztZQUFFcUo7UUFBTyxHQUNiOUosS0FBSyxDQUFDaEIsK0NBQUVBLENBQUNGLDJEQUFlQSxDQUFDYyxFQUFFLEVBQUVBO0lBQ2xDO0lBRUEsVUFBVTtJQUNWLE1BQU1tSyxhQUFhQyxNQUFvQixFQUFtQjtRQUN4RCxNQUFNLENBQUMxSCxRQUFRLEdBQUcsTUFBTXZELG1DQUFFQSxDQUFDc0IsTUFBTSxDQUFDekIsbURBQU9BLEVBQUUwQixNQUFNLENBQUMwSixRQUFRcEosU0FBUztRQUNuRSxPQUFPMEI7SUFDVDtBQUNGO0FBR08sTUFBTTJILFVBQVUsSUFBSXZLLGtCQUFrQiIsInNvdXJjZXMiOlsiL2hvbWUvcnlhbi9Eb2N1bWVudHMvUHJvamVjdHMvdmljLmJhbmQvc2VydmVyL3N0b3JhZ2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgdXNlcnMsXG4gIG11c2ljaWFuUHJvZmlsZXMsXG4gIG1hcmtldHBsYWNlTGlzdGluZ3MsXG4gIG1lc3NhZ2VzLFxuICByZXZpZXdzLFxuICBiYW5kcyxcbiAgYmFuZE1lbWJlcnMsXG4gIGdpZ3MsXG4gIHJhdGVMaW1pdHMsXG4gIHR5cGUgVXNlcixcbiAgdHlwZSBVcHNlcnRVc2VyLFxuICAvLyBJbnNlcnRVc2VyIHJlbW92ZWRcbiAgdHlwZSBNdXNpY2lhblByb2ZpbGUsXG4gIHR5cGUgSW5zZXJ0TXVzaWNpYW5Qcm9maWxlLFxuICB0eXBlIE1hcmtldHBsYWNlTGlzdGluZyxcbiAgdHlwZSBJbnNlcnRNYXJrZXRwbGFjZUxpc3RpbmcsXG4gIHR5cGUgTWVzc2FnZSxcbiAgdHlwZSBJbnNlcnRNZXNzYWdlLFxuICB0eXBlIENvbnZlcnNhdGlvbixcbiAgLy8gUm9vbSByZW1vdmVkXG4gIHR5cGUgUmV2aWV3LFxuICB0eXBlIEluc2VydFJldmlldyxcbiAgdHlwZSBSZXZpZXdXaXRoUmV2aWV3ZXIsXG4gIHR5cGUgQmFuZCxcbiAgdHlwZSBJbnNlcnRCYW5kLFxuICB0eXBlIEJhbmRNZW1iZXIsXG4gIHR5cGUgSW5zZXJ0QmFuZE1lbWJlcixcbiAgdHlwZSBCYW5kTWVtYmVyV2l0aFVzZXIsXG4gIHR5cGUgR2lnLFxuICB0eXBlIEluc2VydEdpZyxcbiAgcmVwb3J0cyxcbiAgdHlwZSBSZXBvcnQsXG4gIHR5cGUgSW5zZXJ0UmVwb3J0LFxuICBub3RpZmljYXRpb25zLFxuICB0eXBlIE5vdGlmaWNhdGlvbixcbiAgdHlwZSBJbnNlcnROb3RpZmljYXRpb24sXG4gIGNvbnRhY3RSZXF1ZXN0cyxcbiAgdHlwZSBDb250YWN0UmVxdWVzdCxcbiAgdHlwZSBJbnNlcnRDb250YWN0UmVxdWVzdCxcbn0gZnJvbSBcIkBzaGFyZWQvc2NoZW1hXCI7XG5pbXBvcnQgeyBkYiB9IGZyb20gXCIuL2RiXCI7XG5pbXBvcnQgeyBlcSwgYW5kLCBkZXNjLCBvciwgc3FsLCBuZSwgZ3RlLCBsdGUsIGFycmF5T3ZlcmxhcHMsIGlsaWtlLCBsdCB9IGZyb20gXCJkcml6emxlLW9ybVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIE11c2ljaWFuRmlsdGVycyB7XG4gIGxvY2F0aW9uPzogc3RyaW5nO1xuICBpbnN0cnVtZW50cz86IHN0cmluZ1tdO1xuICBnZW5yZXM/OiBzdHJpbmdbXTtcbiAgZXhwZXJpZW5jZUxldmVsPzogc3RyaW5nO1xuICBhdmFpbGFiaWxpdHk/OiBzdHJpbmc7XG4gIHNlYXJjaFF1ZXJ5Pzogc3RyaW5nO1xuICBsaW1pdD86IG51bWJlcjtcbiAgb2Zmc2V0PzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1hcmtldHBsYWNlRmlsdGVycyB7XG4gIGxvY2F0aW9uPzogc3RyaW5nO1xuICBjYXRlZ29yeT86IHN0cmluZ1tdO1xuICBjb25kaXRpb24/OiBzdHJpbmdbXTtcbiAgbWluUHJpY2U/OiBudW1iZXI7XG4gIG1heFByaWNlPzogbnVtYmVyO1xuICBsaW1pdD86IG51bWJlcjtcbiAgb2Zmc2V0PzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdpZ0ZpbHRlcnMge1xuICBsb2NhdGlvbj86IHN0cmluZztcbiAgZGF0ZT86IHN0cmluZzsgLy8gJ3VwY29taW5nJywgJ3Bhc3QnLCAndG9kYXknXG4gIGdlbnJlPzogc3RyaW5nO1xuICBzZWFyY2hRdWVyeT86IHN0cmluZztcbiAgbGltaXQ/OiBudW1iZXI7XG4gIG9mZnNldD86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCYW5kRmlsdGVycyBleHRlbmRzIFBhcnRpYWw8QmFuZD4ge1xuICBzZWFyY2hRdWVyeT86IHN0cmluZztcbiAgbGltaXQ/OiBudW1iZXI7XG4gIG9mZnNldD86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJU3RvcmFnZSB7XG4gIC8vIFVzZXIgb3BlcmF0aW9ucyAocmVxdWlyZWQgZm9yIFJlcGxpdCBBdXRoKVxuICBnZXRVc2VyKGlkOiBzdHJpbmcpOiBQcm9taXNlPFVzZXIgfCB1bmRlZmluZWQ+O1xuICBnZXRVc2VyQnlFbWFpbChlbWFpbDogc3RyaW5nKTogUHJvbWlzZTxVc2VyIHwgdW5kZWZpbmVkPjtcbiAgdXBzZXJ0VXNlcih1c2VyOiBVcHNlcnRVc2VyKTogUHJvbWlzZTxVc2VyPjtcblxuICAvLyBNdXNpY2lhbiBwcm9maWxlIG9wZXJhdGlvbnNcbiAgZ2V0TXVzaWNpYW5Qcm9maWxlcyhmaWx0ZXJzPzogTXVzaWNpYW5GaWx0ZXJzKTogUHJvbWlzZTxNdXNpY2lhblByb2ZpbGVbXT47XG4gIGdldE11c2ljaWFuUHJvZmlsZShpZDogc3RyaW5nKTogUHJvbWlzZTxNdXNpY2lhblByb2ZpbGUgfCB1bmRlZmluZWQ+O1xuICBnZXRNdXNpY2lhblByb2ZpbGVzQnlVc2VyKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxNdXNpY2lhblByb2ZpbGVbXT47XG4gIGNyZWF0ZU11c2ljaWFuUHJvZmlsZShwcm9maWxlOiBJbnNlcnRNdXNpY2lhblByb2ZpbGUpOiBQcm9taXNlPE11c2ljaWFuUHJvZmlsZT47XG4gIHVwZGF0ZU11c2ljaWFuUHJvZmlsZShpZDogc3RyaW5nLCBwcm9maWxlOiBQYXJ0aWFsPEluc2VydE11c2ljaWFuUHJvZmlsZT4pOiBQcm9taXNlPE11c2ljaWFuUHJvZmlsZSB8IHVuZGVmaW5lZD47XG4gIGRlbGV0ZU11c2ljaWFuUHJvZmlsZShpZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPjtcblxuICAvLyBNYXJrZXRwbGFjZSBsaXN0aW5nIG9wZXJhdGlvbnNcbiAgZ2V0TWFya2V0cGxhY2VMaXN0aW5ncyhmaWx0ZXJzPzogTWFya2V0cGxhY2VGaWx0ZXJzKTogUHJvbWlzZTxNYXJrZXRwbGFjZUxpc3RpbmdbXT47XG4gIGdldE1hcmtldHBsYWNlTGlzdGluZyhpZDogc3RyaW5nKTogUHJvbWlzZTxNYXJrZXRwbGFjZUxpc3RpbmcgfCB1bmRlZmluZWQ+O1xuICBnZXRNYXJrZXRwbGFjZUxpc3RpbmdzQnlVc2VyKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxNYXJrZXRwbGFjZUxpc3RpbmdbXT47XG4gIGNyZWF0ZU1hcmtldHBsYWNlTGlzdGluZyhsaXN0aW5nOiBJbnNlcnRNYXJrZXRwbGFjZUxpc3RpbmcpOiBQcm9taXNlPE1hcmtldHBsYWNlTGlzdGluZz47XG5cbiAgLy8gTm90aWZpY2F0aW9uc1xuICBnZXROb3RpZmljYXRpb25zKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxOb3RpZmljYXRpb25bXT47XG4gIGdldFVucmVhZE5vdGlmaWNhdGlvbkNvdW50KHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxudW1iZXI+O1xuICBjcmVhdGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uOiBJbnNlcnROb3RpZmljYXRpb24pOiBQcm9taXNlPE5vdGlmaWNhdGlvbj47XG4gIG1hcmtOb3RpZmljYXRpb25Bc1JlYWQoaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD47XG4gIG1hcmtBbGxOb3RpZmljYXRpb25zQXNSZWFkKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPjtcblxuICAvLyBDb250YWN0IFJlcXVlc3RzXG4gIGNyZWF0ZUNvbnRhY3RSZXF1ZXN0KHJlcXVlc3Q6IEluc2VydENvbnRhY3RSZXF1ZXN0KTogUHJvbWlzZTxDb250YWN0UmVxdWVzdD47XG4gIGdldENvbnRhY3RSZXF1ZXN0KHJlcXVlc3RlcklkOiBzdHJpbmcsIHJlY2lwaWVudElkOiBzdHJpbmcpOiBQcm9taXNlPENvbnRhY3RSZXF1ZXN0IHwgdW5kZWZpbmVkPjtcbiAgZ2V0Q29udGFjdFJlcXVlc3RCeUlkKGlkOiBzdHJpbmcpOiBQcm9taXNlPENvbnRhY3RSZXF1ZXN0IHwgdW5kZWZpbmVkPjtcbiAgdXBkYXRlQ29udGFjdFJlcXVlc3RTdGF0dXMoaWQ6IHN0cmluZywgc3RhdHVzOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+O1xuICB1cGRhdGVNYXJrZXRwbGFjZUxpc3RpbmcoaWQ6IHN0cmluZywgbGlzdGluZzogUGFydGlhbDxJbnNlcnRNYXJrZXRwbGFjZUxpc3Rpbmc+KTogUHJvbWlzZTxNYXJrZXRwbGFjZUxpc3RpbmcgfCB1bmRlZmluZWQ+O1xuICBkZWxldGVNYXJrZXRwbGFjZUxpc3RpbmcoaWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj47XG5cbiAgLy8gTWVzc2FnZSBvcGVyYXRpb25zXG4gIGdldENvbnZlcnNhdGlvbnModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPENvbnZlcnNhdGlvbltdPjtcbiAgZ2V0Q29udmVyc2F0aW9uKHVzZXJJZDogc3RyaW5nLCBvdGhlclVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxNZXNzYWdlW10+O1xuICBzZW5kTWVzc2FnZShtZXNzYWdlOiBJbnNlcnRNZXNzYWdlKTogUHJvbWlzZTxNZXNzYWdlPjtcbiAgbWFya01lc3NhZ2VzQXNSZWFkKHVzZXJJZDogc3RyaW5nLCBvdGhlclVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPjtcbiAgZ2V0VW5yZWFkTWVzc2FnZUNvdW50KHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxudW1iZXI+O1xuXG4gIC8vIFJldmlldyBvcGVyYXRpb25zXG4gIGdldFJldmlldyhpZDogc3RyaW5nKTogUHJvbWlzZTxSZXZpZXcgfCB1bmRlZmluZWQ+O1xuICBnZXRSZXZpZXdzRm9yVGFyZ2V0KHRhcmdldFR5cGU6IHN0cmluZywgdGFyZ2V0SWQ6IHN0cmluZyk6IFByb21pc2U8UmV2aWV3V2l0aFJldmlld2VyW10+O1xuICBnZXRSZXZpZXdzQnlVc2VyKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxSZXZpZXdbXT47XG4gIGNyZWF0ZVJldmlldyhyZXZpZXc6IEluc2VydFJldmlldyk6IFByb21pc2U8UmV2aWV3PjtcbiAgdXBkYXRlUmV2aWV3KGlkOiBzdHJpbmcsIHJldmlldzogUGFydGlhbDxJbnNlcnRSZXZpZXc+KTogUHJvbWlzZTxSZXZpZXcgfCB1bmRlZmluZWQ+O1xuICBkZWxldGVSZXZpZXcoaWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj47XG4gIGdldEF2ZXJhZ2VSYXRpbmcodGFyZ2V0VHlwZTogc3RyaW5nLCB0YXJnZXRJZDogc3RyaW5nKTogUHJvbWlzZTx7IGF2ZXJhZ2U6IG51bWJlcjsgY291bnQ6IG51bWJlciB9PjtcbiAgaGFzVXNlclJldmlld2VkKHVzZXJJZDogc3RyaW5nLCB0YXJnZXRUeXBlOiBzdHJpbmcsIHRhcmdldElkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+O1xuXG4gIC8vIEJhbmQgb3BlcmF0aW9uc1xuICBjcmVhdGVCYW5kKGJhbmQ6IEluc2VydEJhbmQpOiBQcm9taXNlPEJhbmQ+O1xuICBnZXRCYW5kKGlkOiBzdHJpbmcpOiBQcm9taXNlPEJhbmQgfCB1bmRlZmluZWQ+O1xuICBnZXRCYW5kcyhmaWx0ZXJzPzogQmFuZEZpbHRlcnMpOiBQcm9taXNlPEJhbmRbXT47XG4gIGdldEJhbmRzQnlVc2VyKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxCYW5kW10+O1xuICB1cGRhdGVCYW5kKGlkOiBzdHJpbmcsIGJhbmQ6IFBhcnRpYWw8SW5zZXJ0QmFuZD4pOiBQcm9taXNlPEJhbmQgfCB1bmRlZmluZWQ+O1xuXG4gIC8vIEJhbmQgTWVtYmVyc1xuICBhZGRCYW5kTWVtYmVyKG1lbWJlcjogSW5zZXJ0QmFuZE1lbWJlcik6IFByb21pc2U8QmFuZE1lbWJlcj47XG4gIHJlbW92ZUJhbmRNZW1iZXIoYmFuZElkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPjtcbiAgZ2V0QmFuZE1lbWJlcnMoYmFuZElkOiBzdHJpbmcpOiBQcm9taXNlPEJhbmRNZW1iZXJXaXRoVXNlcltdPjtcbiAgaXNCYW5kQWRtaW4oYmFuZElkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPjtcblxuICAvLyBHaWdzXG4gIGNyZWF0ZUdpZyhnaWc6IEluc2VydEdpZyk6IFByb21pc2U8R2lnPjtcbiAgZ2V0R2lncyhmaWx0ZXJzPzogR2lnRmlsdGVycyk6IFByb21pc2U8R2lnW10+O1xuICBnZXRHaWdzQnlCYW5kKGJhbmRJZDogc3RyaW5nKTogUHJvbWlzZTxHaWdbXT47XG4gIGdldEdpZ3NCeU11c2ljaWFuKG11c2ljaWFuSWQ6IHN0cmluZyk6IFByb21pc2U8R2lnW10+O1xuXG4gIC8vIFNlY3VyaXR5XG4gIGNoZWNrUmF0ZUxpbWl0KHVzZXJJZDogc3RyaW5nLCB0eXBlOiBzdHJpbmcsIGxpbWl0OiBudW1iZXIsIHdpbmRvd1NlY29uZHM6IG51bWJlcik6IFByb21pc2U8Ym9vbGVhbj47XG5cbiAgLy8gUmVwb3J0c1xuICBjcmVhdGVSZXBvcnQocmVwb3J0OiBJbnNlcnRSZXBvcnQpOiBQcm9taXNlPFJlcG9ydD47XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhYmFzZVN0b3JhZ2UgaW1wbGVtZW50cyBJU3RvcmFnZSB7XG4gIC8vIFVzZXIgb3BlcmF0aW9uc1xuICBhc3luYyBnZXRVc2VyKGlkOiBzdHJpbmcpOiBQcm9taXNlPFVzZXIgfCB1bmRlZmluZWQ+IHtcbiAgICBjb25zdCBbdXNlcl0gPSBhd2FpdCBkYi5zZWxlY3QoKS5mcm9tKHVzZXJzKS53aGVyZShlcSh1c2Vycy5pZCwgaWQpKTtcbiAgICByZXR1cm4gdXNlcjtcbiAgfVxuXG4gIGFzeW5jIGdldFVzZXJCeUVtYWlsKGVtYWlsOiBzdHJpbmcpOiBQcm9taXNlPFVzZXIgfCB1bmRlZmluZWQ+IHtcbiAgICBjb25zdCBbdXNlcl0gPSBhd2FpdCBkYi5zZWxlY3QoKS5mcm9tKHVzZXJzKS53aGVyZShlcSh1c2Vycy5lbWFpbCwgZW1haWwpKTtcbiAgICByZXR1cm4gdXNlcjtcbiAgfVxuXG4gIGFzeW5jIHVwc2VydFVzZXIodXNlckRhdGE6IFVwc2VydFVzZXIpOiBQcm9taXNlPFVzZXI+IHtcbiAgICBjb25zdCBbdXNlcl0gPSBhd2FpdCBkYlxuICAgICAgLmluc2VydCh1c2VycylcbiAgICAgIC52YWx1ZXModXNlckRhdGEpXG4gICAgICAub25Db25mbGljdERvVXBkYXRlKHtcbiAgICAgICAgdGFyZ2V0OiB1c2Vycy5pZCxcbiAgICAgICAgc2V0OiB7XG4gICAgICAgICAgLi4udXNlckRhdGEsXG4gICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICAgIC5yZXR1cm5pbmcoKTtcbiAgICByZXR1cm4gdXNlcjtcbiAgfVxuXG4gIC8vIE11c2ljaWFuIHByb2ZpbGUgb3BlcmF0aW9uc1xuICBhc3luYyBnZXRNdXNpY2lhblByb2ZpbGVzKGZpbHRlcnM/OiBNdXNpY2lhbkZpbHRlcnMpOiBQcm9taXNlPE11c2ljaWFuUHJvZmlsZVtdPiB7XG4gICAgY29uc3QgY29uZGl0aW9ucyA9IFtlcShtdXNpY2lhblByb2ZpbGVzLmlzQWN0aXZlLCB0cnVlKV07XG5cbiAgICBpZiAoZmlsdGVycykge1xuICAgICAgaWYgKGZpbHRlcnMubG9jYXRpb24pIHtcbiAgICAgICAgY29uZGl0aW9ucy5wdXNoKGVxKG11c2ljaWFuUHJvZmlsZXMubG9jYXRpb24sIGZpbHRlcnMubG9jYXRpb24pKTtcbiAgICAgIH1cbiAgICAgIGlmIChmaWx0ZXJzLmV4cGVyaWVuY2VMZXZlbCkge1xuICAgICAgICBjb25kaXRpb25zLnB1c2goZXEobXVzaWNpYW5Qcm9maWxlcy5leHBlcmllbmNlTGV2ZWwsIGZpbHRlcnMuZXhwZXJpZW5jZUxldmVsKSk7XG4gICAgICB9XG4gICAgICBpZiAoZmlsdGVycy5hdmFpbGFiaWxpdHkpIHtcbiAgICAgICAgY29uZGl0aW9ucy5wdXNoKGVxKG11c2ljaWFuUHJvZmlsZXMuYXZhaWxhYmlsaXR5LCBmaWx0ZXJzLmF2YWlsYWJpbGl0eSkpO1xuICAgICAgfVxuICAgICAgaWYgKGZpbHRlcnMuaW5zdHJ1bWVudHMgJiYgZmlsdGVycy5pbnN0cnVtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbmRpdGlvbnMucHVzaChhcnJheU92ZXJsYXBzKG11c2ljaWFuUHJvZmlsZXMuaW5zdHJ1bWVudHMsIGZpbHRlcnMuaW5zdHJ1bWVudHMpKTtcbiAgICAgIH1cbiAgICAgIGlmIChmaWx0ZXJzLmdlbnJlcyAmJiBmaWx0ZXJzLmdlbnJlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbmRpdGlvbnMucHVzaChhcnJheU92ZXJsYXBzKG11c2ljaWFuUHJvZmlsZXMuZ2VucmVzLCBmaWx0ZXJzLmdlbnJlcykpO1xuICAgICAgfVxuICAgICAgaWYgKGZpbHRlcnMuc2VhcmNoUXVlcnkpIHtcbiAgICAgICAgY29uc3QgcXVlcnkgPSBgJSR7ZmlsdGVycy5zZWFyY2hRdWVyeX0lYDtcbiAgICAgICAgY29uc3Qgc2VhcmNoQ29uZGl0aW9uID0gb3IoXG4gICAgICAgICAgaWxpa2UobXVzaWNpYW5Qcm9maWxlcy5uYW1lLCBxdWVyeSksXG4gICAgICAgICAgaWxpa2UobXVzaWNpYW5Qcm9maWxlcy5iaW8sIHF1ZXJ5KSxcbiAgICAgICAgICAvLyBVc2UgYXJyYXlfdG9fc3RyaW5nIGZvciBhcnJheSBjb2x1bW5zXG4gICAgICAgICAgc3FsYGFycmF5X3RvX3N0cmluZygke211c2ljaWFuUHJvZmlsZXMuaW5zdHJ1bWVudHN9LCAnLCcpIElMSUtFICR7cXVlcnl9YCxcbiAgICAgICAgICBzcWxgYXJyYXlfdG9fc3RyaW5nKCR7bXVzaWNpYW5Qcm9maWxlcy5nZW5yZXN9LCAnLCcpIElMSUtFICR7cXVlcnl9YFxuICAgICAgICApO1xuICAgICAgICBpZiAoc2VhcmNoQ29uZGl0aW9uKSB7XG4gICAgICAgICAgY29uZGl0aW9ucy5wdXNoKHNlYXJjaENvbmRpdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGJcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLmZyb20obXVzaWNpYW5Qcm9maWxlcylcbiAgICAgIC53aGVyZShhbmQoLi4uY29uZGl0aW9ucykpXG4gICAgICAub3JkZXJCeShkZXNjKG11c2ljaWFuUHJvZmlsZXMuY3JlYXRlZEF0KSlcbiAgICAgIC5saW1pdChmaWx0ZXJzPy5saW1pdCB8fCA1MClcbiAgICAgIC5vZmZzZXQoZmlsdGVycz8ub2Zmc2V0IHx8IDApO1xuICB9XG5cbiAgYXN5bmMgZ2V0TXVzaWNpYW5Qcm9maWxlKGlkOiBzdHJpbmcpOiBQcm9taXNlPE11c2ljaWFuUHJvZmlsZSB8IHVuZGVmaW5lZD4ge1xuICAgIGNvbnN0IFtwcm9maWxlXSA9IGF3YWl0IGRiXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5mcm9tKG11c2ljaWFuUHJvZmlsZXMpXG4gICAgICAud2hlcmUoZXEobXVzaWNpYW5Qcm9maWxlcy5pZCwgaWQpKTtcbiAgICByZXR1cm4gcHJvZmlsZTtcbiAgfVxuXG4gIGFzeW5jIGdldE11c2ljaWFuUHJvZmlsZXNCeVVzZXIodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPE11c2ljaWFuUHJvZmlsZVtdPiB7XG4gICAgcmV0dXJuIGRiXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5mcm9tKG11c2ljaWFuUHJvZmlsZXMpXG4gICAgICAud2hlcmUoZXEobXVzaWNpYW5Qcm9maWxlcy51c2VySWQsIHVzZXJJZCkpXG4gICAgICAub3JkZXJCeShkZXNjKG11c2ljaWFuUHJvZmlsZXMuY3JlYXRlZEF0KSk7XG4gIH1cblxuICBhc3luYyBjcmVhdGVNdXNpY2lhblByb2ZpbGUocHJvZmlsZTogSW5zZXJ0TXVzaWNpYW5Qcm9maWxlKTogUHJvbWlzZTxNdXNpY2lhblByb2ZpbGU+IHtcbiAgICBjb25zdCBbY3JlYXRlZF0gPSBhd2FpdCBkYlxuICAgICAgLmluc2VydChtdXNpY2lhblByb2ZpbGVzKVxuICAgICAgLnZhbHVlcyhwcm9maWxlKVxuICAgICAgLnJldHVybmluZygpO1xuICAgIHJldHVybiBjcmVhdGVkO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlTXVzaWNpYW5Qcm9maWxlKGlkOiBzdHJpbmcsIHByb2ZpbGU6IFBhcnRpYWw8SW5zZXJ0TXVzaWNpYW5Qcm9maWxlPik6IFByb21pc2U8TXVzaWNpYW5Qcm9maWxlIHwgdW5kZWZpbmVkPiB7XG4gICAgY29uc3QgW3VwZGF0ZWRdID0gYXdhaXQgZGJcbiAgICAgIC51cGRhdGUobXVzaWNpYW5Qcm9maWxlcylcbiAgICAgIC5zZXQoeyAuLi5wcm9maWxlLCB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkgfSlcbiAgICAgIC53aGVyZShlcShtdXNpY2lhblByb2ZpbGVzLmlkLCBpZCkpXG4gICAgICAucmV0dXJuaW5nKCk7XG4gICAgcmV0dXJuIHVwZGF0ZWQ7XG4gIH1cblxuICBhc3luYyBkZWxldGVNdXNpY2lhblByb2ZpbGUoaWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiXG4gICAgICAuZGVsZXRlKG11c2ljaWFuUHJvZmlsZXMpXG4gICAgICAud2hlcmUoZXEobXVzaWNpYW5Qcm9maWxlcy5pZCwgaWQpKVxuICAgICAgLnJldHVybmluZygpO1xuICAgIHJldHVybiByZXN1bHQubGVuZ3RoID4gMDtcbiAgfVxuXG4gIC8vIE1hcmtldHBsYWNlIGxpc3Rpbmcgb3BlcmF0aW9uc1xuICBhc3luYyBnZXRNYXJrZXRwbGFjZUxpc3RpbmdzKGZpbHRlcnM/OiBNYXJrZXRwbGFjZUZpbHRlcnMpOiBQcm9taXNlPE1hcmtldHBsYWNlTGlzdGluZ1tdPiB7XG4gICAgY29uc3QgY29uZGl0aW9ucyA9IFtlcShtYXJrZXRwbGFjZUxpc3RpbmdzLmlzQWN0aXZlLCB0cnVlKV07XG5cbiAgICBpZiAoZmlsdGVycykge1xuICAgICAgaWYgKGZpbHRlcnMubG9jYXRpb24pIHtcbiAgICAgICAgY29uZGl0aW9ucy5wdXNoKGVxKG1hcmtldHBsYWNlTGlzdGluZ3MubG9jYXRpb24sIGZpbHRlcnMubG9jYXRpb24pKTtcbiAgICAgIH1cbiAgICAgIGlmIChmaWx0ZXJzLmNhdGVnb3J5ICYmIGZpbHRlcnMuY2F0ZWdvcnkubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAoZmlsdGVycy5jYXRlZ29yeS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBjb25kaXRpb25zLnB1c2goZXEobWFya2V0cGxhY2VMaXN0aW5ncy5jYXRlZ29yeSwgZmlsdGVycy5jYXRlZ29yeVswXSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGNhdGVnb3J5Q29uZGl0aW9ucyA9IGZpbHRlcnMuY2F0ZWdvcnkubWFwKGNhdCA9PlxuICAgICAgICAgICAgZXEobWFya2V0cGxhY2VMaXN0aW5ncy5jYXRlZ29yeSwgY2F0KVxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uZGl0aW9ucy5wdXNoKG9yKC4uLmNhdGVnb3J5Q29uZGl0aW9ucykhKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGZpbHRlcnMuY29uZGl0aW9uICYmIGZpbHRlcnMuY29uZGl0aW9uLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKGZpbHRlcnMuY29uZGl0aW9uLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIGNvbmRpdGlvbnMucHVzaChlcShtYXJrZXRwbGFjZUxpc3RpbmdzLmNvbmRpdGlvbiwgZmlsdGVycy5jb25kaXRpb25bMF0pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBjb25kaXRpb25Db25kaXRpb25zID0gZmlsdGVycy5jb25kaXRpb24ubWFwKGNvbmQgPT5cbiAgICAgICAgICAgIGVxKG1hcmtldHBsYWNlTGlzdGluZ3MuY29uZGl0aW9uLCBjb25kKVxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uZGl0aW9ucy5wdXNoKG9yKC4uLmNvbmRpdGlvbkNvbmRpdGlvbnMpISk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChmaWx0ZXJzLm1pblByaWNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uZGl0aW9ucy5wdXNoKGd0ZShtYXJrZXRwbGFjZUxpc3RpbmdzLnByaWNlLCBmaWx0ZXJzLm1pblByaWNlKSk7XG4gICAgICB9XG4gICAgICBpZiAoZmlsdGVycy5tYXhQcmljZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbmRpdGlvbnMucHVzaChsdGUobWFya2V0cGxhY2VMaXN0aW5ncy5wcmljZSwgZmlsdGVycy5tYXhQcmljZSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkYlxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuZnJvbShtYXJrZXRwbGFjZUxpc3RpbmdzKVxuICAgICAgLndoZXJlKGFuZCguLi5jb25kaXRpb25zKSlcbiAgICAgIC5vcmRlckJ5KGRlc2MobWFya2V0cGxhY2VMaXN0aW5ncy5jcmVhdGVkQXQpKTtcbiAgfVxuXG4gIGFzeW5jIGdldE1hcmtldHBsYWNlTGlzdGluZyhpZDogc3RyaW5nKTogUHJvbWlzZTxNYXJrZXRwbGFjZUxpc3RpbmcgfCB1bmRlZmluZWQ+IHtcbiAgICBjb25zdCBbbGlzdGluZ10gPSBhd2FpdCBkYlxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuZnJvbShtYXJrZXRwbGFjZUxpc3RpbmdzKVxuICAgICAgLndoZXJlKGVxKG1hcmtldHBsYWNlTGlzdGluZ3MuaWQsIGlkKSk7XG4gICAgcmV0dXJuIGxpc3Rpbmc7XG4gIH1cblxuICBhc3luYyBnZXRNYXJrZXRwbGFjZUxpc3RpbmdzQnlVc2VyKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxNYXJrZXRwbGFjZUxpc3RpbmdbXT4ge1xuICAgIHJldHVybiBkYlxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuZnJvbShtYXJrZXRwbGFjZUxpc3RpbmdzKVxuICAgICAgLndoZXJlKGVxKG1hcmtldHBsYWNlTGlzdGluZ3MudXNlcklkLCB1c2VySWQpKVxuICAgICAgLm9yZGVyQnkoZGVzYyhtYXJrZXRwbGFjZUxpc3RpbmdzLmNyZWF0ZWRBdCkpO1xuICB9XG5cbiAgYXN5bmMgY3JlYXRlTWFya2V0cGxhY2VMaXN0aW5nKGxpc3Rpbmc6IEluc2VydE1hcmtldHBsYWNlTGlzdGluZyk6IFByb21pc2U8TWFya2V0cGxhY2VMaXN0aW5nPiB7XG4gICAgY29uc3QgW2NyZWF0ZWRdID0gYXdhaXQgZGJcbiAgICAgIC5pbnNlcnQobWFya2V0cGxhY2VMaXN0aW5ncylcbiAgICAgIC52YWx1ZXMobGlzdGluZylcbiAgICAgIC5yZXR1cm5pbmcoKTtcbiAgICByZXR1cm4gY3JlYXRlZDtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZU1hcmtldHBsYWNlTGlzdGluZyhpZDogc3RyaW5nLCBsaXN0aW5nOiBQYXJ0aWFsPEluc2VydE1hcmtldHBsYWNlTGlzdGluZz4pOiBQcm9taXNlPE1hcmtldHBsYWNlTGlzdGluZyB8IHVuZGVmaW5lZD4ge1xuICAgIGNvbnN0IFt1cGRhdGVkXSA9IGF3YWl0IGRiXG4gICAgICAudXBkYXRlKG1hcmtldHBsYWNlTGlzdGluZ3MpXG4gICAgICAuc2V0KHsgLi4ubGlzdGluZywgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpIH0pXG4gICAgICAud2hlcmUoZXEobWFya2V0cGxhY2VMaXN0aW5ncy5pZCwgaWQpKVxuICAgICAgLnJldHVybmluZygpO1xuICAgIHJldHVybiB1cGRhdGVkO1xuICB9XG5cbiAgYXN5bmMgZGVsZXRlTWFya2V0cGxhY2VMaXN0aW5nKGlkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYlxuICAgICAgLmRlbGV0ZShtYXJrZXRwbGFjZUxpc3RpbmdzKVxuICAgICAgLndoZXJlKGVxKG1hcmtldHBsYWNlTGlzdGluZ3MuaWQsIGlkKSlcbiAgICAgIC5yZXR1cm5pbmcoKTtcbiAgICByZXR1cm4gcmVzdWx0Lmxlbmd0aCA+IDA7XG4gIH1cblxuICAvLyBNZXNzYWdlIG9wZXJhdGlvbnNcbiAgYXN5bmMgZ2V0Q29udmVyc2F0aW9ucyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8Q29udmVyc2F0aW9uW10+IHtcbiAgICBjb25zdCBhbGxNZXNzYWdlcyA9IGF3YWl0IGRiXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5mcm9tKG1lc3NhZ2VzKVxuICAgICAgLndoZXJlKG9yKGVxKG1lc3NhZ2VzLnNlbmRlcklkLCB1c2VySWQpLCBlcShtZXNzYWdlcy5yZWNlaXZlcklkLCB1c2VySWQpKSlcbiAgICAgIC5vcmRlckJ5KGRlc2MobWVzc2FnZXMuY3JlYXRlZEF0KSk7XG5cbiAgICBjb25zdCBjb252ZXJzYXRpb25NYXAgPSBuZXcgTWFwPHN0cmluZywgeyBtZXNzYWdlczogTWVzc2FnZVtdOyB1bnJlYWRDb3VudDogbnVtYmVyIH0+KCk7XG5cbiAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgYWxsTWVzc2FnZXMpIHtcbiAgICAgIGNvbnN0IG90aGVyVXNlcklkID1cbiAgICAgICAgbWVzc2FnZS5zZW5kZXJJZCA9PT0gdXNlcklkID8gbWVzc2FnZS5yZWNlaXZlcklkIDogbWVzc2FnZS5zZW5kZXJJZDtcblxuICAgICAgaWYgKCFjb252ZXJzYXRpb25NYXAuaGFzKG90aGVyVXNlcklkKSkge1xuICAgICAgICBjb252ZXJzYXRpb25NYXAuc2V0KG90aGVyVXNlcklkLCB7IG1lc3NhZ2VzOiBbXSwgdW5yZWFkQ291bnQ6IDAgfSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNvbnYgPSBjb252ZXJzYXRpb25NYXAuZ2V0KG90aGVyVXNlcklkKSE7XG4gICAgICBjb252Lm1lc3NhZ2VzLnB1c2gobWVzc2FnZSk7XG5cbiAgICAgIGlmIChtZXNzYWdlLnJlY2VpdmVySWQgPT09IHVzZXJJZCAmJiAhbWVzc2FnZS5pc1JlYWQpIHtcbiAgICAgICAgY29udi51bnJlYWRDb3VudCsrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGNvbnZlcnNhdGlvbnM6IENvbnZlcnNhdGlvbltdID0gW107XG4gICAgY29uc3QgZW50cmllcyA9IEFycmF5LmZyb20oY29udmVyc2F0aW9uTWFwLmVudHJpZXMoKSk7XG4gICAgZm9yIChjb25zdCBbb3RoZXJVc2VySWQsIGRhdGFdIG9mIGVudHJpZXMpIHtcbiAgICAgIGNvbnN0IG90aGVyVXNlciA9IGF3YWl0IHRoaXMuZ2V0VXNlcihvdGhlclVzZXJJZCk7XG4gICAgICBpZiAob3RoZXJVc2VyKSB7XG4gICAgICAgIGNvbnZlcnNhdGlvbnMucHVzaCh7XG4gICAgICAgICAgb3RoZXJVc2VyLFxuICAgICAgICAgIGxhc3RNZXNzYWdlOiBkYXRhLm1lc3NhZ2VzWzBdLFxuICAgICAgICAgIHVucmVhZENvdW50OiBkYXRhLnVucmVhZENvdW50LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb252ZXJzYXRpb25zLnNvcnQoXG4gICAgICAoYSwgYikgPT5cbiAgICAgICAgbmV3IERhdGUoYi5sYXN0TWVzc2FnZS5jcmVhdGVkQXQhKS5nZXRUaW1lKCkgLVxuICAgICAgICBuZXcgRGF0ZShhLmxhc3RNZXNzYWdlLmNyZWF0ZWRBdCEpLmdldFRpbWUoKVxuICAgICk7XG5cbiAgICByZXR1cm4gY29udmVyc2F0aW9ucztcbiAgfVxuXG4gIGFzeW5jIGdldENvbnZlcnNhdGlvbih1c2VySWQ6IHN0cmluZywgb3RoZXJVc2VySWQ6IHN0cmluZyk6IFByb21pc2U8TWVzc2FnZVtdPiB7XG4gICAgcmV0dXJuIGRiXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5mcm9tKG1lc3NhZ2VzKVxuICAgICAgLndoZXJlKFxuICAgICAgICBvcihcbiAgICAgICAgICBhbmQoZXEobWVzc2FnZXMuc2VuZGVySWQsIHVzZXJJZCksIGVxKG1lc3NhZ2VzLnJlY2VpdmVySWQsIG90aGVyVXNlcklkKSksXG4gICAgICAgICAgYW5kKGVxKG1lc3NhZ2VzLnNlbmRlcklkLCBvdGhlclVzZXJJZCksIGVxKG1lc3NhZ2VzLnJlY2VpdmVySWQsIHVzZXJJZCkpXG4gICAgICAgIClcbiAgICAgIClcbiAgICAgIC5vcmRlckJ5KG1lc3NhZ2VzLmNyZWF0ZWRBdCk7XG4gIH1cblxuICBhc3luYyBzZW5kTWVzc2FnZShtZXNzYWdlOiBJbnNlcnRNZXNzYWdlKTogUHJvbWlzZTxNZXNzYWdlPiB7XG4gICAgY29uc3QgW2NyZWF0ZWRdID0gYXdhaXQgZGIuaW5zZXJ0KG1lc3NhZ2VzKS52YWx1ZXMobWVzc2FnZSkucmV0dXJuaW5nKCk7XG4gICAgcmV0dXJuIGNyZWF0ZWQ7XG4gIH1cblxuICBhc3luYyBtYXJrTWVzc2FnZXNBc1JlYWQodXNlcklkOiBzdHJpbmcsIG90aGVyVXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCBkYlxuICAgICAgLnVwZGF0ZShtZXNzYWdlcylcbiAgICAgIC5zZXQoeyBpc1JlYWQ6IHRydWUgfSlcbiAgICAgIC53aGVyZShcbiAgICAgICAgYW5kKFxuICAgICAgICAgIGVxKG1lc3NhZ2VzLnNlbmRlcklkLCBvdGhlclVzZXJJZCksXG4gICAgICAgICAgZXEobWVzc2FnZXMucmVjZWl2ZXJJZCwgdXNlcklkKSxcbiAgICAgICAgICBlcShtZXNzYWdlcy5pc1JlYWQsIGZhbHNlKVxuICAgICAgICApXG4gICAgICApO1xuICB9XG5cbiAgYXN5bmMgZ2V0VW5yZWFkTWVzc2FnZUNvdW50KHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYlxuICAgICAgLnNlbGVjdCh7IGNvdW50OiBzcWw8bnVtYmVyPmBjb3VudCgqKTo6IGludGAgfSlcbiAgICAgIC5mcm9tKG1lc3NhZ2VzKVxuICAgICAgLndoZXJlKGFuZChlcShtZXNzYWdlcy5yZWNlaXZlcklkLCB1c2VySWQpLCBlcShtZXNzYWdlcy5pc1JlYWQsIGZhbHNlKSkpO1xuICAgIHJldHVybiByZXN1bHRbMF0/LmNvdW50IHx8IDA7XG4gIH1cblxuICAvLyBSZXZpZXcgb3BlcmF0aW9uc1xuICBhc3luYyBnZXRSZXZpZXcoaWQ6IHN0cmluZyk6IFByb21pc2U8UmV2aWV3IHwgdW5kZWZpbmVkPiB7XG4gICAgY29uc3QgW3Jldmlld10gPSBhd2FpdCBkYlxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuZnJvbShyZXZpZXdzKVxuICAgICAgLndoZXJlKGVxKHJldmlld3MuaWQsIGlkKSk7XG4gICAgcmV0dXJuIHJldmlldztcbiAgfVxuXG4gIGFzeW5jIGdldFJldmlld3NGb3JUYXJnZXQodGFyZ2V0VHlwZTogc3RyaW5nLCB0YXJnZXRJZDogc3RyaW5nKTogUHJvbWlzZTxSZXZpZXdXaXRoUmV2aWV3ZXJbXT4ge1xuICAgIGNvbnN0IHJldmlld0xpc3QgPSBhd2FpdCBkYlxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuZnJvbShyZXZpZXdzKVxuICAgICAgLndoZXJlKGFuZChlcShyZXZpZXdzLnRhcmdldFR5cGUsIHRhcmdldFR5cGUpLCBlcShyZXZpZXdzLnRhcmdldElkLCB0YXJnZXRJZCkpKVxuICAgICAgLm9yZGVyQnkoZGVzYyhyZXZpZXdzLmNyZWF0ZWRBdCkpO1xuXG4gICAgY29uc3QgcmV2aWV3c1dpdGhSZXZpZXdlcnM6IFJldmlld1dpdGhSZXZpZXdlcltdID0gW107XG4gICAgZm9yIChjb25zdCByZXZpZXcgb2YgcmV2aWV3TGlzdCkge1xuICAgICAgY29uc3QgcmV2aWV3ZXIgPSBhd2FpdCB0aGlzLmdldFVzZXIocmV2aWV3LnJldmlld2VySWQpO1xuICAgICAgcmV2aWV3c1dpdGhSZXZpZXdlcnMucHVzaCh7IC4uLnJldmlldywgcmV2aWV3ZXIgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXZpZXdzV2l0aFJldmlld2VycztcbiAgfVxuXG4gIGFzeW5jIGdldFJldmlld3NCeVVzZXIodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFJldmlld1tdPiB7XG4gICAgcmV0dXJuIGRiXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5mcm9tKHJldmlld3MpXG4gICAgICAud2hlcmUoZXEocmV2aWV3cy5yZXZpZXdlcklkLCB1c2VySWQpKVxuICAgICAgLm9yZGVyQnkoZGVzYyhyZXZpZXdzLmNyZWF0ZWRBdCkpO1xuICB9XG5cbiAgYXN5bmMgY3JlYXRlUmV2aWV3KHJldmlldzogSW5zZXJ0UmV2aWV3KTogUHJvbWlzZTxSZXZpZXc+IHtcbiAgICBjb25zdCBbbmV3UmV2aWV3XSA9IGF3YWl0IGRiLmluc2VydChyZXZpZXdzKS52YWx1ZXMocmV2aWV3KS5yZXR1cm5pbmcoKTtcbiAgICByZXR1cm4gbmV3UmV2aWV3O1xuICB9XG5cbiAgLy8gQmFuZHNcbiAgYXN5bmMgY3JlYXRlQmFuZChiYW5kOiBJbnNlcnRCYW5kKTogUHJvbWlzZTxCYW5kPiB7XG4gICAgY29uc3QgW25ld0JhbmRdID0gYXdhaXQgZGIuaW5zZXJ0KGJhbmRzKS52YWx1ZXMoYmFuZCkucmV0dXJuaW5nKCk7XG4gICAgcmV0dXJuIG5ld0JhbmQ7XG4gIH1cblxuICBhc3luYyBnZXRCYW5kKGlkOiBzdHJpbmcpOiBQcm9taXNlPEJhbmQgfCB1bmRlZmluZWQ+IHtcbiAgICBjb25zdCBbYmFuZF0gPSBhd2FpdCBkYi5zZWxlY3QoKS5mcm9tKGJhbmRzKS53aGVyZShlcShiYW5kcy5pZCwgaWQpKTtcbiAgICByZXR1cm4gYmFuZDtcbiAgfVxuXG4gIGFzeW5jIGdldEJhbmRzKGZpbHRlcnM/OiBQYXJ0aWFsPEJhbmQ+ICYgeyBzZWFyY2hRdWVyeT86IHN0cmluZyB9KTogUHJvbWlzZTxCYW5kW10+IHtcbiAgICBjb25zdCBjb25kaXRpb25zID0gW2VxKGJhbmRzLmlzQWN0aXZlLCB0cnVlKV07XG5cbiAgICBpZiAoZmlsdGVycykge1xuICAgICAgaWYgKGZpbHRlcnMubG9jYXRpb24pIHtcbiAgICAgICAgY29uZGl0aW9ucy5wdXNoKGlsaWtlKGJhbmRzLmxvY2F0aW9uLCBgJSR7ZmlsdGVycy5sb2NhdGlvbn0lYCkpO1xuICAgICAgfVxuICAgICAgaWYgKGZpbHRlcnMuc2VhcmNoUXVlcnkpIHtcbiAgICAgICAgY29uc3QgcXVlcnkgPSBgJSR7ZmlsdGVycy5zZWFyY2hRdWVyeX0lYDtcbiAgICAgICAgY29uc3Qgc2VhcmNoQ29uZGl0aW9uID0gb3IoXG4gICAgICAgICAgaWxpa2UoYmFuZHMubmFtZSwgcXVlcnkpLFxuICAgICAgICAgIGlsaWtlKGJhbmRzLmJpbywgcXVlcnkpLFxuICAgICAgICAgIGlsaWtlKGJhbmRzLmxvY2F0aW9uLCBxdWVyeSksXG4gICAgICAgICAgc3FsYGFycmF5X3RvX3N0cmluZygke2JhbmRzLmdlbnJlc30sICcsJykgSUxJS0UgJHtxdWVyeX1gXG4gICAgICAgICk7XG4gICAgICAgIGlmIChzZWFyY2hDb25kaXRpb24pIHtcbiAgICAgICAgICBjb25kaXRpb25zLnB1c2goc2VhcmNoQ29uZGl0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBhd2FpdCBkYi5zZWxlY3QoKS5mcm9tKGJhbmRzKS53aGVyZShhbmQoLi4uY29uZGl0aW9ucykpO1xuICB9XG5cbiAgYXN5bmMgZ2V0QmFuZHNCeVVzZXIodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPEJhbmRbXT4ge1xuICAgIHJldHVybiBhd2FpdCBkYi5zZWxlY3QoKS5mcm9tKGJhbmRzKS53aGVyZShlcShiYW5kcy51c2VySWQsIHVzZXJJZCkpO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlQmFuZChpZDogc3RyaW5nLCBiYW5kOiBQYXJ0aWFsPEluc2VydEJhbmQ+KTogUHJvbWlzZTxCYW5kIHwgdW5kZWZpbmVkPiB7XG4gICAgY29uc3QgW3VwZGF0ZWRdID0gYXdhaXQgZGJcbiAgICAgIC51cGRhdGUoYmFuZHMpXG4gICAgICAuc2V0KHsgLi4uYmFuZCwgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpIH0pXG4gICAgICAud2hlcmUoZXEoYmFuZHMuaWQsIGlkKSlcbiAgICAgIC5yZXR1cm5pbmcoKTtcbiAgICByZXR1cm4gdXBkYXRlZDtcbiAgfVxuXG4gIC8vIEJhbmQgTWVtYmVyc1xuICBhc3luYyBhZGRCYW5kTWVtYmVyKG1lbWJlcjogSW5zZXJ0QmFuZE1lbWJlcik6IFByb21pc2U8QmFuZE1lbWJlcj4ge1xuICAgIGNvbnN0IFtuZXdNZW1iZXJdID0gYXdhaXQgZGIuaW5zZXJ0KGJhbmRNZW1iZXJzKS52YWx1ZXMobWVtYmVyKS5yZXR1cm5pbmcoKTtcbiAgICByZXR1cm4gbmV3TWVtYmVyO1xuICB9XG5cbiAgYXN5bmMgcmVtb3ZlQmFuZE1lbWJlcihiYW5kSWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYlxuICAgICAgLmRlbGV0ZShiYW5kTWVtYmVycylcbiAgICAgIC53aGVyZShhbmQoZXEoYmFuZE1lbWJlcnMuYmFuZElkLCBiYW5kSWQpLCBlcShiYW5kTWVtYmVycy51c2VySWQsIHVzZXJJZCkpKVxuICAgICAgLnJldHVybmluZygpO1xuICAgIHJldHVybiByZXN1bHQubGVuZ3RoID4gMDtcbiAgfVxuXG4gIGFzeW5jIGdldEJhbmRNZW1iZXJzKGJhbmRJZDogc3RyaW5nKTogUHJvbWlzZTxCYW5kTWVtYmVyV2l0aFVzZXJbXT4ge1xuICAgIGNvbnN0IG1lbWJlcnMgPSBhd2FpdCBkYlxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuZnJvbShiYW5kTWVtYmVycylcbiAgICAgIC53aGVyZShlcShiYW5kTWVtYmVycy5iYW5kSWQsIGJhbmRJZCkpO1xuXG4gICAgY29uc3QgbWVtYmVyc1dpdGhVc2VyczogQmFuZE1lbWJlcldpdGhVc2VyW10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IG1lbWJlciBvZiBtZW1iZXJzKSB7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgdGhpcy5nZXRVc2VyKG1lbWJlci51c2VySWQpO1xuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgbWVtYmVyc1dpdGhVc2Vycy5wdXNoKHsgLi4ubWVtYmVyLCB1c2VyIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVtYmVyc1dpdGhVc2VycztcbiAgfVxuXG4gIGFzeW5jIGlzQmFuZEFkbWluKGJhbmRJZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIC8vIENoZWNrIGlmIG93bmVyXG4gICAgY29uc3QgYmFuZCA9IGF3YWl0IHRoaXMuZ2V0QmFuZChiYW5kSWQpO1xuICAgIGlmIChiYW5kICYmIGJhbmQudXNlcklkID09PSB1c2VySWQpIHJldHVybiB0cnVlO1xuXG4gICAgLy8gQ2hlY2sgaWYgYWRtaW4gbWVtYmVyXG4gICAgY29uc3QgW21lbWJlcl0gPSBhd2FpdCBkYlxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuZnJvbShiYW5kTWVtYmVycylcbiAgICAgIC53aGVyZShcbiAgICAgICAgYW5kKFxuICAgICAgICAgIGVxKGJhbmRNZW1iZXJzLmJhbmRJZCwgYmFuZElkKSxcbiAgICAgICAgICBlcShiYW5kTWVtYmVycy51c2VySWQsIHVzZXJJZCksXG4gICAgICAgICAgZXEoYmFuZE1lbWJlcnMucm9sZSwgJ2FkbWluJylcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICByZXR1cm4gISFtZW1iZXI7XG4gIH1cblxuICAvLyBHaWdzXG4gIGFzeW5jIGNyZWF0ZUdpZyhnaWc6IEluc2VydEdpZyk6IFByb21pc2U8R2lnPiB7XG4gICAgY29uc3QgW25ld0dpZ10gPSBhd2FpdCBkYi5pbnNlcnQoZ2lncykudmFsdWVzKGdpZykucmV0dXJuaW5nKCk7XG4gICAgcmV0dXJuIG5ld0dpZztcbiAgfVxuXG4gIGFzeW5jIGdldEdpZ3MoZmlsdGVycz86IEdpZ0ZpbHRlcnMpOiBQcm9taXNlPEdpZ1tdPiB7XG4gICAgY29uc3QgY29uZGl0aW9uczogYW55W10gPSBbXTtcblxuICAgIGlmIChmaWx0ZXJzKSB7XG4gICAgICBpZiAoZmlsdGVycy5sb2NhdGlvbikge1xuICAgICAgICBjb25kaXRpb25zLnB1c2goaWxpa2UoZ2lncy5sb2NhdGlvbiwgYCUke2ZpbHRlcnMubG9jYXRpb259JWApKTtcbiAgICAgIH1cbiAgICAgIGlmIChmaWx0ZXJzLmdlbnJlKSB7XG4gICAgICAgIGNvbmRpdGlvbnMucHVzaChpbGlrZShnaWdzLmdlbnJlLCBgJSR7ZmlsdGVycy5nZW5yZX0lYCkpO1xuICAgICAgfVxuICAgICAgaWYgKGZpbHRlcnMuZGF0ZSA9PT0gJ3VwY29taW5nJykge1xuICAgICAgICBjb25kaXRpb25zLnB1c2goZ3RlKGdpZ3MuZGF0ZSwgbmV3IERhdGUoKSkpO1xuICAgICAgfSBlbHNlIGlmIChmaWx0ZXJzLmRhdGUgPT09ICdwYXN0Jykge1xuICAgICAgICBjb25kaXRpb25zLnB1c2gobHQoZ2lncy5kYXRlLCBuZXcgRGF0ZSgpKSk7XG4gICAgICB9XG4gICAgICBpZiAoZmlsdGVycy5zZWFyY2hRdWVyeSkge1xuICAgICAgICBjb25zdCBxdWVyeSA9IGAlJHtmaWx0ZXJzLnNlYXJjaFF1ZXJ5fSVgO1xuICAgICAgICBjb25kaXRpb25zLnB1c2goXG4gICAgICAgICAgb3IoXG4gICAgICAgICAgICBpbGlrZShnaWdzLnRpdGxlLCBxdWVyeSksXG4gICAgICAgICAgICBpbGlrZShnaWdzLmRlc2NyaXB0aW9uLCBxdWVyeSksXG4gICAgICAgICAgICBpbGlrZShnaWdzLmdlbnJlLCBxdWVyeSksXG4gICAgICAgICAgICBpbGlrZShnaWdzLmxvY2F0aW9uLCBxdWVyeSlcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGF3YWl0IGRiLnNlbGVjdCgpLmZyb20oZ2lncylcbiAgICAgIC53aGVyZShhbmQoLi4uY29uZGl0aW9ucykpXG4gICAgICAub3JkZXJCeShnaWdzLmRhdGUpXG4gICAgICAubGltaXQoZmlsdGVycz8ubGltaXQgfHwgNTApXG4gICAgICAub2Zmc2V0KGZpbHRlcnM/Lm9mZnNldCB8fCAwKTtcbiAgfVxuXG4gIGFzeW5jIGdldEdpZ3NCeUJhbmQoYmFuZElkOiBzdHJpbmcpOiBQcm9taXNlPEdpZ1tdPiB7XG4gICAgcmV0dXJuIGF3YWl0IGRiLnNlbGVjdCgpLmZyb20oZ2lncylcbiAgICAgIC53aGVyZShhbmQoZXEoZ2lncy5iYW5kSWQsIGJhbmRJZCksIGd0ZShnaWdzLmRhdGUsIG5ldyBEYXRlKCkpKSlcbiAgICAgIC5vcmRlckJ5KGdpZ3MuZGF0ZSk7XG4gIH1cblxuICBhc3luYyBnZXRHaWdzQnlNdXNpY2lhbihtdXNpY2lhbklkOiBzdHJpbmcpOiBQcm9taXNlPEdpZ1tdPiB7XG4gICAgcmV0dXJuIGF3YWl0IGRiLnNlbGVjdCgpLmZyb20oZ2lncylcbiAgICAgIC53aGVyZShhbmQoZXEoZ2lncy5tdXNpY2lhbklkLCBtdXNpY2lhbklkKSwgZ3RlKGdpZ3MuZGF0ZSwgbmV3IERhdGUoKSkpKVxuICAgICAgLm9yZGVyQnkoZ2lncy5kYXRlKTtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZVJldmlldyhpZDogc3RyaW5nLCByZXZpZXc6IFBhcnRpYWw8SW5zZXJ0UmV2aWV3Pik6IFByb21pc2U8UmV2aWV3IHwgdW5kZWZpbmVkPiB7XG4gICAgY29uc3QgW3VwZGF0ZWRdID0gYXdhaXQgZGJcbiAgICAgIC51cGRhdGUocmV2aWV3cylcbiAgICAgIC5zZXQoeyAuLi5yZXZpZXcsIHVwZGF0ZWRBdDogbmV3IERhdGUoKSB9KVxuICAgICAgLndoZXJlKGVxKHJldmlld3MuaWQsIGlkKSlcbiAgICAgIC5yZXR1cm5pbmcoKTtcbiAgICByZXR1cm4gdXBkYXRlZDtcbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZVJldmlldyhpZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuZGVsZXRlKHJldmlld3MpLndoZXJlKGVxKHJldmlld3MuaWQsIGlkKSkucmV0dXJuaW5nKCk7XG4gICAgcmV0dXJuIHJlc3VsdC5sZW5ndGggPiAwO1xuICB9XG5cbiAgYXN5bmMgZ2V0QXZlcmFnZVJhdGluZyh0YXJnZXRUeXBlOiBzdHJpbmcsIHRhcmdldElkOiBzdHJpbmcpOiBQcm9taXNlPHsgYXZlcmFnZTogbnVtYmVyOyBjb3VudDogbnVtYmVyIH0+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYlxuICAgICAgLnNlbGVjdCh7XG4gICAgICAgIGF2ZXJhZ2U6IHNxbDxudW1iZXI+YENPQUxFU0NFKEFWRygke3Jldmlld3MucmF0aW5nfSksIDApOjpmbG9hdGAsXG4gICAgICAgIGNvdW50OiBzcWw8bnVtYmVyPmBDT1VOVCgqKTo6aW50YCxcbiAgICAgIH0pXG4gICAgICAuZnJvbShyZXZpZXdzKVxuICAgICAgLndoZXJlKGFuZChlcShyZXZpZXdzLnRhcmdldFR5cGUsIHRhcmdldFR5cGUpLCBlcShyZXZpZXdzLnRhcmdldElkLCB0YXJnZXRJZCkpKTtcbiAgICByZXR1cm4ge1xuICAgICAgYXZlcmFnZTogcmVzdWx0WzBdPy5hdmVyYWdlIHx8IDAsXG4gICAgICBjb3VudDogcmVzdWx0WzBdPy5jb3VudCB8fCAwLFxuICAgIH07XG4gIH1cblxuICBhc3luYyBoYXNVc2VyUmV2aWV3ZWQodXNlcklkOiBzdHJpbmcsIHRhcmdldFR5cGU6IHN0cmluZywgdGFyZ2V0SWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5mcm9tKHJldmlld3MpXG4gICAgICAud2hlcmUoXG4gICAgICAgIGFuZChcbiAgICAgICAgICBlcShyZXZpZXdzLnJldmlld2VySWQsIHVzZXJJZCksXG4gICAgICAgICAgZXEocmV2aWV3cy50YXJnZXRUeXBlLCB0YXJnZXRUeXBlKSxcbiAgICAgICAgICBlcShyZXZpZXdzLnRhcmdldElkLCB0YXJnZXRJZClcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICByZXR1cm4gcmVzdWx0Lmxlbmd0aCA+IDA7XG4gIH1cblxuICBhc3luYyBjaGVja1JhdGVMaW1pdCh1c2VySWQ6IHN0cmluZywgdHlwZTogc3RyaW5nLCBsaW1pdDogbnVtYmVyLCB3aW5kb3dTZWNvbmRzOiBudW1iZXIpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IHdpbmRvd1N0YXJ0VGhyZXNob2xkID0gbmV3IERhdGUobm93LmdldFRpbWUoKSAtIHdpbmRvd1NlY29uZHMgKiAxMDAwKTtcblxuICAgIGNvbnN0IFtyZWNvcmRdID0gYXdhaXQgZGJcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLmZyb20ocmF0ZUxpbWl0cylcbiAgICAgIC53aGVyZShhbmQoZXEocmF0ZUxpbWl0cy51c2VySWQsIHVzZXJJZCksIGVxKHJhdGVMaW1pdHMudHlwZSwgdHlwZSkpKTtcblxuICAgIGlmICghcmVjb3JkKSB7XG4gICAgICAvLyBGaXJzdCB0aW1lIGFjdGlvblxuICAgICAgYXdhaXQgZGIuaW5zZXJ0KHJhdGVMaW1pdHMpLnZhbHVlcyh7XG4gICAgICAgIHVzZXJJZCxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgaGl0czogMSxcbiAgICAgICAgd2luZG93U3RhcnQ6IG5vdyxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHJlY29yZC53aW5kb3dTdGFydCA8IHdpbmRvd1N0YXJ0VGhyZXNob2xkKSB7XG4gICAgICAvLyBXaW5kb3cgZXhwaXJlZCwgcmVzZXRcbiAgICAgIGF3YWl0IGRiXG4gICAgICAgIC51cGRhdGUocmF0ZUxpbWl0cylcbiAgICAgICAgLnNldCh7IGhpdHM6IDEsIHdpbmRvd1N0YXJ0OiBub3cgfSlcbiAgICAgICAgLndoZXJlKGVxKHJhdGVMaW1pdHMuaWQsIHJlY29yZC5pZCkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHJlY29yZC5oaXRzID49IGxpbWl0KSB7XG4gICAgICAvLyBMaW1pdCBleGNlZWRlZFxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIEluY3JlbWVudFxuICAgIGF3YWl0IGRiXG4gICAgICAudXBkYXRlKHJhdGVMaW1pdHMpXG4gICAgICAuc2V0KHsgaGl0czogcmVjb3JkLmhpdHMgKyAxIH0pXG4gICAgICAud2hlcmUoZXEocmF0ZUxpbWl0cy5pZCwgcmVjb3JkLmlkKSk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIE5vdGlmaWNhdGlvbnNcbiAgYXN5bmMgZ2V0Tm90aWZpY2F0aW9ucyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8Tm90aWZpY2F0aW9uW10+IHtcbiAgICByZXR1cm4gZGJcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLmZyb20obm90aWZpY2F0aW9ucylcbiAgICAgIC53aGVyZShlcShub3RpZmljYXRpb25zLnVzZXJJZCwgdXNlcklkKSlcbiAgICAgIC5vcmRlckJ5KGRlc2Mobm90aWZpY2F0aW9ucy5jcmVhdGVkQXQpKTtcbiAgfVxuXG4gIGFzeW5jIGdldFVucmVhZE5vdGlmaWNhdGlvbkNvdW50KHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYlxuICAgICAgLnNlbGVjdCh7IGNvdW50OiBzcWw8bnVtYmVyPmBjb3VudCgqKTo6aW50YCB9KVxuICAgICAgLmZyb20obm90aWZpY2F0aW9ucylcbiAgICAgIC53aGVyZShhbmQoZXEobm90aWZpY2F0aW9ucy51c2VySWQsIHVzZXJJZCksIGVxKG5vdGlmaWNhdGlvbnMuaXNSZWFkLCBmYWxzZSkpKTtcbiAgICByZXR1cm4gcmVzdWx0WzBdPy5jb3VudCB8fCAwO1xuICB9XG5cbiAgYXN5bmMgY3JlYXRlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbjogSW5zZXJ0Tm90aWZpY2F0aW9uKTogUHJvbWlzZTxOb3RpZmljYXRpb24+IHtcbiAgICBjb25zdCBbY3JlYXRlZF0gPSBhd2FpdCBkYi5pbnNlcnQobm90aWZpY2F0aW9ucykudmFsdWVzKG5vdGlmaWNhdGlvbikucmV0dXJuaW5nKCk7XG4gICAgcmV0dXJuIGNyZWF0ZWQ7XG4gIH1cblxuICBhc3luYyBtYXJrTm90aWZpY2F0aW9uQXNSZWFkKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCBkYlxuICAgICAgLnVwZGF0ZShub3RpZmljYXRpb25zKVxuICAgICAgLnNldCh7IGlzUmVhZDogdHJ1ZSB9KVxuICAgICAgLndoZXJlKGVxKG5vdGlmaWNhdGlvbnMuaWQsIGlkKSk7XG4gIH1cblxuICBhc3luYyBtYXJrQWxsTm90aWZpY2F0aW9uc0FzUmVhZCh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGF3YWl0IGRiXG4gICAgICAudXBkYXRlKG5vdGlmaWNhdGlvbnMpXG4gICAgICAuc2V0KHsgaXNSZWFkOiB0cnVlIH0pXG4gICAgICAud2hlcmUoZXEobm90aWZpY2F0aW9ucy51c2VySWQsIHVzZXJJZCkpO1xuICB9XG5cbiAgLy8gQ29udGFjdCBSZXF1ZXN0c1xuICBhc3luYyBjcmVhdGVDb250YWN0UmVxdWVzdChyZXF1ZXN0OiBJbnNlcnRDb250YWN0UmVxdWVzdCk6IFByb21pc2U8Q29udGFjdFJlcXVlc3Q+IHtcbiAgICBjb25zdCBbY3JlYXRlZF0gPSBhd2FpdCBkYi5pbnNlcnQoY29udGFjdFJlcXVlc3RzKS52YWx1ZXMocmVxdWVzdCkucmV0dXJuaW5nKCk7XG4gICAgcmV0dXJuIGNyZWF0ZWQ7XG4gIH1cblxuICBhc3luYyBnZXRDb250YWN0UmVxdWVzdChyZXF1ZXN0ZXJJZDogc3RyaW5nLCByZWNpcGllbnRJZDogc3RyaW5nKTogUHJvbWlzZTxDb250YWN0UmVxdWVzdCB8IHVuZGVmaW5lZD4ge1xuICAgIGNvbnN0IFtyZXF1ZXN0XSA9IGF3YWl0IGRiXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5mcm9tKGNvbnRhY3RSZXF1ZXN0cylcbiAgICAgIC53aGVyZShcbiAgICAgICAgYW5kKFxuICAgICAgICAgIGVxKGNvbnRhY3RSZXF1ZXN0cy5yZXF1ZXN0ZXJJZCwgcmVxdWVzdGVySWQpLFxuICAgICAgICAgIGVxKGNvbnRhY3RSZXF1ZXN0cy5yZWNpcGllbnRJZCwgcmVjaXBpZW50SWQpXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgcmV0dXJuIHJlcXVlc3Q7XG4gIH1cblxuICBhc3luYyBnZXRDb250YWN0UmVxdWVzdEJ5SWQoaWQ6IHN0cmluZyk6IFByb21pc2U8Q29udGFjdFJlcXVlc3QgfCB1bmRlZmluZWQ+IHtcbiAgICBjb25zdCBbcmVxdWVzdF0gPSBhd2FpdCBkYlxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuZnJvbShjb250YWN0UmVxdWVzdHMpXG4gICAgICAud2hlcmUoZXEoY29udGFjdFJlcXVlc3RzLmlkLCBpZCkpO1xuICAgIHJldHVybiByZXF1ZXN0O1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlQ29udGFjdFJlcXVlc3RTdGF0dXMoaWQ6IHN0cmluZywgc3RhdHVzOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCBkYlxuICAgICAgLnVwZGF0ZShjb250YWN0UmVxdWVzdHMpXG4gICAgICAuc2V0KHsgc3RhdHVzIH0pXG4gICAgICAud2hlcmUoZXEoY29udGFjdFJlcXVlc3RzLmlkLCBpZCkpO1xuICB9XG5cbiAgLy8gUmVwb3J0c1xuICBhc3luYyBjcmVhdGVSZXBvcnQocmVwb3J0OiBJbnNlcnRSZXBvcnQpOiBQcm9taXNlPFJlcG9ydD4ge1xuICAgIGNvbnN0IFtjcmVhdGVkXSA9IGF3YWl0IGRiLmluc2VydChyZXBvcnRzKS52YWx1ZXMocmVwb3J0KS5yZXR1cm5pbmcoKTtcbiAgICByZXR1cm4gY3JlYXRlZDtcbiAgfVxufVxuXG5cbmV4cG9ydCBjb25zdCBzdG9yYWdlID0gbmV3IERhdGFiYXNlU3RvcmFnZSgpO1xuIl0sIm5hbWVzIjpbInVzZXJzIiwibXVzaWNpYW5Qcm9maWxlcyIsIm1hcmtldHBsYWNlTGlzdGluZ3MiLCJtZXNzYWdlcyIsInJldmlld3MiLCJiYW5kcyIsImJhbmRNZW1iZXJzIiwiZ2lncyIsInJhdGVMaW1pdHMiLCJyZXBvcnRzIiwibm90aWZpY2F0aW9ucyIsImNvbnRhY3RSZXF1ZXN0cyIsImRiIiwiZXEiLCJhbmQiLCJkZXNjIiwib3IiLCJzcWwiLCJndGUiLCJsdGUiLCJhcnJheU92ZXJsYXBzIiwiaWxpa2UiLCJsdCIsIkRhdGFiYXNlU3RvcmFnZSIsImdldFVzZXIiLCJpZCIsInVzZXIiLCJzZWxlY3QiLCJmcm9tIiwid2hlcmUiLCJnZXRVc2VyQnlFbWFpbCIsImVtYWlsIiwidXBzZXJ0VXNlciIsInVzZXJEYXRhIiwiaW5zZXJ0IiwidmFsdWVzIiwib25Db25mbGljdERvVXBkYXRlIiwidGFyZ2V0Iiwic2V0IiwidXBkYXRlZEF0IiwiRGF0ZSIsInJldHVybmluZyIsImdldE11c2ljaWFuUHJvZmlsZXMiLCJmaWx0ZXJzIiwiY29uZGl0aW9ucyIsImlzQWN0aXZlIiwibG9jYXRpb24iLCJwdXNoIiwiZXhwZXJpZW5jZUxldmVsIiwiYXZhaWxhYmlsaXR5IiwiaW5zdHJ1bWVudHMiLCJsZW5ndGgiLCJnZW5yZXMiLCJzZWFyY2hRdWVyeSIsInF1ZXJ5Iiwic2VhcmNoQ29uZGl0aW9uIiwibmFtZSIsImJpbyIsIm9yZGVyQnkiLCJjcmVhdGVkQXQiLCJsaW1pdCIsIm9mZnNldCIsImdldE11c2ljaWFuUHJvZmlsZSIsInByb2ZpbGUiLCJnZXRNdXNpY2lhblByb2ZpbGVzQnlVc2VyIiwidXNlcklkIiwiY3JlYXRlTXVzaWNpYW5Qcm9maWxlIiwiY3JlYXRlZCIsInVwZGF0ZU11c2ljaWFuUHJvZmlsZSIsInVwZGF0ZWQiLCJ1cGRhdGUiLCJkZWxldGVNdXNpY2lhblByb2ZpbGUiLCJyZXN1bHQiLCJkZWxldGUiLCJnZXRNYXJrZXRwbGFjZUxpc3RpbmdzIiwiY2F0ZWdvcnkiLCJjYXRlZ29yeUNvbmRpdGlvbnMiLCJtYXAiLCJjYXQiLCJjb25kaXRpb24iLCJjb25kaXRpb25Db25kaXRpb25zIiwiY29uZCIsIm1pblByaWNlIiwidW5kZWZpbmVkIiwicHJpY2UiLCJtYXhQcmljZSIsImdldE1hcmtldHBsYWNlTGlzdGluZyIsImxpc3RpbmciLCJnZXRNYXJrZXRwbGFjZUxpc3RpbmdzQnlVc2VyIiwiY3JlYXRlTWFya2V0cGxhY2VMaXN0aW5nIiwidXBkYXRlTWFya2V0cGxhY2VMaXN0aW5nIiwiZGVsZXRlTWFya2V0cGxhY2VMaXN0aW5nIiwiZ2V0Q29udmVyc2F0aW9ucyIsImFsbE1lc3NhZ2VzIiwic2VuZGVySWQiLCJyZWNlaXZlcklkIiwiY29udmVyc2F0aW9uTWFwIiwiTWFwIiwibWVzc2FnZSIsIm90aGVyVXNlcklkIiwiaGFzIiwidW5yZWFkQ291bnQiLCJjb252IiwiZ2V0IiwiaXNSZWFkIiwiY29udmVyc2F0aW9ucyIsImVudHJpZXMiLCJBcnJheSIsImRhdGEiLCJvdGhlclVzZXIiLCJsYXN0TWVzc2FnZSIsInNvcnQiLCJhIiwiYiIsImdldFRpbWUiLCJnZXRDb252ZXJzYXRpb24iLCJzZW5kTWVzc2FnZSIsIm1hcmtNZXNzYWdlc0FzUmVhZCIsImdldFVucmVhZE1lc3NhZ2VDb3VudCIsImNvdW50IiwiZ2V0UmV2aWV3IiwicmV2aWV3IiwiZ2V0UmV2aWV3c0ZvclRhcmdldCIsInRhcmdldFR5cGUiLCJ0YXJnZXRJZCIsInJldmlld0xpc3QiLCJyZXZpZXdzV2l0aFJldmlld2VycyIsInJldmlld2VyIiwicmV2aWV3ZXJJZCIsImdldFJldmlld3NCeVVzZXIiLCJjcmVhdGVSZXZpZXciLCJuZXdSZXZpZXciLCJjcmVhdGVCYW5kIiwiYmFuZCIsIm5ld0JhbmQiLCJnZXRCYW5kIiwiZ2V0QmFuZHMiLCJnZXRCYW5kc0J5VXNlciIsInVwZGF0ZUJhbmQiLCJhZGRCYW5kTWVtYmVyIiwibWVtYmVyIiwibmV3TWVtYmVyIiwicmVtb3ZlQmFuZE1lbWJlciIsImJhbmRJZCIsImdldEJhbmRNZW1iZXJzIiwibWVtYmVycyIsIm1lbWJlcnNXaXRoVXNlcnMiLCJpc0JhbmRBZG1pbiIsInJvbGUiLCJjcmVhdGVHaWciLCJnaWciLCJuZXdHaWciLCJnZXRHaWdzIiwiZ2VucmUiLCJkYXRlIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImdldEdpZ3NCeUJhbmQiLCJnZXRHaWdzQnlNdXNpY2lhbiIsIm11c2ljaWFuSWQiLCJ1cGRhdGVSZXZpZXciLCJkZWxldGVSZXZpZXciLCJnZXRBdmVyYWdlUmF0aW5nIiwiYXZlcmFnZSIsInJhdGluZyIsImhhc1VzZXJSZXZpZXdlZCIsImNoZWNrUmF0ZUxpbWl0IiwidHlwZSIsIndpbmRvd1NlY29uZHMiLCJub3ciLCJ3aW5kb3dTdGFydFRocmVzaG9sZCIsInJlY29yZCIsImhpdHMiLCJ3aW5kb3dTdGFydCIsImdldE5vdGlmaWNhdGlvbnMiLCJnZXRVbnJlYWROb3RpZmljYXRpb25Db3VudCIsImNyZWF0ZU5vdGlmaWNhdGlvbiIsIm5vdGlmaWNhdGlvbiIsIm1hcmtOb3RpZmljYXRpb25Bc1JlYWQiLCJtYXJrQWxsTm90aWZpY2F0aW9uc0FzUmVhZCIsImNyZWF0ZUNvbnRhY3RSZXF1ZXN0IiwicmVxdWVzdCIsImdldENvbnRhY3RSZXF1ZXN0IiwicmVxdWVzdGVySWQiLCJyZWNpcGllbnRJZCIsImdldENvbnRhY3RSZXF1ZXN0QnlJZCIsInVwZGF0ZUNvbnRhY3RSZXF1ZXN0U3RhdHVzIiwic3RhdHVzIiwiY3JlYXRlUmVwb3J0IiwicmVwb3J0Iiwic3RvcmFnZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./server/storage.ts\n");

/***/ }),

/***/ "(rsc)/./shared/schema.ts":
/*!**************************!*\
  !*** ./shared/schema.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   availabilityOptions: () => (/* binding */ availabilityOptions),\n/* harmony export */   bandMembers: () => (/* binding */ bandMembers),\n/* harmony export */   bandMembersRelations: () => (/* binding */ bandMembersRelations),\n/* harmony export */   bands: () => (/* binding */ bands),\n/* harmony export */   bandsRelations: () => (/* binding */ bandsRelations),\n/* harmony export */   contactRequests: () => (/* binding */ contactRequests),\n/* harmony export */   contactRequestsRelations: () => (/* binding */ contactRequestsRelations),\n/* harmony export */   experienceLevels: () => (/* binding */ experienceLevels),\n/* harmony export */   genres: () => (/* binding */ genres),\n/* harmony export */   gigManagers: () => (/* binding */ gigManagers),\n/* harmony export */   gigManagersRelations: () => (/* binding */ gigManagersRelations),\n/* harmony export */   gigs: () => (/* binding */ gigs),\n/* harmony export */   gigsRelations: () => (/* binding */ gigsRelations),\n/* harmony export */   insertBandMemberSchema: () => (/* binding */ insertBandMemberSchema),\n/* harmony export */   insertBandSchema: () => (/* binding */ insertBandSchema),\n/* harmony export */   insertContactRequestSchema: () => (/* binding */ insertContactRequestSchema),\n/* harmony export */   insertGigSchema: () => (/* binding */ insertGigSchema),\n/* harmony export */   insertMarketplaceListingSchema: () => (/* binding */ insertMarketplaceListingSchema),\n/* harmony export */   insertMessageSchema: () => (/* binding */ insertMessageSchema),\n/* harmony export */   insertMusicianProfileSchema: () => (/* binding */ insertMusicianProfileSchema),\n/* harmony export */   insertNotificationSchema: () => (/* binding */ insertNotificationSchema),\n/* harmony export */   insertReportSchema: () => (/* binding */ insertReportSchema),\n/* harmony export */   insertReviewSchema: () => (/* binding */ insertReviewSchema),\n/* harmony export */   instruments: () => (/* binding */ instruments),\n/* harmony export */   itemConditions: () => (/* binding */ itemConditions),\n/* harmony export */   marketplaceCategories: () => (/* binding */ marketplaceCategories),\n/* harmony export */   marketplaceListings: () => (/* binding */ marketplaceListings),\n/* harmony export */   marketplaceListingsRelations: () => (/* binding */ marketplaceListingsRelations),\n/* harmony export */   messages: () => (/* binding */ messages),\n/* harmony export */   messagesRelations: () => (/* binding */ messagesRelations),\n/* harmony export */   musicianProfiles: () => (/* binding */ musicianProfiles),\n/* harmony export */   musicianProfilesRelations: () => (/* binding */ musicianProfilesRelations),\n/* harmony export */   notifications: () => (/* binding */ notifications),\n/* harmony export */   notificationsRelations: () => (/* binding */ notificationsRelations),\n/* harmony export */   rateLimits: () => (/* binding */ rateLimits),\n/* harmony export */   reports: () => (/* binding */ reports),\n/* harmony export */   reportsRelations: () => (/* binding */ reportsRelations),\n/* harmony export */   reviews: () => (/* binding */ reviews),\n/* harmony export */   reviewsRelations: () => (/* binding */ reviewsRelations),\n/* harmony export */   sessions: () => (/* binding */ sessions),\n/* harmony export */   users: () => (/* binding */ users),\n/* harmony export */   victoriaRegions: () => (/* binding */ victoriaRegions)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/sql/sql.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/relations.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/table.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/varchar.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/jsonb.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/timestamp.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/indexes.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/policies.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/text.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/boolean.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/integer.js\");\n/* harmony import */ var drizzle_zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! drizzle-zod */ \"(rsc)/./node_modules/drizzle-zod/index.mjs\");\n\n\n\n\n// Session storage table for Replit Auth\nconst sessions = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"sessions\", {\n    sid: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"sid\").primaryKey(),\n    sess: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.jsonb)(\"sess\").notNull(),\n    expire: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"expire\").notNull()\n}, (table)=>[\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.index)(\"IDX_session_expire\").on(table.expire),\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"service_read\", {\n            for: \"select\",\n            to: \"service_role\",\n            using: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`true`\n        }),\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"service_write\", {\n            for: \"all\",\n            to: \"service_role\",\n            using: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`true`,\n            withCheck: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`true`\n        })\n    ]);\n// User storage table for Replit Auth\nconst users = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"users\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"id\").primaryKey().default((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`gen_random_uuid()`),\n    email: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"email\").unique(),\n    firstName: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"first_name\"),\n    lastName: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"last_name\"),\n    profileImageUrl: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"profile_image_url\"),\n    dateOfBirth: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"date_of_birth\"),\n    lastActiveAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"last_active_at\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").defaultNow()\n}, (table)=>[\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"users_public_read\", {\n            for: \"select\",\n            to: \"public\",\n            using: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`true`\n        }),\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"users_self_update\", {\n            for: \"update\",\n            to: \"authenticated\",\n            using: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`auth.uid() = ${table.id}`,\n            withCheck: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`auth.uid() = ${table.id}`\n        })\n    ]);\n// Musician profiles table\nconst musicianProfiles = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"musician_profiles\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"id\").primaryKey().default((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`gen_random_uuid()`),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"user_id\").notNull().references(()=>users.id),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"name\", {\n        length: 255\n    }).notNull(),\n    bio: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.text)(\"bio\"),\n    instruments: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.text)(\"instruments\").array().notNull().default((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`'{}'::text[]`),\n    genres: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.text)(\"genres\").array().notNull().default((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`'{}'::text[]`),\n    experienceLevel: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"experience_level\", {\n        length: 50\n    }),\n    availability: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"availability\", {\n        length: 100\n    }),\n    location: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"location\", {\n        length: 255\n    }),\n    contactEmail: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"contact_email\", {\n        length: 255\n    }),\n    contactPhone: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"contact_phone\", {\n        length: 50\n    }),\n    profileImageUrl: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"profile_image_url\"),\n    isActive: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.boolean)(\"is_active\").default(true),\n    isLookingForGroup: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.boolean)(\"is_looking_for_group\").default(false),\n    isLocationShared: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.boolean)(\"is_location_shared\").default(false),\n    isContactInfoPublic: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.boolean)(\"is_contact_info_public\").default(false),\n    socialLinks: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.jsonb)(\"social_links\").$type().default({}),\n    influences: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.text)(\"influences\").array().notNull().default((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`'{}'::text[]`),\n    latitude: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"latitude\"),\n    longitude: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"longitude\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").defaultNow()\n}, (table)=>[\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"musicians_public_read\", {\n            for: \"select\",\n            to: \"public\",\n            using: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`true`\n        }),\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"musicians_owner_write\", {\n            for: \"all\",\n            to: \"authenticated\",\n            using: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`auth.uid() = ${table.userId}`,\n            withCheck: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`auth.uid() = ${table.userId}`\n        })\n    ]);\nconst musicianProfilesRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_10__.relations)(musicianProfiles, ({ one })=>({\n        user: one(users, {\n            fields: [\n                musicianProfiles.userId\n            ],\n            references: [\n                users.id\n            ]\n        })\n    }));\nconst insertMusicianProfileSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(musicianProfiles).omit({\n    id: true,\n    createdAt: true,\n    updatedAt: true\n});\n// Marketplace listings table\nconst marketplaceListings = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"marketplace_listings\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"id\").primaryKey().default((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`gen_random_uuid()`),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"user_id\").notNull().references(()=>users.id),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"title\", {\n        length: 255\n    }).notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.text)(\"description\"),\n    category: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"category\", {\n        length: 100\n    }).notNull(),\n    condition: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"condition\", {\n        length: 50\n    }),\n    price: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_11__.integer)(\"price\"),\n    priceType: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"price_type\", {\n        length: 50\n    }).default(\"fixed\"),\n    location: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"location\", {\n        length: 255\n    }),\n    contactEmail: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"contact_email\", {\n        length: 255\n    }),\n    contactPhone: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"contact_phone\", {\n        length: 50\n    }),\n    imageUrls: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.text)(\"image_urls\").array().default((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`'{}'::text[]`),\n    isActive: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.boolean)(\"is_active\").default(true),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").defaultNow()\n}, (table)=>[\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"marketplace_public_read\", {\n            for: \"select\",\n            to: \"public\",\n            using: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`true`\n        }),\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"marketplace_owner_write\", {\n            for: \"all\",\n            to: \"authenticated\",\n            using: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`auth.uid() = ${table.userId}`,\n            withCheck: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`auth.uid() = ${table.userId}`\n        })\n    ]);\nconst marketplaceListingsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_10__.relations)(marketplaceListings, ({ one })=>({\n        user: one(users, {\n            fields: [\n                marketplaceListings.userId\n            ],\n            references: [\n                users.id\n            ]\n        })\n    }));\nconst insertMarketplaceListingSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(marketplaceListings).omit({\n    id: true,\n    createdAt: true,\n    updatedAt: true\n});\n// Notifications table\nconst notifications = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"notifications\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"id\").primaryKey().default((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`gen_random_uuid()`),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"user_id\").notNull().references(()=>users.id),\n    type: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"type\", {\n        length: 50\n    }).notNull(),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"title\", {\n        length: 255\n    }).notNull(),\n    message: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.text)(\"message\").notNull(),\n    link: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"link\", {\n        length: 255\n    }),\n    metadata: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.jsonb)(\"metadata\"),\n    isRead: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.boolean)(\"is_read\").default(false),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").defaultNow()\n}, (table)=>[\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"notifications_self_read\", {\n            for: \"select\",\n            to: \"authenticated\",\n            using: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`auth.uid() = ${table.userId}`\n        }),\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"notifications_self_write\", {\n            for: \"all\",\n            to: \"authenticated\",\n            using: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`auth.uid() = ${table.userId}`,\n            withCheck: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`auth.uid() = ${table.userId}`\n        })\n    ]);\nconst notificationsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_10__.relations)(notifications, ({ one })=>({\n        user: one(users, {\n            fields: [\n                notifications.userId\n            ],\n            references: [\n                users.id\n            ]\n        })\n    }));\nconst insertNotificationSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(notifications).omit({\n    id: true,\n    createdAt: true\n});\n// Contact Requests table\nconst contactRequests = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"contact_requests\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"id\").primaryKey().default((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`gen_random_uuid()`),\n    requesterId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"requester_id\").notNull().references(()=>users.id),\n    recipientId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"recipient_id\").notNull().references(()=>users.id),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"status\", {\n        length: 20\n    }).default(\"pending\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").defaultNow()\n}, (table)=>[\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"contact_requests_read\", {\n            for: \"select\",\n            to: \"authenticated\",\n            using: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`auth.uid() = ${table.requesterId} OR auth.uid() = ${table.recipientId}`\n        }),\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"contact_requests_insert\", {\n            for: \"insert\",\n            to: \"authenticated\",\n            withCheck: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`auth.uid() = ${table.requesterId}`\n        }),\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"contact_requests_update\", {\n            for: \"update\",\n            to: \"authenticated\",\n            using: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`auth.uid() = ${table.recipientId} OR auth.uid() = ${table.requesterId}`\n        })\n    ]);\nconst contactRequestsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_10__.relations)(contactRequests, ({ one })=>({\n        requester: one(users, {\n            fields: [\n                contactRequests.requesterId\n            ],\n            references: [\n                users.id\n            ],\n            relationName: \"requester\"\n        }),\n        recipient: one(users, {\n            fields: [\n                contactRequests.recipientId\n            ],\n            references: [\n                users.id\n            ],\n            relationName: \"recipient\"\n        })\n    }));\nconst insertContactRequestSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(contactRequests).omit({\n    id: true,\n    createdAt: true\n});\n// Victoria regions for location filtering\nconst victoriaRegions = [\n    \"Melbourne CBD\",\n    \"Inner Melbourne\",\n    \"Northern Melbourne\",\n    \"Western Melbourne\",\n    \"Eastern Melbourne\",\n    \"South Eastern Melbourne\",\n    \"Mornington Peninsula\",\n    \"Geelong\",\n    \"Ballarat\",\n    \"Bendigo\",\n    \"Shepparton\",\n    \"Wodonga\",\n    \"Warrnambool\",\n    \"Gippsland\",\n    \"Other Victoria\"\n];\n// Instruments list\nconst instruments = [\n    \"Guitar\",\n    \"Bass\",\n    \"Drums\",\n    \"Keyboard/Piano\",\n    \"Vocals\",\n    \"Saxophone\",\n    \"Trumpet\",\n    \"Violin\",\n    \"Cello\",\n    \"Flute\",\n    \"Clarinet\",\n    \"Harmonica\",\n    \"DJ/Electronic\",\n    \"Percussion\",\n    \"Other\"\n];\n// Genres list\nconst genres = [\n    \"Rock\",\n    \"Pop\",\n    \"Jazz\",\n    \"Blues\",\n    \"Metal\",\n    \"Folk\",\n    \"Country\",\n    \"Classical\",\n    \"Electronic\",\n    \"Hip Hop\",\n    \"R&B\",\n    \"Indie\",\n    \"Punk\",\n    \"Reggae\",\n    \"Soul\",\n    \"Funk\",\n    \"World\",\n    \"Other\"\n];\n// Experience levels\nconst experienceLevels = [\n    \"Beginner\",\n    \"Intermediate\",\n    \"Advanced\",\n    \"Professional\"\n];\n// Availability options\nconst availabilityOptions = [\n    \"Available Now\",\n    \"Weekends Only\",\n    \"Evenings Only\",\n    \"Flexible Schedule\",\n    \"Looking for Gigs\",\n    \"Studio Sessions Only\",\n    \"Touring Available\",\n    \"Limited Availability\"\n];\n// Marketplace categories\nconst marketplaceCategories = [\n    \"Guitars\",\n    \"Bass Guitars\",\n    \"Drums & Percussion\",\n    \"Keyboards & Pianos\",\n    \"Amplifiers\",\n    \"Effects Pedals\",\n    \"Microphones\",\n    \"Recording Equipment\",\n    \"DJ Equipment\",\n    \"Brass & Woodwind\",\n    \"String Instruments\",\n    \"Accessories\",\n    \"Services\",\n    \"Lessons\",\n    \"Rehearsal Space\",\n    \"Other\"\n];\n// Item conditions\nconst itemConditions = [\n    \"New\",\n    \"Like New\",\n    \"Excellent\",\n    \"Good\",\n    \"Fair\",\n    \"For Parts\"\n];\n// Messages table for direct user communication\nconst messages = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"messages\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"id\").primaryKey().default((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`gen_random_uuid()`),\n    senderId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"sender_id\").notNull().references(()=>users.id),\n    receiverId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"receiver_id\").notNull().references(()=>users.id),\n    content: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.text)(\"content\").notNull(),\n    isRead: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.boolean)(\"is_read\").default(false),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").defaultNow()\n}, (table)=>[\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"messages_read\", {\n            for: \"select\",\n            to: \"authenticated\",\n            using: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`auth.uid() = ${table.senderId} OR auth.uid() = ${table.receiverId}`\n        }),\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"messages_insert\", {\n            for: \"insert\",\n            to: \"authenticated\",\n            withCheck: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`auth.uid() = ${table.senderId}`\n        })\n    ]);\nconst messagesRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_10__.relations)(messages, ({ one })=>({\n        sender: one(users, {\n            fields: [\n                messages.senderId\n            ],\n            references: [\n                users.id\n            ],\n            relationName: \"sentMessages\"\n        }),\n        receiver: one(users, {\n            fields: [\n                messages.receiverId\n            ],\n            references: [\n                users.id\n            ],\n            relationName: \"receivedMessages\"\n        })\n    }));\nconst insertMessageSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(messages).omit({\n    id: true,\n    createdAt: true,\n    isRead: true\n});\n// Reviews table for musician profiles and marketplace listings\nconst reviews = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"reviews\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"id\").primaryKey().default((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`gen_random_uuid()`),\n    reviewerId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"reviewer_id\").notNull().references(()=>users.id),\n    targetType: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"target_type\", {\n        length: 50\n    }).notNull(),\n    targetId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"target_id\").notNull(),\n    rating: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_11__.integer)(\"rating\").notNull(),\n    comment: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.text)(\"comment\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").defaultNow()\n}, (table)=>[\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"reviews_public_read\", {\n            for: \"select\",\n            to: \"public\",\n            using: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`true`\n        }),\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"reviews_owner_write\", {\n            for: \"all\",\n            to: \"authenticated\",\n            using: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`auth.uid() = ${table.reviewerId}`,\n            withCheck: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`auth.uid() = ${table.reviewerId}`\n        })\n    ]);\nconst reviewsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_10__.relations)(reviews, ({ one })=>({\n        reviewer: one(users, {\n            fields: [\n                reviews.reviewerId\n            ],\n            references: [\n                users.id\n            ]\n        })\n    }));\nconst insertReviewSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(reviews).omit({\n    id: true,\n    createdAt: true,\n    updatedAt: true\n});\n// Bands table\nconst bands = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"bands\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"id\").primaryKey().default((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`gen_random_uuid()`),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"user_id\").notNull().references(()=>users.id),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"name\", {\n        length: 255\n    }).notNull(),\n    bio: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.text)(\"bio\"),\n    genres: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.text)(\"genres\").array().notNull().default((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`'{}'::text[]`),\n    influences: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.text)(\"influences\").array().notNull().default((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`'{}'::text[]`),\n    location: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"location\", {\n        length: 255\n    }),\n    profileImageUrl: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"profile_image_url\"),\n    websiteUrl: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"website_url\", {\n        length: 255\n    }),\n    socialLinks: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.jsonb)(\"social_links\").$type().default({}),\n    isActive: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.boolean)(\"is_active\").default(true),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").defaultNow()\n}, (table)=>[\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"bands_public_read\", {\n            for: \"select\",\n            to: \"public\",\n            using: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`true`\n        }),\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"bands_owner_write\", {\n            for: \"all\",\n            to: \"authenticated\",\n            using: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`auth.uid() = ${table.userId}`,\n            withCheck: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`auth.uid() = ${table.userId}`\n        })\n    ]);\nconst bandsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_10__.relations)(bands, ({ one })=>({\n        user: one(users, {\n            fields: [\n                bands.userId\n            ],\n            references: [\n                users.id\n            ]\n        })\n    }));\nconst insertBandSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(bands).omit({\n    id: true,\n    createdAt: true,\n    updatedAt: true\n});\n// Rate Limiting table\nconst rateLimits = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"rate_limits\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"id\").primaryKey().default((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`gen_random_uuid()`),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"user_id\").notNull().references(()=>users.id),\n    type: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"type\", {\n        length: 50\n    }).notNull(),\n    hits: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_11__.integer)(\"hits\").notNull().default(1),\n    windowStart: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"window_start\").defaultNow().notNull()\n}, (table)=>[\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"rate_limits_service_all\", {\n            for: \"all\",\n            to: \"service_role\",\n            using: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`true`\n        })\n    ]);\n// Band Members table (for Admin/Member roles)\nconst bandMembers = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"band_members\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"id\").primaryKey().default((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`gen_random_uuid()`),\n    bandId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"band_id\").notNull().references(()=>bands.id),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"user_id\").notNull().references(()=>users.id),\n    role: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"role\", {\n        length: 50\n    }).notNull().default(\"member\"),\n    instrument: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"instrument\", {\n        length: 100\n    }),\n    joinedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"joined_at\").defaultNow()\n}, (table)=>[\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"band_members_public_read\", {\n            for: \"select\",\n            to: \"public\",\n            using: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`true`\n        }),\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"band_members_write\", {\n            for: \"all\",\n            to: \"authenticated\",\n            using: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`auth.uid() = ${table.userId}`,\n            withCheck: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`auth.uid() = ${table.userId}`\n        })\n    ]);\nconst bandMembersRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_10__.relations)(bandMembers, ({ one })=>({\n        band: one(bands, {\n            fields: [\n                bandMembers.bandId\n            ],\n            references: [\n                bands.id\n            ]\n        }),\n        user: one(users, {\n            fields: [\n                bandMembers.userId\n            ],\n            references: [\n                users.id\n            ]\n        })\n    }));\nconst insertBandMemberSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(bandMembers).omit({\n    id: true,\n    joinedAt: true\n});\n// Gigs table\nconst gigs = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"gigs\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"id\").primaryKey().default((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`gen_random_uuid()`),\n    creatorId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"creator_id\").notNull().references(()=>users.id),\n    bandId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"band_id\").references(()=>bands.id),\n    musicianId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"musician_id\").references(()=>musicianProfiles.id),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"title\", {\n        length: 255\n    }).notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.text)(\"description\"),\n    location: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"location\", {\n        length: 255\n    }).notNull(),\n    date: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"date\").notNull(),\n    price: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_11__.integer)(\"price\"),\n    ticketUrl: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"ticket_url\", {\n        length: 500\n    }),\n    imageUrl: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"image_url\"),\n    coverImageUrl: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"cover_image_url\"),\n    genre: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"genre\", {\n        length: 100\n    }),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").defaultNow()\n}, (table)=>[\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"gigs_public_read\", {\n            for: \"select\",\n            to: \"public\",\n            using: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`true`\n        }),\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"gigs_creator_write\", {\n            for: \"all\",\n            to: \"authenticated\",\n            using: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`auth.uid() = ${table.creatorId}`,\n            withCheck: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`auth.uid() = ${table.creatorId}`\n        })\n    ]);\n// Gig Managers table for collaborative editing\nconst gigManagers = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"gig_managers\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"id\").primaryKey().default((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`gen_random_uuid()`),\n    gigId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"gig_id\").notNull().references(()=>gigs.id),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"user_id\").notNull().references(()=>users.id),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").defaultNow()\n}, (table)=>[\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"gig_managers_read\", {\n            for: \"select\",\n            to: \"authenticated\",\n            using: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`true`\n        }),\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"gig_managers_write\", {\n            for: \"all\",\n            to: \"authenticated\",\n            using: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`auth.uid() = ${table.userId}`,\n            withCheck: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`auth.uid() = ${table.userId}`\n        })\n    ]);\nconst gigsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_10__.relations)(gigs, ({ one, many })=>({\n        creator: one(users, {\n            fields: [\n                gigs.creatorId\n            ],\n            references: [\n                users.id\n            ]\n        }),\n        band: one(bands, {\n            fields: [\n                gigs.bandId\n            ],\n            references: [\n                bands.id\n            ]\n        }),\n        musician: one(musicianProfiles, {\n            fields: [\n                gigs.musicianId\n            ],\n            references: [\n                musicianProfiles.id\n            ]\n        }),\n        managers: many(gigManagers)\n    }));\nconst gigManagersRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_10__.relations)(gigManagers, ({ one })=>({\n        gig: one(gigs, {\n            fields: [\n                gigManagers.gigId\n            ],\n            references: [\n                gigs.id\n            ]\n        }),\n        user: one(users, {\n            fields: [\n                gigManagers.userId\n            ],\n            references: [\n                users.id\n            ]\n        })\n    }));\nconst insertGigSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(gigs).omit({\n    id: true,\n    createdAt: true,\n    updatedAt: true\n});\n// Reports table\nconst reports = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgTable)(\"reports\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"id\").primaryKey().default((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`gen_random_uuid()`),\n    reporterId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"reporter_id\").notNull().references(()=>users.id),\n    targetType: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"target_type\", {\n        length: 50\n    }).notNull(),\n    targetId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"target_id\").notNull(),\n    reason: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"reason\", {\n        length: 100\n    }).notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.text)(\"description\"),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.varchar)(\"status\", {\n        length: 50\n    }).notNull().default(\"pending\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").defaultNow()\n}, (table)=>[\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"reports_insert\", {\n            for: \"insert\",\n            to: \"authenticated\",\n            withCheck: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`auth.uid() = ${table.reporterId}`\n        }),\n        (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.pgPolicy)(\"reports_admin_read\", {\n            for: \"select\",\n            to: \"service_role\",\n            using: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.sql)`true`\n        })\n    ]);\nconst reportsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_10__.relations)(reports, ({ one })=>({\n        reporter: one(users, {\n            fields: [\n                reports.reporterId\n            ],\n            references: [\n                users.id\n            ]\n        })\n    }));\nconst insertReportSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(reports).omit({\n    id: true,\n    createdAt: true,\n    updatedAt: true,\n    status: true\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU9BLENBQUMsVUFBVTtRQUFFa0MsUUFBUTtJQUFJLEdBQUd6QixPQUFPO0lBQ2xEb0QsYUFBYS9ELHlEQUFJQSxDQUFDO0lBQ2xCa0YsUUFBUWhGLDREQUFPQSxDQUFDLFVBQVU7UUFBRWtDLFFBQVE7SUFBRyxHQUFHekIsT0FBTyxHQUFHVSxPQUFPLENBQUM7SUFDNURRLFdBQVc1Qiw4REFBU0EsQ0FBQyxjQUFjNkIsVUFBVTtJQUM3Q0MsV0FBVzlCLDhEQUFTQSxDQUFDLGNBQWM2QixVQUFVO0FBQy9DLEdBQUcsQ0FBQ2pCLFFBQVU7UUFDWlIsNkRBQVFBLENBQUMsa0JBQWtCO1lBQUVVLEtBQUs7WUFBVUMsSUFBSTtZQUFpQkUsV0FBV3ZCLGdEQUFHLENBQUMsYUFBYSxFQUFFa0IsTUFBTW1JLFVBQVUsQ0FBQyxDQUFDO1FBQUM7UUFDbEgzSSw2REFBUUEsQ0FBQyxzQkFBc0I7WUFBRVUsS0FBSztZQUFVQyxJQUFJO1lBQWdCQyxPQUFPdEIsZ0RBQUcsQ0FBQyxJQUFJLENBQUM7UUFBQztLQUN0RixFQUFFO0FBRUksTUFBTXVKLG1CQUFtQnRKLHVEQUFTQSxDQUFDbUosU0FBUyxDQUFDLEVBQUV2RixHQUFHLEVBQUUsR0FBTTtRQUMvRDJGLFVBQVUzRixJQUFJckMsT0FBTztZQUNuQnVDLFFBQVE7Z0JBQUNxRixRQUFRQyxVQUFVO2FBQUM7WUFDNUI5RyxZQUFZO2dCQUFDZixNQUFNQyxFQUFFO2FBQUM7UUFDeEI7SUFDRixJQUFJO0FBRUcsTUFBTWdJLHFCQUFxQjlJLCtEQUFrQkEsQ0FBQ3lJLFNBQVNuRixJQUFJLENBQUM7SUFDakV4QyxJQUFJO0lBQ0pTLFdBQVc7SUFDWEUsV0FBVztJQUNYbUQsUUFBUTtBQUNWLEdBQUciLCJzb3VyY2VzIjpbIi9ob21lL3J5YW4vRG9jdW1lbnRzL1Byb2plY3RzL3ZpYy5iYW5kL3NoYXJlZC9zY2hlbWEudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3FsIH0gZnJvbSBcImRyaXp6bGUtb3JtXCI7XG5pbXBvcnQgeyByZWxhdGlvbnMgfSBmcm9tIFwiZHJpenpsZS1vcm1cIjtcbmltcG9ydCB7XG4gIGluZGV4LFxuICBqc29uYixcbiAgcGdUYWJsZSxcbiAgdGV4dCxcbiAgdGltZXN0YW1wLFxuICB2YXJjaGFyLFxuICBpbnRlZ2VyLFxuICBib29sZWFuLFxuICBwZ1BvbGljeSxcbn0gZnJvbSBcImRyaXp6bGUtb3JtL3BnLWNvcmVcIjtcbmltcG9ydCB7IGNyZWF0ZUluc2VydFNjaGVtYSB9IGZyb20gXCJkcml6emxlLXpvZFwiO1xuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcblxuLy8gU2Vzc2lvbiBzdG9yYWdlIHRhYmxlIGZvciBSZXBsaXQgQXV0aFxuZXhwb3J0IGNvbnN0IHNlc3Npb25zID0gcGdUYWJsZShcbiAgXCJzZXNzaW9uc1wiLFxuICB7XG4gICAgc2lkOiB2YXJjaGFyKFwic2lkXCIpLnByaW1hcnlLZXkoKSxcbiAgICBzZXNzOiBqc29uYihcInNlc3NcIikubm90TnVsbCgpLFxuICAgIGV4cGlyZTogdGltZXN0YW1wKFwiZXhwaXJlXCIpLm5vdE51bGwoKSxcbiAgfSxcbiAgKHRhYmxlKSA9PiBbXG4gICAgaW5kZXgoXCJJRFhfc2Vzc2lvbl9leHBpcmVcIikub24odGFibGUuZXhwaXJlKSxcbiAgICBwZ1BvbGljeShcInNlcnZpY2VfcmVhZFwiLCB7IGZvcjogXCJzZWxlY3RcIiwgdG86IFwic2VydmljZV9yb2xlXCIsIHVzaW5nOiBzcWxgdHJ1ZWAgfSksXG4gICAgcGdQb2xpY3koXCJzZXJ2aWNlX3dyaXRlXCIsIHsgZm9yOiBcImFsbFwiLCB0bzogXCJzZXJ2aWNlX3JvbGVcIiwgdXNpbmc6IHNxbGB0cnVlYCwgd2l0aENoZWNrOiBzcWxgdHJ1ZWAgfSksXG4gIF0sXG4pO1xuXG4vLyBVc2VyIHN0b3JhZ2UgdGFibGUgZm9yIFJlcGxpdCBBdXRoXG5leHBvcnQgY29uc3QgdXNlcnMgPSBwZ1RhYmxlKFwidXNlcnNcIiwge1xuICBpZDogdmFyY2hhcihcImlkXCIpLnByaW1hcnlLZXkoKS5kZWZhdWx0KHNxbGBnZW5fcmFuZG9tX3V1aWQoKWApLFxuICBlbWFpbDogdmFyY2hhcihcImVtYWlsXCIpLnVuaXF1ZSgpLFxuICBmaXJzdE5hbWU6IHZhcmNoYXIoXCJmaXJzdF9uYW1lXCIpLFxuICBsYXN0TmFtZTogdmFyY2hhcihcImxhc3RfbmFtZVwiKSxcbiAgcHJvZmlsZUltYWdlVXJsOiB2YXJjaGFyKFwicHJvZmlsZV9pbWFnZV91cmxcIiksXG4gIGRhdGVPZkJpcnRoOiB0aW1lc3RhbXAoXCJkYXRlX29mX2JpcnRoXCIpLFxuICBsYXN0QWN0aXZlQXQ6IHRpbWVzdGFtcChcImxhc3RfYWN0aXZlX2F0XCIpLFxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikuZGVmYXVsdE5vdygpLFxuICB1cGRhdGVkQXQ6IHRpbWVzdGFtcChcInVwZGF0ZWRfYXRcIikuZGVmYXVsdE5vdygpLFxufSwgKHRhYmxlKSA9PiBbXG4gIHBnUG9saWN5KFwidXNlcnNfcHVibGljX3JlYWRcIiwgeyBmb3I6IFwic2VsZWN0XCIsIHRvOiBcInB1YmxpY1wiLCB1c2luZzogc3FsYHRydWVgIH0pLFxuICBwZ1BvbGljeShcInVzZXJzX3NlbGZfdXBkYXRlXCIsIHsgZm9yOiBcInVwZGF0ZVwiLCB0bzogXCJhdXRoZW50aWNhdGVkXCIsIHVzaW5nOiBzcWxgYXV0aC51aWQoKSA9ICR7dGFibGUuaWR9YCwgd2l0aENoZWNrOiBzcWxgYXV0aC51aWQoKSA9ICR7dGFibGUuaWR9YCB9KSxcbl0pO1xuXG5leHBvcnQgdHlwZSBVcHNlcnRVc2VyID0gdHlwZW9mIHVzZXJzLiRpbmZlckluc2VydDtcbmV4cG9ydCB0eXBlIFVzZXIgPSB0eXBlb2YgdXNlcnMuJGluZmVyU2VsZWN0O1xuXG4vLyBNdXNpY2lhbiBwcm9maWxlcyB0YWJsZVxuZXhwb3J0IGNvbnN0IG11c2ljaWFuUHJvZmlsZXMgPSBwZ1RhYmxlKFwibXVzaWNpYW5fcHJvZmlsZXNcIiwge1xuICBpZDogdmFyY2hhcihcImlkXCIpLnByaW1hcnlLZXkoKS5kZWZhdWx0KHNxbGBnZW5fcmFuZG9tX3V1aWQoKWApLFxuICB1c2VySWQ6IHZhcmNoYXIoXCJ1c2VyX2lkXCIpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkKSxcbiAgbmFtZTogdmFyY2hhcihcIm5hbWVcIiwgeyBsZW5ndGg6IDI1NSB9KS5ub3ROdWxsKCksXG4gIGJpbzogdGV4dChcImJpb1wiKSxcbiAgaW5zdHJ1bWVudHM6IHRleHQoXCJpbnN0cnVtZW50c1wiKS5hcnJheSgpLm5vdE51bGwoKS5kZWZhdWx0KHNxbGAne30nOjp0ZXh0W11gKSxcbiAgZ2VucmVzOiB0ZXh0KFwiZ2VucmVzXCIpLmFycmF5KCkubm90TnVsbCgpLmRlZmF1bHQoc3FsYCd7fSc6OnRleHRbXWApLFxuICBleHBlcmllbmNlTGV2ZWw6IHZhcmNoYXIoXCJleHBlcmllbmNlX2xldmVsXCIsIHsgbGVuZ3RoOiA1MCB9KSxcbiAgYXZhaWxhYmlsaXR5OiB2YXJjaGFyKFwiYXZhaWxhYmlsaXR5XCIsIHsgbGVuZ3RoOiAxMDAgfSksXG4gIGxvY2F0aW9uOiB2YXJjaGFyKFwibG9jYXRpb25cIiwgeyBsZW5ndGg6IDI1NSB9KSxcbiAgY29udGFjdEVtYWlsOiB2YXJjaGFyKFwiY29udGFjdF9lbWFpbFwiLCB7IGxlbmd0aDogMjU1IH0pLFxuICBjb250YWN0UGhvbmU6IHZhcmNoYXIoXCJjb250YWN0X3Bob25lXCIsIHsgbGVuZ3RoOiA1MCB9KSxcbiAgcHJvZmlsZUltYWdlVXJsOiB2YXJjaGFyKFwicHJvZmlsZV9pbWFnZV91cmxcIiksXG4gIGlzQWN0aXZlOiBib29sZWFuKFwiaXNfYWN0aXZlXCIpLmRlZmF1bHQodHJ1ZSksXG4gIGlzTG9va2luZ0Zvckdyb3VwOiBib29sZWFuKFwiaXNfbG9va2luZ19mb3JfZ3JvdXBcIikuZGVmYXVsdChmYWxzZSksXG4gIGlzTG9jYXRpb25TaGFyZWQ6IGJvb2xlYW4oXCJpc19sb2NhdGlvbl9zaGFyZWRcIikuZGVmYXVsdChmYWxzZSksXG4gIGlzQ29udGFjdEluZm9QdWJsaWM6IGJvb2xlYW4oXCJpc19jb250YWN0X2luZm9fcHVibGljXCIpLmRlZmF1bHQoZmFsc2UpLFxuICBzb2NpYWxMaW5rczoganNvbmIoXCJzb2NpYWxfbGlua3NcIikuJHR5cGU8e1xuICAgIHlvdXR1YmU/OiBzdHJpbmc7XG4gICAgc3BvdGlmeT86IHN0cmluZztcbiAgICBzb3VuZGNsb3VkPzogc3RyaW5nO1xuICAgIGFwcGxlTXVzaWM/OiBzdHJpbmc7XG4gICAgd2Vic2l0ZT86IHN0cmluZztcbiAgfT4oKS5kZWZhdWx0KHt9KSxcbiAgaW5mbHVlbmNlczogdGV4dChcImluZmx1ZW5jZXNcIikuYXJyYXkoKS5ub3ROdWxsKCkuZGVmYXVsdChzcWxgJ3t9Jzo6dGV4dFtdYCksXG4gIGxhdGl0dWRlOiB2YXJjaGFyKFwibGF0aXR1ZGVcIiksXG4gIGxvbmdpdHVkZTogdmFyY2hhcihcImxvbmdpdHVkZVwiKSxcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoXCJjcmVhdGVkX2F0XCIpLmRlZmF1bHROb3coKSxcbiAgdXBkYXRlZEF0OiB0aW1lc3RhbXAoXCJ1cGRhdGVkX2F0XCIpLmRlZmF1bHROb3coKSxcbn0sICh0YWJsZSkgPT4gW1xuICBwZ1BvbGljeShcIm11c2ljaWFuc19wdWJsaWNfcmVhZFwiLCB7IGZvcjogXCJzZWxlY3RcIiwgdG86IFwicHVibGljXCIsIHVzaW5nOiBzcWxgdHJ1ZWAgfSksXG4gIHBnUG9saWN5KFwibXVzaWNpYW5zX293bmVyX3dyaXRlXCIsIHsgZm9yOiBcImFsbFwiLCB0bzogXCJhdXRoZW50aWNhdGVkXCIsIHVzaW5nOiBzcWxgYXV0aC51aWQoKSA9ICR7dGFibGUudXNlcklkfWAsIHdpdGhDaGVjazogc3FsYGF1dGgudWlkKCkgPSAke3RhYmxlLnVzZXJJZH1gIH0pLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBtdXNpY2lhblByb2ZpbGVzUmVsYXRpb25zID0gcmVsYXRpb25zKG11c2ljaWFuUHJvZmlsZXMsICh7IG9uZSB9KSA9PiAoe1xuICB1c2VyOiBvbmUodXNlcnMsIHtcbiAgICBmaWVsZHM6IFttdXNpY2lhblByb2ZpbGVzLnVzZXJJZF0sXG4gICAgcmVmZXJlbmNlczogW3VzZXJzLmlkXSxcbiAgfSksXG59KSk7XG5cbmV4cG9ydCBjb25zdCBpbnNlcnRNdXNpY2lhblByb2ZpbGVTY2hlbWEgPSBjcmVhdGVJbnNlcnRTY2hlbWEobXVzaWNpYW5Qcm9maWxlcykub21pdCh7XG4gIGlkOiB0cnVlLFxuICBjcmVhdGVkQXQ6IHRydWUsXG4gIHVwZGF0ZWRBdDogdHJ1ZSxcbn0pO1xuXG5leHBvcnQgdHlwZSBJbnNlcnRNdXNpY2lhblByb2ZpbGUgPSB6LmluZmVyPHR5cGVvZiBpbnNlcnRNdXNpY2lhblByb2ZpbGVTY2hlbWE+O1xuZXhwb3J0IHR5cGUgTXVzaWNpYW5Qcm9maWxlID0gdHlwZW9mIG11c2ljaWFuUHJvZmlsZXMuJGluZmVyU2VsZWN0O1xuXG4vLyBNYXJrZXRwbGFjZSBsaXN0aW5ncyB0YWJsZVxuZXhwb3J0IGNvbnN0IG1hcmtldHBsYWNlTGlzdGluZ3MgPSBwZ1RhYmxlKFwibWFya2V0cGxhY2VfbGlzdGluZ3NcIiwge1xuICBpZDogdmFyY2hhcihcImlkXCIpLnByaW1hcnlLZXkoKS5kZWZhdWx0KHNxbGBnZW5fcmFuZG9tX3V1aWQoKWApLFxuICB1c2VySWQ6IHZhcmNoYXIoXCJ1c2VyX2lkXCIpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkKSxcbiAgdGl0bGU6IHZhcmNoYXIoXCJ0aXRsZVwiLCB7IGxlbmd0aDogMjU1IH0pLm5vdE51bGwoKSxcbiAgZGVzY3JpcHRpb246IHRleHQoXCJkZXNjcmlwdGlvblwiKSxcbiAgY2F0ZWdvcnk6IHZhcmNoYXIoXCJjYXRlZ29yeVwiLCB7IGxlbmd0aDogMTAwIH0pLm5vdE51bGwoKSxcbiAgY29uZGl0aW9uOiB2YXJjaGFyKFwiY29uZGl0aW9uXCIsIHsgbGVuZ3RoOiA1MCB9KSxcbiAgcHJpY2U6IGludGVnZXIoXCJwcmljZVwiKSxcbiAgcHJpY2VUeXBlOiB2YXJjaGFyKFwicHJpY2VfdHlwZVwiLCB7IGxlbmd0aDogNTAgfSkuZGVmYXVsdChcImZpeGVkXCIpLFxuICBsb2NhdGlvbjogdmFyY2hhcihcImxvY2F0aW9uXCIsIHsgbGVuZ3RoOiAyNTUgfSksXG4gIGNvbnRhY3RFbWFpbDogdmFyY2hhcihcImNvbnRhY3RfZW1haWxcIiwgeyBsZW5ndGg6IDI1NSB9KSxcbiAgY29udGFjdFBob25lOiB2YXJjaGFyKFwiY29udGFjdF9waG9uZVwiLCB7IGxlbmd0aDogNTAgfSksXG4gIGltYWdlVXJsczogdGV4dChcImltYWdlX3VybHNcIikuYXJyYXkoKS5kZWZhdWx0KHNxbGAne30nOjp0ZXh0W11gKSxcbiAgaXNBY3RpdmU6IGJvb2xlYW4oXCJpc19hY3RpdmVcIikuZGVmYXVsdCh0cnVlKSxcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoXCJjcmVhdGVkX2F0XCIpLmRlZmF1bHROb3coKSxcbiAgdXBkYXRlZEF0OiB0aW1lc3RhbXAoXCJ1cGRhdGVkX2F0XCIpLmRlZmF1bHROb3coKSxcbn0sICh0YWJsZSkgPT4gW1xuICBwZ1BvbGljeShcIm1hcmtldHBsYWNlX3B1YmxpY19yZWFkXCIsIHsgZm9yOiBcInNlbGVjdFwiLCB0bzogXCJwdWJsaWNcIiwgdXNpbmc6IHNxbGB0cnVlYCB9KSxcbiAgcGdQb2xpY3koXCJtYXJrZXRwbGFjZV9vd25lcl93cml0ZVwiLCB7IGZvcjogXCJhbGxcIiwgdG86IFwiYXV0aGVudGljYXRlZFwiLCB1c2luZzogc3FsYGF1dGgudWlkKCkgPSAke3RhYmxlLnVzZXJJZH1gLCB3aXRoQ2hlY2s6IHNxbGBhdXRoLnVpZCgpID0gJHt0YWJsZS51c2VySWR9YCB9KSxcbl0pO1xuXG5leHBvcnQgY29uc3QgbWFya2V0cGxhY2VMaXN0aW5nc1JlbGF0aW9ucyA9IHJlbGF0aW9ucyhtYXJrZXRwbGFjZUxpc3RpbmdzLCAoeyBvbmUgfSkgPT4gKHtcbiAgdXNlcjogb25lKHVzZXJzLCB7XG4gICAgZmllbGRzOiBbbWFya2V0cGxhY2VMaXN0aW5ncy51c2VySWRdLFxuICAgIHJlZmVyZW5jZXM6IFt1c2Vycy5pZF0sXG4gIH0pLFxufSkpO1xuXG5leHBvcnQgY29uc3QgaW5zZXJ0TWFya2V0cGxhY2VMaXN0aW5nU2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKG1hcmtldHBsYWNlTGlzdGluZ3MpLm9taXQoe1xuICBpZDogdHJ1ZSxcbiAgY3JlYXRlZEF0OiB0cnVlLFxuICB1cGRhdGVkQXQ6IHRydWUsXG59KTtcblxuZXhwb3J0IHR5cGUgSW5zZXJ0TWFya2V0cGxhY2VMaXN0aW5nID0gei5pbmZlcjx0eXBlb2YgaW5zZXJ0TWFya2V0cGxhY2VMaXN0aW5nU2NoZW1hPjtcbmV4cG9ydCB0eXBlIE1hcmtldHBsYWNlTGlzdGluZyA9IHR5cGVvZiBtYXJrZXRwbGFjZUxpc3RpbmdzLiRpbmZlclNlbGVjdDtcblxuLy8gTm90aWZpY2F0aW9ucyB0YWJsZVxuZXhwb3J0IGNvbnN0IG5vdGlmaWNhdGlvbnMgPSBwZ1RhYmxlKFwibm90aWZpY2F0aW9uc1wiLCB7XG4gIGlkOiB2YXJjaGFyKFwiaWRcIikucHJpbWFyeUtleSgpLmRlZmF1bHQoc3FsYGdlbl9yYW5kb21fdXVpZCgpYCksXG4gIHVzZXJJZDogdmFyY2hhcihcInVzZXJfaWRcIikubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQpLFxuICB0eXBlOiB2YXJjaGFyKFwidHlwZVwiLCB7IGxlbmd0aDogNTAgfSkubm90TnVsbCgpLCAvLyAnbWVzc2FnZScsICdpbnZpdGUnLCAnc3lzdGVtJ1xuICB0aXRsZTogdmFyY2hhcihcInRpdGxlXCIsIHsgbGVuZ3RoOiAyNTUgfSkubm90TnVsbCgpLFxuICBtZXNzYWdlOiB0ZXh0KFwibWVzc2FnZVwiKS5ub3ROdWxsKCksXG4gIGxpbms6IHZhcmNoYXIoXCJsaW5rXCIsIHsgbGVuZ3RoOiAyNTUgfSksXG4gIG1ldGFkYXRhOiBqc29uYihcIm1ldGFkYXRhXCIpLCAvLyBGb3Igc3RvcmluZyBleHRyYSBkYXRhIGxpa2UgcmVxdWVzdElkXG4gIGlzUmVhZDogYm9vbGVhbihcImlzX3JlYWRcIikuZGVmYXVsdChmYWxzZSksXG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKFwiY3JlYXRlZF9hdFwiKS5kZWZhdWx0Tm93KCksXG59LCAodGFibGUpID0+IFtcbiAgcGdQb2xpY3koXCJub3RpZmljYXRpb25zX3NlbGZfcmVhZFwiLCB7IGZvcjogXCJzZWxlY3RcIiwgdG86IFwiYXV0aGVudGljYXRlZFwiLCB1c2luZzogc3FsYGF1dGgudWlkKCkgPSAke3RhYmxlLnVzZXJJZH1gIH0pLFxuICBwZ1BvbGljeShcIm5vdGlmaWNhdGlvbnNfc2VsZl93cml0ZVwiLCB7IGZvcjogXCJhbGxcIiwgdG86IFwiYXV0aGVudGljYXRlZFwiLCB1c2luZzogc3FsYGF1dGgudWlkKCkgPSAke3RhYmxlLnVzZXJJZH1gLCB3aXRoQ2hlY2s6IHNxbGBhdXRoLnVpZCgpID0gJHt0YWJsZS51c2VySWR9YCB9KSxcbl0pO1xuXG5leHBvcnQgY29uc3Qgbm90aWZpY2F0aW9uc1JlbGF0aW9ucyA9IHJlbGF0aW9ucyhub3RpZmljYXRpb25zLCAoeyBvbmUgfSkgPT4gKHtcbiAgdXNlcjogb25lKHVzZXJzLCB7XG4gICAgZmllbGRzOiBbbm90aWZpY2F0aW9ucy51c2VySWRdLFxuICAgIHJlZmVyZW5jZXM6IFt1c2Vycy5pZF0sXG4gIH0pLFxufSkpO1xuXG5leHBvcnQgY29uc3QgaW5zZXJ0Tm90aWZpY2F0aW9uU2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKG5vdGlmaWNhdGlvbnMpLm9taXQoe1xuICBpZDogdHJ1ZSxcbiAgY3JlYXRlZEF0OiB0cnVlLFxufSk7XG5cbmV4cG9ydCB0eXBlIEluc2VydE5vdGlmaWNhdGlvbiA9IHouaW5mZXI8dHlwZW9mIGluc2VydE5vdGlmaWNhdGlvblNjaGVtYT47XG5leHBvcnQgdHlwZSBOb3RpZmljYXRpb24gPSB0eXBlb2Ygbm90aWZpY2F0aW9ucy4kaW5mZXJTZWxlY3Q7XG5cbi8vIENvbnRhY3QgUmVxdWVzdHMgdGFibGVcbmV4cG9ydCBjb25zdCBjb250YWN0UmVxdWVzdHMgPSBwZ1RhYmxlKFwiY29udGFjdF9yZXF1ZXN0c1wiLCB7XG4gIGlkOiB2YXJjaGFyKFwiaWRcIikucHJpbWFyeUtleSgpLmRlZmF1bHQoc3FsYGdlbl9yYW5kb21fdXVpZCgpYCksXG4gIHJlcXVlc3RlcklkOiB2YXJjaGFyKFwicmVxdWVzdGVyX2lkXCIpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkKSxcbiAgcmVjaXBpZW50SWQ6IHZhcmNoYXIoXCJyZWNpcGllbnRfaWRcIikubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQpLCAvLyBMaW5raW5nIHRvIFVzZXIgSUQgZm9yIGVhc2llciBub3RpZmljYXRpb24gcm91dGluZ1xuICBzdGF0dXM6IHZhcmNoYXIoXCJzdGF0dXNcIiwgeyBsZW5ndGg6IDIwIH0pLmRlZmF1bHQoXCJwZW5kaW5nXCIpLCAvLyBwZW5kaW5nLCBhY2NlcHRlZCwgZGVjbGluZWRcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoXCJjcmVhdGVkX2F0XCIpLmRlZmF1bHROb3coKSxcbn0sICh0YWJsZSkgPT4gW1xuICBwZ1BvbGljeShcImNvbnRhY3RfcmVxdWVzdHNfcmVhZFwiLCB7IGZvcjogXCJzZWxlY3RcIiwgdG86IFwiYXV0aGVudGljYXRlZFwiLCB1c2luZzogc3FsYGF1dGgudWlkKCkgPSAke3RhYmxlLnJlcXVlc3RlcklkfSBPUiBhdXRoLnVpZCgpID0gJHt0YWJsZS5yZWNpcGllbnRJZH1gIH0pLFxuICBwZ1BvbGljeShcImNvbnRhY3RfcmVxdWVzdHNfaW5zZXJ0XCIsIHsgZm9yOiBcImluc2VydFwiLCB0bzogXCJhdXRoZW50aWNhdGVkXCIsIHdpdGhDaGVjazogc3FsYGF1dGgudWlkKCkgPSAke3RhYmxlLnJlcXVlc3RlcklkfWAgfSksXG4gIHBnUG9saWN5KFwiY29udGFjdF9yZXF1ZXN0c191cGRhdGVcIiwgeyBmb3I6IFwidXBkYXRlXCIsIHRvOiBcImF1dGhlbnRpY2F0ZWRcIiwgdXNpbmc6IHNxbGBhdXRoLnVpZCgpID0gJHt0YWJsZS5yZWNpcGllbnRJZH0gT1IgYXV0aC51aWQoKSA9ICR7dGFibGUucmVxdWVzdGVySWR9YCB9KSxcbl0pO1xuXG5leHBvcnQgY29uc3QgY29udGFjdFJlcXVlc3RzUmVsYXRpb25zID0gcmVsYXRpb25zKGNvbnRhY3RSZXF1ZXN0cywgKHsgb25lIH0pID0+ICh7XG4gIHJlcXVlc3Rlcjogb25lKHVzZXJzLCB7XG4gICAgZmllbGRzOiBbY29udGFjdFJlcXVlc3RzLnJlcXVlc3RlcklkXSxcbiAgICByZWZlcmVuY2VzOiBbdXNlcnMuaWRdLFxuICAgIHJlbGF0aW9uTmFtZTogXCJyZXF1ZXN0ZXJcIixcbiAgfSksXG4gIHJlY2lwaWVudDogb25lKHVzZXJzLCB7XG4gICAgZmllbGRzOiBbY29udGFjdFJlcXVlc3RzLnJlY2lwaWVudElkXSxcbiAgICByZWZlcmVuY2VzOiBbdXNlcnMuaWRdLFxuICAgIHJlbGF0aW9uTmFtZTogXCJyZWNpcGllbnRcIixcbiAgfSksXG59KSk7XG5cbmV4cG9ydCBjb25zdCBpbnNlcnRDb250YWN0UmVxdWVzdFNjaGVtYSA9IGNyZWF0ZUluc2VydFNjaGVtYShjb250YWN0UmVxdWVzdHMpLm9taXQoe1xuICBpZDogdHJ1ZSxcbiAgY3JlYXRlZEF0OiB0cnVlLFxufSk7XG5cbmV4cG9ydCB0eXBlIEluc2VydENvbnRhY3RSZXF1ZXN0ID0gei5pbmZlcjx0eXBlb2YgaW5zZXJ0Q29udGFjdFJlcXVlc3RTY2hlbWE+O1xuZXhwb3J0IHR5cGUgQ29udGFjdFJlcXVlc3QgPSB0eXBlb2YgY29udGFjdFJlcXVlc3RzLiRpbmZlclNlbGVjdDtcblxuLy8gVmljdG9yaWEgcmVnaW9ucyBmb3IgbG9jYXRpb24gZmlsdGVyaW5nXG5leHBvcnQgY29uc3QgdmljdG9yaWFSZWdpb25zID0gW1xuICBcIk1lbGJvdXJuZSBDQkRcIixcbiAgXCJJbm5lciBNZWxib3VybmVcIixcbiAgXCJOb3J0aGVybiBNZWxib3VybmVcIixcbiAgXCJXZXN0ZXJuIE1lbGJvdXJuZVwiLFxuICBcIkVhc3Rlcm4gTWVsYm91cm5lXCIsXG4gIFwiU291dGggRWFzdGVybiBNZWxib3VybmVcIixcbiAgXCJNb3JuaW5ndG9uIFBlbmluc3VsYVwiLFxuICBcIkdlZWxvbmdcIixcbiAgXCJCYWxsYXJhdFwiLFxuICBcIkJlbmRpZ29cIixcbiAgXCJTaGVwcGFydG9uXCIsXG4gIFwiV29kb25nYVwiLFxuICBcIldhcnJuYW1ib29sXCIsXG4gIFwiR2lwcHNsYW5kXCIsXG4gIFwiT3RoZXIgVmljdG9yaWFcIixcbl0gYXMgY29uc3Q7XG5cbi8vIEluc3RydW1lbnRzIGxpc3RcbmV4cG9ydCBjb25zdCBpbnN0cnVtZW50cyA9IFtcbiAgXCJHdWl0YXJcIixcbiAgXCJCYXNzXCIsXG4gIFwiRHJ1bXNcIixcbiAgXCJLZXlib2FyZC9QaWFub1wiLFxuICBcIlZvY2Fsc1wiLFxuICBcIlNheG9waG9uZVwiLFxuICBcIlRydW1wZXRcIixcbiAgXCJWaW9saW5cIixcbiAgXCJDZWxsb1wiLFxuICBcIkZsdXRlXCIsXG4gIFwiQ2xhcmluZXRcIixcbiAgXCJIYXJtb25pY2FcIixcbiAgXCJESi9FbGVjdHJvbmljXCIsXG4gIFwiUGVyY3Vzc2lvblwiLFxuICBcIk90aGVyXCIsXG5dIGFzIGNvbnN0O1xuXG4vLyBHZW5yZXMgbGlzdFxuZXhwb3J0IGNvbnN0IGdlbnJlcyA9IFtcbiAgXCJSb2NrXCIsXG4gIFwiUG9wXCIsXG4gIFwiSmF6elwiLFxuICBcIkJsdWVzXCIsXG4gIFwiTWV0YWxcIixcbiAgXCJGb2xrXCIsXG4gIFwiQ291bnRyeVwiLFxuICBcIkNsYXNzaWNhbFwiLFxuICBcIkVsZWN0cm9uaWNcIixcbiAgXCJIaXAgSG9wXCIsXG4gIFwiUiZCXCIsXG4gIFwiSW5kaWVcIixcbiAgXCJQdW5rXCIsXG4gIFwiUmVnZ2FlXCIsXG4gIFwiU291bFwiLFxuICBcIkZ1bmtcIixcbiAgXCJXb3JsZFwiLFxuICBcIk90aGVyXCIsXG5dIGFzIGNvbnN0O1xuXG4vLyBFeHBlcmllbmNlIGxldmVsc1xuZXhwb3J0IGNvbnN0IGV4cGVyaWVuY2VMZXZlbHMgPSBbXG4gIFwiQmVnaW5uZXJcIixcbiAgXCJJbnRlcm1lZGlhdGVcIixcbiAgXCJBZHZhbmNlZFwiLFxuICBcIlByb2Zlc3Npb25hbFwiLFxuXSBhcyBjb25zdDtcblxuLy8gQXZhaWxhYmlsaXR5IG9wdGlvbnNcbmV4cG9ydCBjb25zdCBhdmFpbGFiaWxpdHlPcHRpb25zID0gW1xuICBcIkF2YWlsYWJsZSBOb3dcIixcbiAgXCJXZWVrZW5kcyBPbmx5XCIsXG4gIFwiRXZlbmluZ3MgT25seVwiLFxuICBcIkZsZXhpYmxlIFNjaGVkdWxlXCIsXG4gIFwiTG9va2luZyBmb3IgR2lnc1wiLFxuICBcIlN0dWRpbyBTZXNzaW9ucyBPbmx5XCIsXG4gIFwiVG91cmluZyBBdmFpbGFibGVcIixcbiAgXCJMaW1pdGVkIEF2YWlsYWJpbGl0eVwiLFxuXSBhcyBjb25zdDtcblxuLy8gTWFya2V0cGxhY2UgY2F0ZWdvcmllc1xuZXhwb3J0IGNvbnN0IG1hcmtldHBsYWNlQ2F0ZWdvcmllcyA9IFtcbiAgXCJHdWl0YXJzXCIsXG4gIFwiQmFzcyBHdWl0YXJzXCIsXG4gIFwiRHJ1bXMgJiBQZXJjdXNzaW9uXCIsXG4gIFwiS2V5Ym9hcmRzICYgUGlhbm9zXCIsXG4gIFwiQW1wbGlmaWVyc1wiLFxuICBcIkVmZmVjdHMgUGVkYWxzXCIsXG4gIFwiTWljcm9waG9uZXNcIixcbiAgXCJSZWNvcmRpbmcgRXF1aXBtZW50XCIsXG4gIFwiREogRXF1aXBtZW50XCIsXG4gIFwiQnJhc3MgJiBXb29kd2luZFwiLFxuICBcIlN0cmluZyBJbnN0cnVtZW50c1wiLFxuICBcIkFjY2Vzc29yaWVzXCIsXG4gIFwiU2VydmljZXNcIixcbiAgXCJMZXNzb25zXCIsXG4gIFwiUmVoZWFyc2FsIFNwYWNlXCIsXG4gIFwiT3RoZXJcIixcbl0gYXMgY29uc3Q7XG5cbi8vIEl0ZW0gY29uZGl0aW9uc1xuZXhwb3J0IGNvbnN0IGl0ZW1Db25kaXRpb25zID0gW1xuICBcIk5ld1wiLFxuICBcIkxpa2UgTmV3XCIsXG4gIFwiRXhjZWxsZW50XCIsXG4gIFwiR29vZFwiLFxuICBcIkZhaXJcIixcbiAgXCJGb3IgUGFydHNcIixcbl0gYXMgY29uc3Q7XG5cbi8vIE1lc3NhZ2VzIHRhYmxlIGZvciBkaXJlY3QgdXNlciBjb21tdW5pY2F0aW9uXG5leHBvcnQgY29uc3QgbWVzc2FnZXMgPSBwZ1RhYmxlKFwibWVzc2FnZXNcIiwge1xuICBpZDogdmFyY2hhcihcImlkXCIpLnByaW1hcnlLZXkoKS5kZWZhdWx0KHNxbGBnZW5fcmFuZG9tX3V1aWQoKWApLFxuICBzZW5kZXJJZDogdmFyY2hhcihcInNlbmRlcl9pZFwiKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiB1c2Vycy5pZCksXG4gIHJlY2VpdmVySWQ6IHZhcmNoYXIoXCJyZWNlaXZlcl9pZFwiKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiB1c2Vycy5pZCksXG4gIGNvbnRlbnQ6IHRleHQoXCJjb250ZW50XCIpLm5vdE51bGwoKSxcbiAgaXNSZWFkOiBib29sZWFuKFwiaXNfcmVhZFwiKS5kZWZhdWx0KGZhbHNlKSxcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoXCJjcmVhdGVkX2F0XCIpLmRlZmF1bHROb3coKSxcbn0sICh0YWJsZSkgPT4gW1xuICBwZ1BvbGljeShcIm1lc3NhZ2VzX3JlYWRcIiwgeyBmb3I6IFwic2VsZWN0XCIsIHRvOiBcImF1dGhlbnRpY2F0ZWRcIiwgdXNpbmc6IHNxbGBhdXRoLnVpZCgpID0gJHt0YWJsZS5zZW5kZXJJZH0gT1IgYXV0aC51aWQoKSA9ICR7dGFibGUucmVjZWl2ZXJJZH1gIH0pLFxuICBwZ1BvbGljeShcIm1lc3NhZ2VzX2luc2VydFwiLCB7IGZvcjogXCJpbnNlcnRcIiwgdG86IFwiYXV0aGVudGljYXRlZFwiLCB3aXRoQ2hlY2s6IHNxbGBhdXRoLnVpZCgpID0gJHt0YWJsZS5zZW5kZXJJZH1gIH0pLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBtZXNzYWdlc1JlbGF0aW9ucyA9IHJlbGF0aW9ucyhtZXNzYWdlcywgKHsgb25lIH0pID0+ICh7XG4gIHNlbmRlcjogb25lKHVzZXJzLCB7XG4gICAgZmllbGRzOiBbbWVzc2FnZXMuc2VuZGVySWRdLFxuICAgIHJlZmVyZW5jZXM6IFt1c2Vycy5pZF0sXG4gICAgcmVsYXRpb25OYW1lOiBcInNlbnRNZXNzYWdlc1wiLFxuICB9KSxcbiAgcmVjZWl2ZXI6IG9uZSh1c2Vycywge1xuICAgIGZpZWxkczogW21lc3NhZ2VzLnJlY2VpdmVySWRdLFxuICAgIHJlZmVyZW5jZXM6IFt1c2Vycy5pZF0sXG4gICAgcmVsYXRpb25OYW1lOiBcInJlY2VpdmVkTWVzc2FnZXNcIixcbiAgfSksXG59KSk7XG5cbmV4cG9ydCBjb25zdCBpbnNlcnRNZXNzYWdlU2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKG1lc3NhZ2VzKS5vbWl0KHtcbiAgaWQ6IHRydWUsXG4gIGNyZWF0ZWRBdDogdHJ1ZSxcbiAgaXNSZWFkOiB0cnVlLFxufSk7XG5cbmV4cG9ydCB0eXBlIEluc2VydE1lc3NhZ2UgPSB6LmluZmVyPHR5cGVvZiBpbnNlcnRNZXNzYWdlU2NoZW1hPjtcbmV4cG9ydCB0eXBlIE1lc3NhZ2UgPSB0eXBlb2YgbWVzc2FnZXMuJGluZmVyU2VsZWN0O1xuXG4vLyBNZXNzYWdlIHdpdGggc2VuZGVyIGluZm8gZm9yIGRpc3BsYXlcbmV4cG9ydCBpbnRlcmZhY2UgTWVzc2FnZVdpdGhTZW5kZXIgZXh0ZW5kcyBNZXNzYWdlIHtcbiAgc2VuZGVyPzogVXNlcjtcbn1cblxuLy8gQ29udmVyc2F0aW9uIHJlcHJlc2VudHMgbWVzc2FnZXMgYmV0d2VlbiB0d28gdXNlcnNcbmV4cG9ydCBpbnRlcmZhY2UgQ29udmVyc2F0aW9uIHtcbiAgb3RoZXJVc2VyOiBVc2VyO1xuICBsYXN0TWVzc2FnZTogTWVzc2FnZTtcbiAgdW5yZWFkQ291bnQ6IG51bWJlcjtcbn1cblxuLy8gUmV2aWV3cyB0YWJsZSBmb3IgbXVzaWNpYW4gcHJvZmlsZXMgYW5kIG1hcmtldHBsYWNlIGxpc3RpbmdzXG5leHBvcnQgY29uc3QgcmV2aWV3cyA9IHBnVGFibGUoXCJyZXZpZXdzXCIsIHtcbiAgaWQ6IHZhcmNoYXIoXCJpZFwiKS5wcmltYXJ5S2V5KCkuZGVmYXVsdChzcWxgZ2VuX3JhbmRvbV91dWlkKClgKSxcbiAgcmV2aWV3ZXJJZDogdmFyY2hhcihcInJldmlld2VyX2lkXCIpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkKSxcbiAgdGFyZ2V0VHlwZTogdmFyY2hhcihcInRhcmdldF90eXBlXCIsIHsgbGVuZ3RoOiA1MCB9KS5ub3ROdWxsKCksXG4gIHRhcmdldElkOiB2YXJjaGFyKFwidGFyZ2V0X2lkXCIpLm5vdE51bGwoKSxcbiAgcmF0aW5nOiBpbnRlZ2VyKFwicmF0aW5nXCIpLm5vdE51bGwoKSxcbiAgY29tbWVudDogdGV4dChcImNvbW1lbnRcIiksXG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKFwiY3JlYXRlZF9hdFwiKS5kZWZhdWx0Tm93KCksXG4gIHVwZGF0ZWRBdDogdGltZXN0YW1wKFwidXBkYXRlZF9hdFwiKS5kZWZhdWx0Tm93KCksXG59LCAodGFibGUpID0+IFtcbiAgcGdQb2xpY3koXCJyZXZpZXdzX3B1YmxpY19yZWFkXCIsIHsgZm9yOiBcInNlbGVjdFwiLCB0bzogXCJwdWJsaWNcIiwgdXNpbmc6IHNxbGB0cnVlYCB9KSxcbiAgcGdQb2xpY3koXCJyZXZpZXdzX293bmVyX3dyaXRlXCIsIHsgZm9yOiBcImFsbFwiLCB0bzogXCJhdXRoZW50aWNhdGVkXCIsIHVzaW5nOiBzcWxgYXV0aC51aWQoKSA9ICR7dGFibGUucmV2aWV3ZXJJZH1gLCB3aXRoQ2hlY2s6IHNxbGBhdXRoLnVpZCgpID0gJHt0YWJsZS5yZXZpZXdlcklkfWAgfSksXG5dKTtcblxuZXhwb3J0IGNvbnN0IHJldmlld3NSZWxhdGlvbnMgPSByZWxhdGlvbnMocmV2aWV3cywgKHsgb25lIH0pID0+ICh7XG4gIHJldmlld2VyOiBvbmUodXNlcnMsIHtcbiAgICBmaWVsZHM6IFtyZXZpZXdzLnJldmlld2VySWRdLFxuICAgIHJlZmVyZW5jZXM6IFt1c2Vycy5pZF0sXG4gIH0pLFxufSkpO1xuXG5leHBvcnQgY29uc3QgaW5zZXJ0UmV2aWV3U2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKHJldmlld3MpLm9taXQoe1xuICBpZDogdHJ1ZSxcbiAgY3JlYXRlZEF0OiB0cnVlLFxuICB1cGRhdGVkQXQ6IHRydWUsXG59KTtcblxuZXhwb3J0IHR5cGUgSW5zZXJ0UmV2aWV3ID0gei5pbmZlcjx0eXBlb2YgaW5zZXJ0UmV2aWV3U2NoZW1hPjtcbmV4cG9ydCB0eXBlIFJldmlldyA9IHR5cGVvZiByZXZpZXdzLiRpbmZlclNlbGVjdDtcblxuZXhwb3J0IGludGVyZmFjZSBSZXZpZXdXaXRoUmV2aWV3ZXIgZXh0ZW5kcyBSZXZpZXcge1xuICByZXZpZXdlcj86IFVzZXI7XG59XG5cbi8vIEJhbmRzIHRhYmxlXG5leHBvcnQgY29uc3QgYmFuZHMgPSBwZ1RhYmxlKFwiYmFuZHNcIiwge1xuICBpZDogdmFyY2hhcihcImlkXCIpLnByaW1hcnlLZXkoKS5kZWZhdWx0KHNxbGBnZW5fcmFuZG9tX3V1aWQoKWApLFxuICB1c2VySWQ6IHZhcmNoYXIoXCJ1c2VyX2lkXCIpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkKSxcbiAgbmFtZTogdmFyY2hhcihcIm5hbWVcIiwgeyBsZW5ndGg6IDI1NSB9KS5ub3ROdWxsKCksXG4gIGJpbzogdGV4dChcImJpb1wiKSxcbiAgZ2VucmVzOiB0ZXh0KFwiZ2VucmVzXCIpLmFycmF5KCkubm90TnVsbCgpLmRlZmF1bHQoc3FsYCd7fSc6OnRleHRbXWApLFxuICBpbmZsdWVuY2VzOiB0ZXh0KFwiaW5mbHVlbmNlc1wiKS5hcnJheSgpLm5vdE51bGwoKS5kZWZhdWx0KHNxbGAne30nOjp0ZXh0W11gKSxcbiAgbG9jYXRpb246IHZhcmNoYXIoXCJsb2NhdGlvblwiLCB7IGxlbmd0aDogMjU1IH0pLFxuICBwcm9maWxlSW1hZ2VVcmw6IHZhcmNoYXIoXCJwcm9maWxlX2ltYWdlX3VybFwiKSxcbiAgd2Vic2l0ZVVybDogdmFyY2hhcihcIndlYnNpdGVfdXJsXCIsIHsgbGVuZ3RoOiAyNTUgfSksXG4gIHNvY2lhbExpbmtzOiBqc29uYihcInNvY2lhbF9saW5rc1wiKS4kdHlwZTx7XG4gICAgZmFjZWJvb2s/OiBzdHJpbmc7XG4gICAgaW5zdGFncmFtPzogc3RyaW5nO1xuICAgIHNuYXBjaGF0Pzogc3RyaW5nO1xuICAgIHRpa3Rvaz86IHN0cmluZztcbiAgICB5b3V0dWJlPzogc3RyaW5nO1xuICAgIHNwb3RpZnk/OiBzdHJpbmc7XG4gICAgc291bmRjbG91ZD86IHN0cmluZztcbiAgICBhcHBsZU11c2ljPzogc3RyaW5nO1xuICB9PigpLmRlZmF1bHQoe30pLFxuICBpc0FjdGl2ZTogYm9vbGVhbihcImlzX2FjdGl2ZVwiKS5kZWZhdWx0KHRydWUpLFxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikuZGVmYXVsdE5vdygpLFxuICB1cGRhdGVkQXQ6IHRpbWVzdGFtcChcInVwZGF0ZWRfYXRcIikuZGVmYXVsdE5vdygpLFxufSwgKHRhYmxlKSA9PiBbXG4gIHBnUG9saWN5KFwiYmFuZHNfcHVibGljX3JlYWRcIiwgeyBmb3I6IFwic2VsZWN0XCIsIHRvOiBcInB1YmxpY1wiLCB1c2luZzogc3FsYHRydWVgIH0pLFxuICBwZ1BvbGljeShcImJhbmRzX293bmVyX3dyaXRlXCIsIHsgZm9yOiBcImFsbFwiLCB0bzogXCJhdXRoZW50aWNhdGVkXCIsIHVzaW5nOiBzcWxgYXV0aC51aWQoKSA9ICR7dGFibGUudXNlcklkfWAsIHdpdGhDaGVjazogc3FsYGF1dGgudWlkKCkgPSAke3RhYmxlLnVzZXJJZH1gIH0pLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBiYW5kc1JlbGF0aW9ucyA9IHJlbGF0aW9ucyhiYW5kcywgKHsgb25lIH0pID0+ICh7XG4gIHVzZXI6IG9uZSh1c2Vycywge1xuICAgIGZpZWxkczogW2JhbmRzLnVzZXJJZF0sXG4gICAgcmVmZXJlbmNlczogW3VzZXJzLmlkXSxcbiAgfSksXG59KSk7XG5cbmV4cG9ydCBjb25zdCBpbnNlcnRCYW5kU2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKGJhbmRzKS5vbWl0KHtcbiAgaWQ6IHRydWUsXG4gIGNyZWF0ZWRBdDogdHJ1ZSxcbiAgdXBkYXRlZEF0OiB0cnVlLFxufSk7XG5cbmV4cG9ydCB0eXBlIEluc2VydEJhbmQgPSB6LmluZmVyPHR5cGVvZiBpbnNlcnRCYW5kU2NoZW1hPjtcbmV4cG9ydCB0eXBlIEJhbmQgPSB0eXBlb2YgYmFuZHMuJGluZmVyU2VsZWN0O1xuLy8gUmF0ZSBMaW1pdGluZyB0YWJsZVxuZXhwb3J0IGNvbnN0IHJhdGVMaW1pdHMgPSBwZ1RhYmxlKFwicmF0ZV9saW1pdHNcIiwge1xuICBpZDogdmFyY2hhcihcImlkXCIpLnByaW1hcnlLZXkoKS5kZWZhdWx0KHNxbGBnZW5fcmFuZG9tX3V1aWQoKWApLFxuICB1c2VySWQ6IHZhcmNoYXIoXCJ1c2VyX2lkXCIpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkKSxcbiAgdHlwZTogdmFyY2hhcihcInR5cGVcIiwgeyBsZW5ndGg6IDUwIH0pLm5vdE51bGwoKSwgLy8gZS5nLiwgJ3VwbG9hZCcsICdsb2dpbl9hdHRlbXB0J1xuICBoaXRzOiBpbnRlZ2VyKFwiaGl0c1wiKS5ub3ROdWxsKCkuZGVmYXVsdCgxKSxcbiAgd2luZG93U3RhcnQ6IHRpbWVzdGFtcChcIndpbmRvd19zdGFydFwiKS5kZWZhdWx0Tm93KCkubm90TnVsbCgpLFxufSwgKHRhYmxlKSA9PiBbXG4gIHBnUG9saWN5KFwicmF0ZV9saW1pdHNfc2VydmljZV9hbGxcIiwgeyBmb3I6IFwiYWxsXCIsIHRvOiBcInNlcnZpY2Vfcm9sZVwiLCB1c2luZzogc3FsYHRydWVgIH0pLFxuXSk7XG5cbmV4cG9ydCB0eXBlIFJhdGVMaW1pdCA9IHR5cGVvZiByYXRlTGltaXRzLiRpbmZlclNlbGVjdDtcblxuLy8gQmFuZCBNZW1iZXJzIHRhYmxlIChmb3IgQWRtaW4vTWVtYmVyIHJvbGVzKVxuZXhwb3J0IGNvbnN0IGJhbmRNZW1iZXJzID0gcGdUYWJsZShcImJhbmRfbWVtYmVyc1wiLCB7XG4gIGlkOiB2YXJjaGFyKFwiaWRcIikucHJpbWFyeUtleSgpLmRlZmF1bHQoc3FsYGdlbl9yYW5kb21fdXVpZCgpYCksXG4gIGJhbmRJZDogdmFyY2hhcihcImJhbmRfaWRcIikubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gYmFuZHMuaWQpLFxuICB1c2VySWQ6IHZhcmNoYXIoXCJ1c2VyX2lkXCIpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkKSxcbiAgcm9sZTogdmFyY2hhcihcInJvbGVcIiwgeyBsZW5ndGg6IDUwIH0pLm5vdE51bGwoKS5kZWZhdWx0KFwibWVtYmVyXCIpLCAvLyAnYWRtaW4nLCAnbWVtYmVyJ1xuICBpbnN0cnVtZW50OiB2YXJjaGFyKFwiaW5zdHJ1bWVudFwiLCB7IGxlbmd0aDogMTAwIH0pLFxuICBqb2luZWRBdDogdGltZXN0YW1wKFwiam9pbmVkX2F0XCIpLmRlZmF1bHROb3coKSxcbn0sICh0YWJsZSkgPT4gW1xuICBwZ1BvbGljeShcImJhbmRfbWVtYmVyc19wdWJsaWNfcmVhZFwiLCB7IGZvcjogXCJzZWxlY3RcIiwgdG86IFwicHVibGljXCIsIHVzaW5nOiBzcWxgdHJ1ZWAgfSksXG4gIHBnUG9saWN5KFwiYmFuZF9tZW1iZXJzX3dyaXRlXCIsIHsgZm9yOiBcImFsbFwiLCB0bzogXCJhdXRoZW50aWNhdGVkXCIsIHVzaW5nOiBzcWxgYXV0aC51aWQoKSA9ICR7dGFibGUudXNlcklkfWAsIHdpdGhDaGVjazogc3FsYGF1dGgudWlkKCkgPSAke3RhYmxlLnVzZXJJZH1gIH0pLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBiYW5kTWVtYmVyc1JlbGF0aW9ucyA9IHJlbGF0aW9ucyhiYW5kTWVtYmVycywgKHsgb25lIH0pID0+ICh7XG4gIGJhbmQ6IG9uZShiYW5kcywge1xuICAgIGZpZWxkczogW2JhbmRNZW1iZXJzLmJhbmRJZF0sXG4gICAgcmVmZXJlbmNlczogW2JhbmRzLmlkXSxcbiAgfSksXG4gIHVzZXI6IG9uZSh1c2Vycywge1xuICAgIGZpZWxkczogW2JhbmRNZW1iZXJzLnVzZXJJZF0sXG4gICAgcmVmZXJlbmNlczogW3VzZXJzLmlkXSxcbiAgfSksXG59KSk7XG5cbmV4cG9ydCBjb25zdCBpbnNlcnRCYW5kTWVtYmVyU2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKGJhbmRNZW1iZXJzKS5vbWl0KHtcbiAgaWQ6IHRydWUsXG4gIGpvaW5lZEF0OiB0cnVlLFxufSk7XG5cbmV4cG9ydCB0eXBlIEluc2VydEJhbmRNZW1iZXIgPSB6LmluZmVyPHR5cGVvZiBpbnNlcnRCYW5kTWVtYmVyU2NoZW1hPjtcbmV4cG9ydCB0eXBlIEJhbmRNZW1iZXIgPSB0eXBlb2YgYmFuZE1lbWJlcnMuJGluZmVyU2VsZWN0O1xuXG5leHBvcnQgaW50ZXJmYWNlIEJhbmRNZW1iZXJXaXRoVXNlciBleHRlbmRzIEJhbmRNZW1iZXIge1xuICB1c2VyOiBVc2VyO1xufVxuXG4vLyBHaWdzIHRhYmxlXG5leHBvcnQgY29uc3QgZ2lncyA9IHBnVGFibGUoXCJnaWdzXCIsIHtcbiAgaWQ6IHZhcmNoYXIoXCJpZFwiKS5wcmltYXJ5S2V5KCkuZGVmYXVsdChzcWxgZ2VuX3JhbmRvbV91dWlkKClgKSxcbiAgY3JlYXRvcklkOiB2YXJjaGFyKFwiY3JlYXRvcl9pZFwiKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiB1c2Vycy5pZCksXG4gIGJhbmRJZDogdmFyY2hhcihcImJhbmRfaWRcIikucmVmZXJlbmNlcygoKSA9PiBiYW5kcy5pZCksIC8vIE51bGxhYmxlIGlmIHNvbG8gbXVzaWNpYW5cbiAgbXVzaWNpYW5JZDogdmFyY2hhcihcIm11c2ljaWFuX2lkXCIpLnJlZmVyZW5jZXMoKCkgPT4gbXVzaWNpYW5Qcm9maWxlcy5pZCksIC8vIE51bGxhYmxlIGlmIGJhbmRcbiAgdGl0bGU6IHZhcmNoYXIoXCJ0aXRsZVwiLCB7IGxlbmd0aDogMjU1IH0pLm5vdE51bGwoKSxcbiAgZGVzY3JpcHRpb246IHRleHQoXCJkZXNjcmlwdGlvblwiKSxcbiAgbG9jYXRpb246IHZhcmNoYXIoXCJsb2NhdGlvblwiLCB7IGxlbmd0aDogMjU1IH0pLm5vdE51bGwoKSxcbiAgZGF0ZTogdGltZXN0YW1wKFwiZGF0ZVwiKS5ub3ROdWxsKCksXG4gIHByaWNlOiBpbnRlZ2VyKFwicHJpY2VcIiksIC8vIEluIGNlbnRzPyBPciBqdXN0IHRleHQgZGVzY3JpcHRpb24/IExldCdzIGFzc3VtZSB0ZXh0IGZvciBNVlAgZmxleGliaWxpdHkgb3IgaW50ZWdlciBmb3IgY2VudHNcbiAgdGlja2V0VXJsOiB2YXJjaGFyKFwidGlja2V0X3VybFwiLCB7IGxlbmd0aDogNTAwIH0pLFxuICBpbWFnZVVybDogdmFyY2hhcihcImltYWdlX3VybFwiKSxcbiAgY292ZXJJbWFnZVVybDogdmFyY2hhcihcImNvdmVyX2ltYWdlX3VybFwiKSxcbiAgZ2VucmU6IHZhcmNoYXIoXCJnZW5yZVwiLCB7IGxlbmd0aDogMTAwIH0pLFxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikuZGVmYXVsdE5vdygpLFxuICB1cGRhdGVkQXQ6IHRpbWVzdGFtcChcInVwZGF0ZWRfYXRcIikuZGVmYXVsdE5vdygpLFxufSwgKHRhYmxlKSA9PiBbXG4gIHBnUG9saWN5KFwiZ2lnc19wdWJsaWNfcmVhZFwiLCB7IGZvcjogXCJzZWxlY3RcIiwgdG86IFwicHVibGljXCIsIHVzaW5nOiBzcWxgdHJ1ZWAgfSksXG4gIHBnUG9saWN5KFwiZ2lnc19jcmVhdG9yX3dyaXRlXCIsIHsgZm9yOiBcImFsbFwiLCB0bzogXCJhdXRoZW50aWNhdGVkXCIsIHVzaW5nOiBzcWxgYXV0aC51aWQoKSA9ICR7dGFibGUuY3JlYXRvcklkfWAsIHdpdGhDaGVjazogc3FsYGF1dGgudWlkKCkgPSAke3RhYmxlLmNyZWF0b3JJZH1gIH0pLFxuXSk7XG5cbi8vIEdpZyBNYW5hZ2VycyB0YWJsZSBmb3IgY29sbGFib3JhdGl2ZSBlZGl0aW5nXG5leHBvcnQgY29uc3QgZ2lnTWFuYWdlcnMgPSBwZ1RhYmxlKFwiZ2lnX21hbmFnZXJzXCIsIHtcbiAgaWQ6IHZhcmNoYXIoXCJpZFwiKS5wcmltYXJ5S2V5KCkuZGVmYXVsdChzcWxgZ2VuX3JhbmRvbV91dWlkKClgKSxcbiAgZ2lnSWQ6IHZhcmNoYXIoXCJnaWdfaWRcIikubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gZ2lncy5pZCksXG4gIHVzZXJJZDogdmFyY2hhcihcInVzZXJfaWRcIikubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQpLFxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikuZGVmYXVsdE5vdygpLFxufSwgKHRhYmxlKSA9PiBbXG4gIHBnUG9saWN5KFwiZ2lnX21hbmFnZXJzX3JlYWRcIiwgeyBmb3I6IFwic2VsZWN0XCIsIHRvOiBcImF1dGhlbnRpY2F0ZWRcIiwgdXNpbmc6IHNxbGB0cnVlYCB9KSxcbiAgcGdQb2xpY3koXCJnaWdfbWFuYWdlcnNfd3JpdGVcIiwgeyBmb3I6IFwiYWxsXCIsIHRvOiBcImF1dGhlbnRpY2F0ZWRcIiwgdXNpbmc6IHNxbGBhdXRoLnVpZCgpID0gJHt0YWJsZS51c2VySWR9YCwgd2l0aENoZWNrOiBzcWxgYXV0aC51aWQoKSA9ICR7dGFibGUudXNlcklkfWAgfSksXG5dKTtcblxuZXhwb3J0IGNvbnN0IGdpZ3NSZWxhdGlvbnMgPSByZWxhdGlvbnMoZ2lncywgKHsgb25lLCBtYW55IH0pID0+ICh7XG4gIGNyZWF0b3I6IG9uZSh1c2Vycywge1xuICAgIGZpZWxkczogW2dpZ3MuY3JlYXRvcklkXSxcbiAgICByZWZlcmVuY2VzOiBbdXNlcnMuaWRdLFxuICB9KSxcbiAgYmFuZDogb25lKGJhbmRzLCB7XG4gICAgZmllbGRzOiBbZ2lncy5iYW5kSWRdLFxuICAgIHJlZmVyZW5jZXM6IFtiYW5kcy5pZF0sXG4gIH0pLFxuICBtdXNpY2lhbjogb25lKG11c2ljaWFuUHJvZmlsZXMsIHtcbiAgICBmaWVsZHM6IFtnaWdzLm11c2ljaWFuSWRdLFxuICAgIHJlZmVyZW5jZXM6IFttdXNpY2lhblByb2ZpbGVzLmlkXSxcbiAgfSksXG4gIG1hbmFnZXJzOiBtYW55KGdpZ01hbmFnZXJzKSxcbn0pKTtcblxuZXhwb3J0IGNvbnN0IGdpZ01hbmFnZXJzUmVsYXRpb25zID0gcmVsYXRpb25zKGdpZ01hbmFnZXJzLCAoeyBvbmUgfSkgPT4gKHtcbiAgZ2lnOiBvbmUoZ2lncywge1xuICAgIGZpZWxkczogW2dpZ01hbmFnZXJzLmdpZ0lkXSxcbiAgICByZWZlcmVuY2VzOiBbZ2lncy5pZF0sXG4gIH0pLFxuICB1c2VyOiBvbmUodXNlcnMsIHtcbiAgICBmaWVsZHM6IFtnaWdNYW5hZ2Vycy51c2VySWRdLFxuICAgIHJlZmVyZW5jZXM6IFt1c2Vycy5pZF0sXG4gIH0pLFxufSkpO1xuXG5cbmV4cG9ydCBjb25zdCBpbnNlcnRHaWdTY2hlbWEgPSBjcmVhdGVJbnNlcnRTY2hlbWEoZ2lncykub21pdCh7XG4gIGlkOiB0cnVlLFxuICBjcmVhdGVkQXQ6IHRydWUsXG4gIHVwZGF0ZWRBdDogdHJ1ZSxcbn0pO1xuXG5leHBvcnQgdHlwZSBJbnNlcnRHaWcgPSB6LmluZmVyPHR5cGVvZiBpbnNlcnRHaWdTY2hlbWE+O1xuZXhwb3J0IHR5cGUgR2lnID0gdHlwZW9mIGdpZ3MuJGluZmVyU2VsZWN0O1xuLy8gUmVwb3J0cyB0YWJsZVxuZXhwb3J0IGNvbnN0IHJlcG9ydHMgPSBwZ1RhYmxlKFwicmVwb3J0c1wiLCB7XG4gIGlkOiB2YXJjaGFyKFwiaWRcIikucHJpbWFyeUtleSgpLmRlZmF1bHQoc3FsYGdlbl9yYW5kb21fdXVpZCgpYCksXG4gIHJlcG9ydGVySWQ6IHZhcmNoYXIoXCJyZXBvcnRlcl9pZFwiKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiB1c2Vycy5pZCksXG4gIHRhcmdldFR5cGU6IHZhcmNoYXIoXCJ0YXJnZXRfdHlwZVwiLCB7IGxlbmd0aDogNTAgfSkubm90TnVsbCgpLCAvLyAndXNlcicsICdiYW5kJywgJ2dpZycsICdsaXN0aW5nJywgJ21lc3NhZ2UnXG4gIHRhcmdldElkOiB2YXJjaGFyKFwidGFyZ2V0X2lkXCIpLm5vdE51bGwoKSxcbiAgcmVhc29uOiB2YXJjaGFyKFwicmVhc29uXCIsIHsgbGVuZ3RoOiAxMDAgfSkubm90TnVsbCgpLCAvLyAnaGFyYXNzbWVudCcsICdzcGFtJywgJ2luYXBwcm9wcmlhdGVfY29udGVudCcsICdvdGhlcidcbiAgZGVzY3JpcHRpb246IHRleHQoXCJkZXNjcmlwdGlvblwiKSxcbiAgc3RhdHVzOiB2YXJjaGFyKFwic3RhdHVzXCIsIHsgbGVuZ3RoOiA1MCB9KS5ub3ROdWxsKCkuZGVmYXVsdChcInBlbmRpbmdcIiksIC8vICdwZW5kaW5nJywgJ3Jldmlld2VkJywgJ3Jlc29sdmVkJywgJ2Rpc21pc3NlZCdcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoXCJjcmVhdGVkX2F0XCIpLmRlZmF1bHROb3coKSxcbiAgdXBkYXRlZEF0OiB0aW1lc3RhbXAoXCJ1cGRhdGVkX2F0XCIpLmRlZmF1bHROb3coKSxcbn0sICh0YWJsZSkgPT4gW1xuICBwZ1BvbGljeShcInJlcG9ydHNfaW5zZXJ0XCIsIHsgZm9yOiBcImluc2VydFwiLCB0bzogXCJhdXRoZW50aWNhdGVkXCIsIHdpdGhDaGVjazogc3FsYGF1dGgudWlkKCkgPSAke3RhYmxlLnJlcG9ydGVySWR9YCB9KSxcbiAgcGdQb2xpY3koXCJyZXBvcnRzX2FkbWluX3JlYWRcIiwgeyBmb3I6IFwic2VsZWN0XCIsIHRvOiBcInNlcnZpY2Vfcm9sZVwiLCB1c2luZzogc3FsYHRydWVgIH0pLFxuXSk7XG5cbmV4cG9ydCBjb25zdCByZXBvcnRzUmVsYXRpb25zID0gcmVsYXRpb25zKHJlcG9ydHMsICh7IG9uZSB9KSA9PiAoe1xuICByZXBvcnRlcjogb25lKHVzZXJzLCB7XG4gICAgZmllbGRzOiBbcmVwb3J0cy5yZXBvcnRlcklkXSxcbiAgICByZWZlcmVuY2VzOiBbdXNlcnMuaWRdLFxuICB9KSxcbn0pKTtcblxuZXhwb3J0IGNvbnN0IGluc2VydFJlcG9ydFNjaGVtYSA9IGNyZWF0ZUluc2VydFNjaGVtYShyZXBvcnRzKS5vbWl0KHtcbiAgaWQ6IHRydWUsXG4gIGNyZWF0ZWRBdDogdHJ1ZSxcbiAgdXBkYXRlZEF0OiB0cnVlLFxuICBzdGF0dXM6IHRydWUsXG59KTtcblxuZXhwb3J0IHR5cGUgSW5zZXJ0UmVwb3J0ID0gei5pbmZlcjx0eXBlb2YgaW5zZXJ0UmVwb3J0U2NoZW1hPjtcbmV4cG9ydCB0eXBlIFJlcG9ydCA9IHR5cGVvZiByZXBvcnRzLiRpbmZlclNlbGVjdDtcbiJdLCJuYW1lcyI6WyJzcWwiLCJyZWxhdGlvbnMiLCJpbmRleCIsImpzb25iIiwicGdUYWJsZSIsInRleHQiLCJ0aW1lc3RhbXAiLCJ2YXJjaGFyIiwiaW50ZWdlciIsImJvb2xlYW4iLCJwZ1BvbGljeSIsImNyZWF0ZUluc2VydFNjaGVtYSIsInNlc3Npb25zIiwic2lkIiwicHJpbWFyeUtleSIsInNlc3MiLCJub3ROdWxsIiwiZXhwaXJlIiwidGFibGUiLCJvbiIsImZvciIsInRvIiwidXNpbmciLCJ3aXRoQ2hlY2siLCJ1c2VycyIsImlkIiwiZGVmYXVsdCIsImVtYWlsIiwidW5pcXVlIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJwcm9maWxlSW1hZ2VVcmwiLCJkYXRlT2ZCaXJ0aCIsImxhc3RBY3RpdmVBdCIsImNyZWF0ZWRBdCIsImRlZmF1bHROb3ciLCJ1cGRhdGVkQXQiLCJtdXNpY2lhblByb2ZpbGVzIiwidXNlcklkIiwicmVmZXJlbmNlcyIsIm5hbWUiLCJsZW5ndGgiLCJiaW8iLCJpbnN0cnVtZW50cyIsImFycmF5IiwiZ2VucmVzIiwiZXhwZXJpZW5jZUxldmVsIiwiYXZhaWxhYmlsaXR5IiwibG9jYXRpb24iLCJjb250YWN0RW1haWwiLCJjb250YWN0UGhvbmUiLCJpc0FjdGl2ZSIsImlzTG9va2luZ0Zvckdyb3VwIiwiaXNMb2NhdGlvblNoYXJlZCIsImlzQ29udGFjdEluZm9QdWJsaWMiLCJzb2NpYWxMaW5rcyIsIiR0eXBlIiwiaW5mbHVlbmNlcyIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwibXVzaWNpYW5Qcm9maWxlc1JlbGF0aW9ucyIsIm9uZSIsInVzZXIiLCJmaWVsZHMiLCJpbnNlcnRNdXNpY2lhblByb2ZpbGVTY2hlbWEiLCJvbWl0IiwibWFya2V0cGxhY2VMaXN0aW5ncyIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJjYXRlZ29yeSIsImNvbmRpdGlvbiIsInByaWNlIiwicHJpY2VUeXBlIiwiaW1hZ2VVcmxzIiwibWFya2V0cGxhY2VMaXN0aW5nc1JlbGF0aW9ucyIsImluc2VydE1hcmtldHBsYWNlTGlzdGluZ1NjaGVtYSIsIm5vdGlmaWNhdGlvbnMiLCJ0eXBlIiwibWVzc2FnZSIsImxpbmsiLCJtZXRhZGF0YSIsImlzUmVhZCIsIm5vdGlmaWNhdGlvbnNSZWxhdGlvbnMiLCJpbnNlcnROb3RpZmljYXRpb25TY2hlbWEiLCJjb250YWN0UmVxdWVzdHMiLCJyZXF1ZXN0ZXJJZCIsInJlY2lwaWVudElkIiwic3RhdHVzIiwiY29udGFjdFJlcXVlc3RzUmVsYXRpb25zIiwicmVxdWVzdGVyIiwicmVsYXRpb25OYW1lIiwicmVjaXBpZW50IiwiaW5zZXJ0Q29udGFjdFJlcXVlc3RTY2hlbWEiLCJ2aWN0b3JpYVJlZ2lvbnMiLCJleHBlcmllbmNlTGV2ZWxzIiwiYXZhaWxhYmlsaXR5T3B0aW9ucyIsIm1hcmtldHBsYWNlQ2F0ZWdvcmllcyIsIml0ZW1Db25kaXRpb25zIiwibWVzc2FnZXMiLCJzZW5kZXJJZCIsInJlY2VpdmVySWQiLCJjb250ZW50IiwibWVzc2FnZXNSZWxhdGlvbnMiLCJzZW5kZXIiLCJyZWNlaXZlciIsImluc2VydE1lc3NhZ2VTY2hlbWEiLCJyZXZpZXdzIiwicmV2aWV3ZXJJZCIsInRhcmdldFR5cGUiLCJ0YXJnZXRJZCIsInJhdGluZyIsImNvbW1lbnQiLCJyZXZpZXdzUmVsYXRpb25zIiwicmV2aWV3ZXIiLCJpbnNlcnRSZXZpZXdTY2hlbWEiLCJiYW5kcyIsIndlYnNpdGVVcmwiLCJiYW5kc1JlbGF0aW9ucyIsImluc2VydEJhbmRTY2hlbWEiLCJyYXRlTGltaXRzIiwiaGl0cyIsIndpbmRvd1N0YXJ0IiwiYmFuZE1lbWJlcnMiLCJiYW5kSWQiLCJyb2xlIiwiaW5zdHJ1bWVudCIsImpvaW5lZEF0IiwiYmFuZE1lbWJlcnNSZWxhdGlvbnMiLCJiYW5kIiwiaW5zZXJ0QmFuZE1lbWJlclNjaGVtYSIsImdpZ3MiLCJjcmVhdG9ySWQiLCJtdXNpY2lhbklkIiwiZGF0ZSIsInRpY2tldFVybCIsImltYWdlVXJsIiwiY292ZXJJbWFnZVVybCIsImdlbnJlIiwiZ2lnTWFuYWdlcnMiLCJnaWdJZCIsImdpZ3NSZWxhdGlvbnMiLCJtYW55IiwiY3JlYXRvciIsIm11c2ljaWFuIiwibWFuYWdlcnMiLCJnaWdNYW5hZ2Vyc1JlbGF0aW9ucyIsImdpZyIsImluc2VydEdpZ1NjaGVtYSIsInJlcG9ydHMiLCJyZXBvcnRlcklkIiwicmVhc29uIiwicmVwb3J0c1JlbGF0aW9ucyIsInJlcG9ydGVyIiwiaW5zZXJ0UmVwb3J0U2NoZW1hIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./shared/schema.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/server/app-render/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "./work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "perf_hooks":
/*!*****************************!*\
  !*** external "perf_hooks" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = require("perf_hooks");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/drizzle-orm","vendor-chunks/zod","vendor-chunks/drizzle-zod","vendor-chunks/postgres","vendor-chunks/tslib","vendor-chunks/@supabase","vendor-chunks/iceberg-js","vendor-chunks/cookie"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fmessages%2Funread-count%2Froute&page=%2Fapi%2Fmessages%2Funread-count%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmessages%2Funread-count%2Froute.ts&appDir=%2Fhome%2Fryan%2FDocuments%2FProjects%2Fvic.band%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fryan%2FDocuments%2FProjects%2Fvic.band&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();