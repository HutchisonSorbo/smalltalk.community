<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CommunityOS - smalltalk.community Inc Dashboard</title>
    <!-- Scripts -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/prop-types/prop-types.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/recharts/2.10.3/Recharts.min.js"></script>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#003b6f',
                        secondary: '#f8fafc',
                        accent: '#c2410c',
                        support: '#1e40af',
                        success: '#10b981',
                        warning: '#f59e0b',
                        danger: '#ef4444',
                        background: '#ffffff',
                        surface: '#ffffff',
                        charcoal: '#0f172a',
                        'light-gray': '#f8fafc'
                    },
                    fontFamily: {
                        display: ['Plus Jakarta Sans', 'sans-serif'],
                        body: ['Inter', 'sans-serif']
                    },
                    boxShadow: {
                        'soft': '0 2px 15px -3px rgba(0, 0, 0, 0.07), 0 10px 20px -2px rgba(0, 0, 0, 0.04)',
                        'premium': '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',
                    }
                }
            }
        }
    </script>
    <style>
        /* Base styles */
        body {
            font-family: 'Inter', sans-serif;
        }

        .font-display {
            font-family: 'Plus Jakarta Sans', sans-serif;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #003b6f;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #1e40af;
        }

        .dark ::-webkit-scrollbar-track {
            background: #1e293b;
        }

        .dark ::-webkit-scrollbar-thumb {
            background: #334155;
        }

        /* Print styles */
        @media print {
            .no-print {
                display: none !important;
            }

            body {
                padding: 0 !important;
                margin: 0 !important;
                color: black !important;
                background: white !important;
            }

            .print-only {
                display: block !important;
            }

            section {
                page-break-inside: avoid;
                margin-bottom: 2rem;
            }

            @page {
                margin: 2cm;
            }

            /* Print footer standardization */
            .print-footer {
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                height: 1.2cm;
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 0 1.5cm;
                font-size: 8pt;
                color: #666;
                border-top: 1px solid #eee;
                background: white !important;
                z-index: 9999;
                font-family: 'Inter', sans-serif;
            }
        }

        /* Mobile optimisation */
        @media (max-width: 640px) {

            /* Ensure modals fit on mobile screens */
            .modal-content {
                max-height: 90vh;
                overflow-y: auto;
            }
        }

        /* Touch target enhancement - WCAG 2.2 compliance */
        button,
        a,
        [role="button"] {
            min-height: 44px;
        }

        /* Prevent iOS zoom on form inputs */
        input[type="text"],
        input[type="email"],
        input[type="url"],
        input[type="password"],
        input[type="search"],
        textarea,
        select {
            font-size: 16px !important;
        }

        /* Line clamp utility for truncating text */
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        /* Animations */
        @keyframes fade-in-up {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-in-up {
            animation: fade-in-up 0.5s ease-out forwards;
        }

        /* Hide scrollbar for cleaner horizontal nav */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }

        .scrollbar-hide {
            -ms-overflow-style: none;
            /* IE and Edge */
            scrollbar-width: none;
            /* Firefox */
        }
    </style>
</head>

<body class="bg-gray-50 dark:bg-slate-900 transition-colors duration-300">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo, useRef } = React;
        const {
            BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer,
            PieChart, Pie, Cell, LineChart, Line, AreaChart, Area
        } = Recharts;

        // Icons
        const Icons = {
            Home: () => <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" /></svg>,
            Scale: () => <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3" /></svg>,
            Direction: () => <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-1.447-.894L15 9m0 11V9" /></svg>,
            Alerts: () => <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" /></svg>,
            Finance: () => <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>,
            Safety: () => <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" /></svg>,
            Tech: () => <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" /></svg>,
            Chart: () => <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" /></svg>,
            Involved: () => <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 01-9-6.338M12 7.217a4.5 4.5 0 00-4.5 4.5M12 7.217a4.5 4.5 0 014.5 4.5M12 7.217V4.5" /></svg>,
            Library: () => <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z" /></svg>,
            Search: () => <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>,
            Printer: () => <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z" /></svg>,
            Moon: () => <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" /></svg>,
            Sun: () => <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" /></svg>,
            ChevronDown: () => <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" /></svg>,
            Check: () => <svg xmlns="http://www.w3.org/2000/svg" className="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={3} d="M5 13l4 4L19 7" /></svg>,
            Plus: () => <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" /></svg>,
            Edit: () => <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>,
            Trash: () => <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" /></svg>,
            Download: () => <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" /></svg>,
            Upload: () => <svg xmlns="http://www.w3.org/2000/svg" className="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12" /></svg>,
            Help: () => <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>,
            Mail: () => <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg>,
            Community: () => <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" /></svg>,
            X: () => <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" /></svg>,
        };

        // ============================================================
        // DATA PERSISTENCE & VALIDATION UTILITIES
        // ============================================================
        const STORAGE_KEY = 'smalltalk_hub_data_v1';
        const FIRST_VISIT_KEY = 'smalltalk_hub_first_visit';
        const STORAGE_LIMIT = 4500000; // ~4.5MB warning threshold

        // Sanitise user input to prevent XSS attacks
        const sanitiseInput = (input) => {
            if (typeof input !== 'string') return input;
            const div = document.createElement('div');
            div.textContent = input;
            return div.innerHTML;
        };

        // Validation rules for all user-editable fields
        const VALIDATION_RULES = {
            categoryName: { maxLength: 100, required: true, pattern: /^[a-zA-Z0-9\s\-&,.'()]+$/, errorMessage: 'Category name is required (max 100 characters, letters, numbers, and basic punctuation only)' },
            regionName: { maxLength: 100, required: true, pattern: /^[a-zA-Z0-9\s\-&,.'()]+$/, errorMessage: 'Region name is required (max 100 characters)' },
            resourceTitle: { maxLength: 200, required: true, errorMessage: 'Resource title is required (max 200 characters)' },
            resourceDescription: { maxLength: 2000, required: false, errorMessage: 'Description must be under 2000 characters' },
            url: { required: false, pattern: /^(https?:\/\/.+)?$/, errorMessage: 'URL must start with http:// or https://' }
        };

        // Validate a single field against its rules
        const validateField = (value, rules) => {
            const errors = [];
            const trimmedValue = value?.trim() || '';

            if (rules.required && !trimmedValue) {
                errors.push('This field is required');
            }
            if (trimmedValue && rules.maxLength && trimmedValue.length > rules.maxLength) {
                errors.push(`Maximum ${rules.maxLength} characters allowed`);
            }
            if (trimmedValue && rules.pattern && !rules.pattern.test(trimmedValue)) {
                errors.push('Contains invalid characters');
            }
            return errors;
        };

        // Check if all fields in a form are valid
        const validateForm = (formData, fieldRules) => {
            const errors = {};
            let isValid = true;

            Object.keys(fieldRules).forEach(field => {
                const fieldErrors = validateField(formData[field], fieldRules[field]);
                if (fieldErrors.length > 0) {
                    errors[field] = fieldErrors;
                    isValid = false;
                }
            });

            return { isValid, errors };
        };

        // Save data to localStorage with error handling
        const saveUserData = (data) => {
            try {
                const sanitised = JSON.parse(JSON.stringify(data, (key, value) =>
                    typeof value === 'string' ? sanitiseInput(value) : value
                ));
                const jsonString = JSON.stringify(sanitised);

                if (jsonString.length > STORAGE_LIMIT) {
                    console.warn('Approaching localStorage limit');
                    return { success: true, warning: 'Approaching storage limit. Consider exporting your data.' };
                }

                localStorage.setItem(STORAGE_KEY, jsonString);
                return { success: true, size: jsonString.length };
            } catch (error) {
                console.error('Storage error:', error);
                return { success: false, error: error.message };
            }
        };

        // Load data from localStorage with error handling
        const loadUserData = () => {
            try {
                const jsonString = localStorage.getItem(STORAGE_KEY);
                if (!jsonString) return null;
                return JSON.parse(jsonString);
            } catch (error) {
                console.error('Load error:', error);
                localStorage.removeItem(STORAGE_KEY);
                return null;
            }
        };

        // Check if this is the user's first visit
        const isFirstVisit = () => {
            return !localStorage.getItem(FIRST_VISIT_KEY);
        };

        // Mark first visit as complete
        const markFirstVisitComplete = () => {
            localStorage.setItem(FIRST_VISIT_KEY, 'true');
        };

        // Generate unique ID for new items
        const generateId = () => {
            return Date.now().toString(36) + Math.random().toString(36).substr(2);
        };

        // Default user data structure
        const DEFAULT_USER_DATA = {
            categories: [],
            regions: [],
            resources: [],
            lastSaved: null
        };

        const unifiedData = {
            organisation: {
                name: "smalltalk.community Inc",
                type: "Incorporated Association (Victoria)",
                status: "Establishment (2025-2026)",
                planPeriod: "2025-2027",
                vision: "Where every generation finds belonging.",
                mission: "Building intergenerational connections and inclusive digital infrastructure for regional communities.",
                context: {
                    problem: "Regional isolation and digital divide across generations.",
                    opportunity: "Leveraging technology to create meaningful community participation and co-governance.",
                    stats: [
                        { label: "Regional Target", value: "Victoria", source: "Strategic Plan" },
                        { label: "Primary Focus", value: "Intergenerational", source: "Constitution" },
                        { label: "Legal Structure", value: "Not-for-Profit", source: "ACNC Standards" }
                    ]
                },
                values: [
                    { title: "Universal Inclusion", icon: "üåç", description: "Serving all ages, backgrounds, and identities without exception." },
                    { title: "Genuine Participation", icon: "ü§ù", description: "Moving beyond tokenism to real agency and co-design." },
                    { title: "Transparency", icon: "üíé", description: "Plain English governance and open financial reporting." },
                    { title: "Safety & Dignity", icon: "üõ°Ô∏è", description: "Non-negotiable safeguarding for children, young people, and seniors." }
                ],
                founder: {
                    name: "Ryan",
                    role: "Founder & Strategic Lead",
                    email: "ryanhutchison@outlook.com.au",
                    bio: "With a background in community development and a passion for technology, Ryan is bridging the gap between traditional services for young people and the digital world.",
                    why: "I believe technology should bring us together, not drive us apart. Regional communities deserve the same high-quality digital tools as major cities."
                },
                cofounder: {
                    name: "Cass",
                    role: "Co-founder & Chair",
                    bio: "Cass brings essential governance leadership as Chair, responsible for governing (not managing) the organisation. Her role includes chairing meetings, ensuring constitutional adherence, stakeholder relations, and acting as primary signatory.",
                    protections: "The Association's rules include an indemnity clause for office holders acting in good faith, minimising liability while maximising governance effectiveness."
                }
            },
            constitution: {
                parts: [
                    { id: "part1", title: "Identity & Purpose", clauses: [1, 2, 3] },
                    { id: "part2", title: "Members & Participation", clauses: [4, 5, 6, 7, 8] },
                    { id: "part3", title: "Leadership Team", clauses: [9, 10, 11, 12, 13, 14, 15, 16, 17] },
                    { id: "part4", title: "Meetings & Say", clauses: [18, 19, 20, 21] },
                    { id: "part5", title: "Money & Resources", clauses: [22, 23, 24, 25] },
                    { id: "part6", title: "Working Together", clauses: [26, 27, 28, 29] },
                    { id: "part7", title: "Making Changes", clauses: [30] },
                    { id: "part8", title: "Winding Up", clauses: [31] },
                    { id: "part9", title: "Charity Standards", clauses: [32, 33, 34] },
                    { id: "part10", title: "Final Notes", clauses: [35, 36, 37] }
                ],
                clauses: {
                    1: { title: "Our Name", content: "We are called **smalltalk.community Inc**. We are an incorporated association registered in Victoria, Australia.", plain: "We are a legal group called smalltalk.community Inc." },
                    2: { title: "What We Do", content: "smalltalk.community Inc exists to strengthen regional communities across Victoria by bringing people together across all ages, backgrounds, and identities. We work with regional towns and shires to build connection, reduce isolation, and create intergenerational opportunities.", plain: "We bring folks of all ages together in regional areas to help them feel less lonely and more connected." },
                    3: { title: "Not-for-Profit", content: "Everything we do is for community benefit, not private profit. Money goes into programs, costs, and fair staff pay. If we close, money goes to another charity.", plain: "We don't make personal money. All money goes to helping people." },
                    4: { title: "Types of Members", content: "Full Members (voting, 18+), Community Participants (all ages, no fee), Organisational Partners, and Sustaining Supporters.", plain: "Anyone can join in. Some folks like 18+ members can vote on big things." },
                    5: { title: "How to Join", content: "Write to us. No fee for membership or participation. Committee considers voting membership applications.", plain: "Just tell us you want to be part of it! It's free." },
                    6: { title: "Accessibility", content: "Standards meet WCAG 2.1 AA. Support for First Nations, LGBTIQA+, CALD, and people with disabilities.", plain: "We make sure everyone can use our tools and join our meetings, no matter their background or ability." },
                    7: { title: "Member Rights", content: "Full members can attend meetings, vote, and join the Committee. Participants have voice through advisory forums.", plain: "Members help make big decisions. Everyone is listened to." },
                    8: { title: "Ending Participation", content: "Ends if you resign, or if the Committee asks you to leave for serious harm to others (with appeal rights).", plain: "You can leave anytime. We only ask people to leave if they are hurting others." },
                    9: { title: "Leadership Team", content: "Chair, Co-Chair, Secretary, Treasurer, and up to 5 members. Focus on diverse representation.", plain: "A group of up to 9 volunteers helps lead the way." },
                    10: { title: "Choosing Leaders", content: "Elections every two years at the AGM. Committee can fill empty spots in between.", plain: "Members vote for leaders every two years." },
                    11: { title: "Founder Protections", content: "Ryan has rights to remain on Committee (if re-elected) and protect founding vision. Removal requires 2/3 vote for cause.", plain: "The person who started this has a special role to make sure we stick to the original plan." },
                    12: { title: "Committee Duties", content: "Manage money, achievement of purpose, hire staff, set policies, consult community, keep records.", plain: "The leaders look after our money and make sure we are doing what we said we would." },
                    13: { title: "Legal Duties", content: "Duties of care, honesty, acting in best interest, disclosing conflicts, following ACNC standards.", plain: "Leaders must be honest and careful with the organisation." },
                    14: { title: "Who Cannot Lead", content: "Disqualified persons, serious criminal convictions (past 10 years), banned directors.", plain: "We check leaders to make sure they are suitable to run a charity." },
                    15: { title: "Removing Leaders", content: "Resignation, disqualification, or 2/3 majority vote by members.", plain: "Leaders can step down or be voted out if they aren't doing the job right." },
                    16: { title: "Conflicts of Interest", content: "Must be disclosed. Cannot vote on matters where a personal financial benefit exists.", plain: "If a decision affects a leader's own pocket, they shouldn't vote on it." },
                    17: { title: "Making Decisions", content: "Quarterly meetings, 50% quorum, majority vote. Open to digital participation.", plain: "The team meets often and decides by voting. They can join from home on video." },
                    18: { title: "Annual General Meeting", content: "Report on year, financial statements, elections. Must be accessible and publicized 3 weeks ahead.", plain: "Once a year, everyone gets together to hear how we are going and pick leaders." },
                    19: { title: "Special Meetings", content: "Can be called for urgent matters by Committee or 25% of members.", plain: "If something big happens, we can have a meeting quickly." },
                    20: { title: "How Voting Works", content: "One vote per member. Big changes need 2/3 majority.", plain: "Every member gets a say. We use a show of hands or secret boxes." },
                    21: { title: "Quorum", content: "10 Full Members minimum for a meeting.", plain: "We need at least 10 folks there to make it official." },
                    22: { title: "Financial Year", content: "1 July to 30 June.", plain: "Our money year starts in July." },
                    23: { title: "Managing Money", content: "Dual approval for withdrawals, monthly checks, non-profit focused spending.", plain: "We are very careful with our dollars. Two people check every payment." },
                    24: { title: "Financial Report", content: "Presented at AGM. Shows income, spending, and assets.", plain: "We show everyone a list of every dollar we spent each year." },
                    25: { title: "Audits", content: "External audits performed as required by turnover or member request.", plain: "An outside expert checks our books to make sure everything is right." },
                    26: { title: "Advisory Forums", content: "Young People, Children, Seniors, and Community Advisory forums established for voice.", plain: "We have special groups for kids, young people, and seniors to tell us what they need." },
                    27: { title: "Core Policies", content: "Safeguarding, Risk, Inclusion, Privacy, Whistleblower, Digital Safety.", plain: "We have written rules for keeping people safe and protecting privacy." },
                    28: { title: "Records", content: "Registers of members, leaders, minutes, and finances. Accessible to members.", plain: "We keep good lists of everything we do. Members can ask to see them." },
                    29: { title: "Partnership", content: "Commitment to collaboration with schools, health services, and government.", plain: "We work with other groups to do more together." },
                    30: { title: "Changing Constitution", content: "Requires special resolution (2/3 majority) at a general meeting.", plain: "Changing these rules needs most people to agree." },
                    31: { title: "Winding Up", content: "Remaining assets go to another charity with similar purposes.", plain: "If we ever close, the money goes to another group helping people." },
                    32: { title: "ACNC Standards", content: "Commitment to all 6 national charity governance standards.", plain: "We follow the national rules for good charities." },
                    33: { title: "Ethics (YACVic)", content: "Adhere to the Code of Ethical Practice for the Victorian Youth Sector.", plain: "We follow strict ethical rules for working with young people." },
                    34: { title: "Regular Review", content: "Governance review every 3 years for effectiveness and inclusion.", plain: "Every three years, we check if our rules are still working/fair." },
                    35: { title: "Definitions", content: "Clear meanings for 'Associate', 'Ordinary Resolution', 'Quorum', etc.", plain: "Explaining the tricky words we use in this document." },
                    36: { title: "Severability", content: "If one part is illegal, the rest remains valid.", plain: "If one rule is found to be wrong by a court, the others stay." },
                    37: { title: "Legal Precedence", content: "Victorian/Australian law takes precedence over this document.", plain: "The law of the land is always the most important rule." }
                },
                membershipTypes: [
                    { id: "full", label: "Full Member", age: "18+", voting: "Yes", fee: "Free", icon: "üë§" },
                    { id: "community", label: "Participant", age: "All", voting: "Advisory", fee: "Free", icon: "üè†" },
                    { id: "partner", label: "Org Partner", age: "N/A", voting: "No", fee: "Free", icon: "üè¢" }
                ]
            },
            strategicPlan: {
                pillars: [
                    {
                        id: 1,
                        title: "Safe Digital Infrastructure",
                        subtitle: "The Foundation",
                        description: "Building community-owned platforms that are moderated, secure, and accessible.",
                        icon: "üõ°Ô∏è",
                        status: "in-progress",
                        priorities: [
                            { name: "Moderation Hub", desc: "Professional oversight of all digital interactions.", phase: "MVP" },
                            { name: "Accessibility First", desc: "WCAG 2.1 AA compliant interfaces.", phase: "MVP" },
                            { name: "Privacy by Design", desc: "Zero-party data ownership for users.", phase: "Year 2" }
                        ]
                    },
                    {
                        id: 2,
                        title: "Intergenerational Programs",
                        subtitle: "The Connection",
                        description: "Creating pathways for young people and seniors to share skills, stories, and belonging.",
                        icon: "üîÑ",
                        status: "planned",
                        priorities: [
                            { name: "Digital Mentors", desc: "Young people teaching tech to seniors.", phase: "Phase 1" },
                            { name: "Story Circles", desc: "Curated intergenerational storytelling events.", phase: "Year 2" }
                        ]
                    },
                    {
                        id: 3,
                        title: "Institutional Autonomy",
                        subtitle: "The Sustainability",
                        description: "Establishing a self-governing model independent of volatile political funding cycles.",
                        icon: "üèõÔ∏è",
                        status: "planned",
                        priorities: [
                            { name: "Endowment Fund", desc: "Diverse revenue streams including consulting.", phase: "Year 3" },
                            { name: "Young Person's Board Seat", desc: "Direct governance power for young people.", phase: "Phase 1" }
                        ]
                    },
                    {
                        id: 4,
                        title: "Regional Innovation",
                        subtitle: "The Expansion",
                        description: "Standardising regional community tech so every town can have its own hub.",
                        icon: "üìç",
                        status: "initial",
                        priorities: [
                            { name: "Town Kits", desc: "Open-source governance and tech templates.", phase: "Year 3" }
                        ]
                    }
                ],
                timeline: [
                    {
                        phase: 1, name: "Foundation", period: "Jun - Aug 2026", icon: "üèóÔ∏è", status: "current", description: "Legal incorporation, board formation, and core policy development.", focus: "Governance & Ethics", milestones: [
                            { category: "LEGAL", item: "Incorporation as Association", status: "done" },
                            { category: "BOARD", item: "Founding Directors Recruited", status: "todo" },
                            { category: "FINANCE", item: "ACNC Registration", status: "todo" }
                        ]
                    },
                    {
                        phase: 2, name: "Build", period: "Sep - Nov 2026", icon: "üíª", status: "next", description: "MVP development of the digital hub and safeguarding systems.", focus: "Platform Development", milestones: [
                            { category: "TECH", item: "Moderation Hub MVP", status: "todo" },
                            { category: "SAFEGUARDING", item: "Audit Systems Built", status: "todo" }
                        ]
                    },
                    {
                        phase: 3, name: "Pilot", period: "Dec 2026 - Feb 2027", icon: "üöÄ", status: "planned", description: "First intergenerational cohort launched in Murrindindi Shire.", focus: "Community Impact", milestones: [
                            { category: "IMPACT", item: "First 50 Young People/Seniors Joined", status: "todo" }
                        ]
                    },
                    {
                        phase: 4, name: "Scale", period: "Mar - May 2027", icon: "üìà", status: "planned", description: "Regional expansion framework and sustainability modeling.", focus: "Sustainability", milestones: [
                            { category: "GROWTH", item: "Extended Shire Partnerships", status: "todo" }
                        ]
                    }
                ],
                boardRoles: [
                    { id: "chair", title: "Board Chair", icon: "üëë", timeCommitment: "4-6 hrs/month", purpose: "Lead the board, oversee strategic direction, and manage the Executive Director relationship.", responsibilities: ["Chair board meetings", "Stakeholder relations", "Succession planning"], idealBackground: "Experienced in governance and regional community leadership.", isNot: "A micro-managing operational role." },
                    { id: "secretary", title: "Board Secretary", icon: "üìù", timeCommitment: "3-5 hrs/month", purpose: "Ensure compliance, maintain records, and manage constitutional obligations.", responsibilities: ["Minute taking", "ACNC reporting", "Member register"], idealBackground: "Organised, detail-oriented, understanding of Victorian assoc law.", isNot: "A basic admin role without governance input." },
                    { id: "treasurer", title: "Board Treasurer", icon: "üí∞", timeCommitment: "3-5 hrs/month", purpose: "Maintain financial oversight, ensure sustainability, and report on organisational health.", responsibilities: ["Financial reporting", "Audit oversight", "Budgeting"], idealBackground: "CPA/CA or significant financial management experience.", isNot: "A book-keeping service." },
                    { id: "youth", title: "Youth Advisor", icon: "üå±", timeCommitment: "2-4 hrs/month", purpose: "Ensure young people's voice is at the center of all board decision-making.", responsibilities: ["Young people's forum advocacy", "Safety oversight", "Peer engagement"], idealBackground: "Aged 18-24 with passion for regional community.", isNot: "A tokenistic role." }
                ],
                financials: {
                    scenarios: {
                        conservative: { label: "Conservative", totalRevenue: 85000, description: "Minimal grant success, slow consulting growth.", revenueBreakdown: [{ name: "Grants", value: 60000, color: "#003b6f" }, { name: "Consulting", value: 15000, color: "#c2410c" }, { name: "Donations", value: 10000, color: "#10b981" }], notes: "Relies on core foundational grants only.", revenue: [{ year: 2026, grants: 60000, consulting: 15000, sponsorship: 5000 }] },
                        realistic: { label: "Realistic", totalRevenue: 145000, description: "Mainstream project success and moderate consulting uptake.", revenueBreakdown: [{ name: "Grants", value: 100000, color: "#003b6f" }, { name: "Consulting", value: 30000, color: "#c2410c" }, { name: "Donations", value: 15000, color: "#10b981" }], notes: "Standard trajectory for early-stage regional NFP.", revenue: [{ year: 2026, grants: 100000, consulting: 30000, sponsorship: 10000 }] },
                        optimistic: { label: "Optimistic", totalRevenue: 220000, description: "Major multi-year grant and high demand for regional tech consulting.", revenueBreakdown: [{ name: "Grants", value: 150000, color: "#003b6f" }, { name: "Consulting", value: 50000, color: "#c2410c" }, { name: "Donations", value: 20000, color: "#10b981" }], notes: "Growth-accelerated path.", revenue: [{ year: 2026, grants: 150000, consulting: 50000, sponsorship: 20000 }] }
                    }
                },
                risks: [
                    { id: 1, cat: "GOVERNANCE", name: "Board Vacancy", risk: "Inability to find founding directors leads to poor compliance.", impact: 4, likelihood: 3, mitigation: "Active head-hunting and transparent prospectus." },
                    { id: 2, cat: "SAFEGUARDING", name: "Digital Breach", risk: "Compromise of young people's user data or unsafe interaction.", impact: 5, likelihood: 2, mitigation: "Professional moderation and security-first tech stack." }, ,
                    { id: 3, cat: "FINANCIAL", name: "Grant Shortfall", risk: "Insufficient funds to launch Year 1 pilot.", impact: 4, likelihood: 3, mitigation: "Diverse revenue plan (Consulting/Donations) and lean MVP." },
                    { id: 4, cat: "OPERATIONAL", name: "Founder Burnout", risk: "Ryan's 10-hour structural cap exceeded, leading to project delay.", impact: 4, likelihood: 4, mitigation: "Strict traffic light system and delegation to board/volunteers." }
                ],
                metrics: {
                    year1: {
                        youth: [{ label: "Active Users", value: "100+" }, { label: "Workshop Attendance", value: "85%" }],
                        adult: [{ label: "Mentors Recruited", value: "20" }, { label: "Professional Partners", value: "5" }],
                        senior: [{ label: "Connection Score", value: "+40%" }, { label: "Digital Confidence", value: "75%" }],
                        org: [{ label: "Service Integration", value: "3 Orgs" }, { label: "Cross-Pollination", value: "High" }]
                    }
                },
                safeguarding: {
                    headline: "Safety is our Structural Foundation",
                    status: "Developing Protocols",
                    statusNote: "We are currently moving from concept to documented policy compliance with Victorian Child Safe Standards.",
                    commitments: [
                        { title: "Empowerment", desc: "People know their rights and how to speak up." },
                        { title: "Informed Families", desc: "Parents and guardians are our active partners." },
                        { title: "Equity Focused", desc: "Special attention to First Nations and diverse groups." },
                        { title: "Continuous Improvement", desc: "Every incident leads to a system redesign." }
                    ],
                    policies: [
                        { title: "Multi-Age Framework", content: "Specific protocols for 5-11, 12-24, and 65+ interactions." },
                        { title: "Professional Boundaries", content: "Strict code of conduct for all staff and volunteers." },
                        { title: "Prevention Response", content: "Immediate-action workflows for all safety concerns." },
                        { title: "Accountability", content: "Transparent reporting to board and community." }
                    ],
                    realityCheck: "We acknowledge that zero risk is impossible in any community setting. Our goal is to create the most robust mitigation system possible through professional moderation and clear intergenerational boundaries."
                },
                technology: {
                    stack: [
                        { name: "React 18", role: "UI LAYER", icon: "‚öõÔ∏è", desc: "Fast, accessible, and maintainable user interface." },
                        { name: "Supabase", role: "BACKEND", icon: "‚ö°", desc: "Secure data storage and reliable authentication." },
                        { name: "Tailwind CSS", role: "STYLING", icon: "üé®", desc: "Accessible-first, consistent design system." },
                        { name: "Vercel", role: "DEPLOYMENT", icon: "‚ñ≤", desc: "Regional edge network delivery for performance." }
                    ],
                    ecosystem: [
                        { name: "Governance Hub", icon: "üèõÔ∏è", desc: "Constitution, board papers, and transparency docs." },
                        { name: "Financial Suite", icon: "üìä", desc: "Real-time sustainability modeling for stakeholders." },
                        { name: "Safeguarding Centre", icon: "üõ°Ô∏è", desc: "Reporting portal and policy library." },
                        { name: "Community Roster", icon: "üìÖ", desc: "Coordinating intergenerational connections." }
                    ],
                    mvp: {
                        in: ["Mobile-responsive portal", "Basic member registry", "Moderation backend", "Resource library"],
                        out: ["Native mobile app", "AI-driven matching", "Advanced financial automation", "Multi-region town kits"]
                    }
                },
                faq: {
                    board: [
                        { q: "Is this a paid role?", a: "No, board positions are voluntary founded on community contribution." },
                        { q: "What is the liability?", a: "We maintain Directors & Officers insurance once incorporated." }
                    ],
                    funder: [
                        { q: "How do you measure impact?", a: "Using the UCLA Loneliness Scale and community-designed KPIs." },
                        { q: "What is the exit strategy?", a: "Handover to regional sustainable governance within 3 years." }
                    ],
                    community: [
                        { q: "Is it really free?", a: "Yes. We believe belonging should never have a price tag." },
                        { q: "Is it safe for my kids?", a: "We meet all Victorian Child Safe Standards with professional moderation." }
                    ]
                },
                getInvolved: [
                    { title: "Join the Board", role: "Director", shortDesc: "Shape our founding governance and long-term vision.", fullDesc: "As a founding director, you'll help establish the governance structure that will guide smalltalk.community for years to come. You'll work alongside Ryan and Cass to set strategic direction, ensure compliance with ACNC standards, and build a sustainable organisation.", requirements: ["Commitment to regional community development", "Governance or board experience preferred", "4-6 hours per month availability", "Passion for intergenerational connection"], benefits: ["Shape a new community organisation from the ground up", "Directors & Officers insurance coverage", "Professional development in NFP governance", "Network with regional community leaders"], cta: "Learn More", emailSubject: "Expression of Interest - Board Director Position" },
                    { title: "Founding Partner", role: "Organisation", shortDesc: "Integrate your services with our intergenerational hub.", fullDesc: "Partner organisations help us extend our reach and impact. We're seeking health services, schools, neighbourhood houses, and community groups who want to collaborate on intergenerational programming in Murrindindi Shire.", requirements: ["Alignment with our values of inclusion and safety", "Capacity to participate in joint programming", "Willingness to sign a collaborative MOU", "Based in or serving Murrindindi Shire"], benefits: ["Access to our digital platform for your community", "Co-branded intergenerational programs", "Shared data insights (anonymised)", "Joint grant application opportunities"], cta: "Learn More", emailSubject: "Partnership Inquiry - [Organisation Name]" },
                    { title: "Strategic Advisor", role: "Expert", shortDesc: "Provide specific domain advice (Legal, Tech, Health).", fullDesc: "We're seeking pro-bono advisors who can provide expert guidance in specific areas. This is a flexible, as-needed arrangement where your expertise helps us make better decisions without requiring ongoing time commitment.", requirements: ["Professional expertise in Law, Technology, Health, or Finance", "Availability for occasional consultations (1-2 hours/quarter)", "Willingness to provide pro-bono advice", "Understanding of regional/rural context preferred"], benefits: ["Contribute expertise to meaningful community work", "Flexible time commitment", "Recognition in our annual report", "Network with passionate community builders"], cta: "Learn More", emailSubject: "Strategic Advisor Offer - [Your Expertise Area]" },
                    { title: "Volunteer", role: "Community", shortDesc: "Help us test the platform and run initial workshops.", fullDesc: "Community volunteers are the heart of our operations. From testing our digital platforms to helping run intergenerational events in your local area, there are many ways to contribute based on your skills and availability.", requirements: ["Live in or near Murrindindi Shire", "Willingness to complete a Working With Children Check", "Enthusiasm for connecting generations", "Any level of tech skills welcome"], benefits: ["Training in digital facilitation", "Meaningful community impact", "Flexible volunteer hours", "References and skill development"], cta: "Learn More", emailSubject: "Volunteer Registration - [Your Name]" }
                ]
            },
            operationalFramework: {
                governanceCalendar: [
                    { month: "Jun 2026", events: ["Incorporation Lodgement", "Founding Board Recruitment Start", "Website Launch"] },
                    { month: "Jul 2026", events: ["First Board Meeting", "ACNC Application", "Public Prospectus Event"] },
                    { month: "Aug 2026", events: ["Constitution Finalisation", "Policy Development Workshop", "Bank Account Open"] },
                    { month: "Sep 2026", events: ["Safeguarding Audit", "Grant Writing Round 1", "Tech Stack Build Start"] },
                    { month: "Oct 2026", events: ["Partner MOU Signing", "MVP Alpha Testing", "Community Forum #1"] },
                    { month: "Nov 2026", events: ["Impact Metrics Baseline", "Financial Year Close", "MVP Beta Release"] }
                ],
                geographicalFirewall: {
                    inner: "Murrindindi Shire (Full Integration)",
                    outer: "Victoria (Digital Access)",
                    primaryFocus: "Murrindindi Shire",
                    towns: [
                        "Acheron", "Alexandra", "Buxton", "Castella", "Cathkin", "Caveat", "Cheviot", "Devils River", "Dropmore", "Eildon",
                        "Fawcett", "Flowerdale", "Ghin Ghin", "Glenburn", "Gobur", "Gooram", "Highlands", "Homewood", "Kanumbra", "Kerrisdale",
                        "Killingworth", "Kinglake", "Kinglake Central", "Kinglake West", "Koriella", "Limestone", "Maintongoon", "Marysville",
                        "Merton", "Molesworth", "Murrindindi", "Narbethong", "Pheasant Creek", "Rubicon", "Ruffy", "Strath Creek", "Taggerty",
                        "Taylor Bay", "Terip Terip", "Thornton", "Toolangi", "Trawool", "Woods Point", "Yarck", "Yea"
                    ],
                    majorTowns: ["Alexandra", "Eildon", "Kinglake", "Marysville", "Yea"],
                    rules: [
                        "We will be focusing entirely on Murrindindi Shire during the pilot phase, scaling when the model is proven and successful.",
                        "Murrindindi Shire is our focus for physical-digital hybrid interaction.",
                        "Regional scaling will only occur once the Murrindindi model is fully validated and successful."
                    ],
                    context: "The Murrindindi Shire community carries the legacy of the 2009 Black Saturday bushfires, cultivating fierce independence combined with healthy skepticism of outside initiatives. Trust is the most valuable currency in the region."
                },
                founderCapacity: {
                    rule: "The 10-Hour Cap",
                    description: "Structural burnout prevention for Ryan.",
                    trafficLights: [
                        { color: "Green", range: "0-6 hrs", status: "Sustainable. Focus on vision and build." },
                        { color: "Yellow", range: "7-9 hrs", status: "Warning. Delegate non-critical tasks immediately." },
                        { color: "Red", range: "10+ hrs", status: "Stop. Critical risk to founder health. Delay non-essential milestones." }
                    ],
                    protocols: [
                        "Core hours: 7am - 8am and 8pm - 9pm during the week when I have capacity.",
                        "No operational work during primary employment hours.",
                        "Strategic oversight focused on architecture and long-term sustainability."
                    ]
                },
                resourceLibrary: [
                    { category: "Governance", items: ["Full Constitution (HTML)", "Board Prospectus", "Risk Register"] },
                    { category: "Safeguarding", items: ["Child Safe Policy", "Boundary Standards", "Incident Form"] },
                    { category: "Strategy", items: ["Strategic Plan", "Financial Scenarios", "Roadmap 2026"] }
                ]
            }
        };

        // ============================================================
        // USER DATA CONTEXT - Manages categories, regions, resources
        // ============================================================
        const UserDataContext = React.createContext(null);

        const UserDataProvider = ({ children }) => {
            const [userData, setUserData] = useState(() => {
                const saved = loadUserData();
                return saved || DEFAULT_USER_DATA;
            });
            const [saveStatus, setSaveStatus] = useState({ success: true });

            // Auto-save when data changes
            useEffect(() => {
                if (userData.categories.length > 0 || userData.regions.length > 0 || userData.resources.length > 0) {
                    const result = saveUserData({ ...userData, lastSaved: new Date().toISOString() });
                    setSaveStatus(result);
                }
            }, [userData.categories, userData.regions, userData.resources]);

            // Category CRUD operations
            const addCategory = (category) => {
                const newCategory = { id: generateId(), ...category, createdAt: new Date().toISOString() };
                setUserData(prev => ({ ...prev, categories: [...prev.categories, newCategory] }));
                return newCategory;
            };
            const updateCategory = (id, updates) => {
                setUserData(prev => ({
                    ...prev,
                    categories: prev.categories.map(c => c.id === id ? { ...c, ...updates, updatedAt: new Date().toISOString() } : c)
                }));
            };
            const deleteCategory = (id) => {
                setUserData(prev => ({ ...prev, categories: prev.categories.filter(c => c.id !== id) }));
            };

            // Region CRUD operations
            const addRegion = (region) => {
                const newRegion = { id: generateId(), ...region, createdAt: new Date().toISOString() };
                setUserData(prev => ({ ...prev, regions: [...prev.regions, newRegion] }));
                return newRegion;
            };
            const updateRegion = (id, updates) => {
                setUserData(prev => ({
                    ...prev,
                    regions: prev.regions.map(r => r.id === id ? { ...r, ...updates, updatedAt: new Date().toISOString() } : r)
                }));
            };
            const deleteRegion = (id) => {
                setUserData(prev => ({ ...prev, regions: prev.regions.filter(r => r.id !== id) }));
            };

            // Resource CRUD operations
            const addResource = (resource) => {
                const newResource = { id: generateId(), ...resource, createdAt: new Date().toISOString() };
                setUserData(prev => ({ ...prev, resources: [...prev.resources, newResource] }));
                return newResource;
            };
            const updateResource = (id, updates) => {
                setUserData(prev => ({
                    ...prev,
                    resources: prev.resources.map(r => r.id === id ? { ...r, ...updates, updatedAt: new Date().toISOString() } : r)
                }));
            };
            const deleteResource = (id) => {
                setUserData(prev => ({ ...prev, resources: prev.resources.filter(r => r.id !== id) }));
            };

            // Import/Export functions
            const exportData = () => {
                const blob = new Blob([JSON.stringify(userData, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `smalltalk-hub-data-${new Date().toISOString().split('T')[0]}.json`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            };

            const importData = (file) => {
                return new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        try {
                            const imported = JSON.parse(e.target.result);
                            if (!imported.categories || !imported.regions || !imported.resources) {
                                reject(new Error('Invalid data format'));
                                return;
                            }
                            setUserData({ ...imported, lastSaved: new Date().toISOString() });
                            resolve({ success: true });
                        } catch (err) {
                            reject(new Error('Failed to parse JSON file'));
                        }
                    };
                    reader.onerror = () => reject(new Error('Failed to read file'));
                    reader.readAsText(file);
                });
            };

            const clearAllData = () => {
                setUserData(DEFAULT_USER_DATA);
                localStorage.removeItem(STORAGE_KEY);
            };

            return (
                <UserDataContext.Provider value={{
                    userData, saveStatus,
                    addCategory, updateCategory, deleteCategory,
                    addRegion, updateRegion, deleteRegion,
                    addResource, updateResource, deleteResource,
                    exportData, importData, clearAllData
                }}>
                    {children}
                </UserDataContext.Provider>
            );
        };

        const useUserData = () => React.useContext(UserDataContext);

        // ============================================================
        // REUSABLE UI COMPONENTS
        // ============================================================

        // Validated Input Field with character counter and error display
        const ValidatedInput = ({ name, label, value, onChange, rules, type = 'text', multiline = false, placeholder = '' }) => {
            const [touched, setTouched] = useState(false);
            const errors = touched ? validateField(value, rules) : [];
            const isValid = touched && errors.length === 0 && value && value.trim();

            return (
                <div className="mb-4">
                    <label className="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2">
                        {label} {rules.required && <span className="text-accent">*</span>}
                    </label>
                    <div className="relative">
                        {multiline ? (
                            <textarea
                                value={value}
                                onChange={(e) => onChange(e.target.value)}
                                onBlur={() => setTouched(true)}
                                placeholder={placeholder}
                                rows={4}
                                className={`w-full px-4 py-3 rounded-xl border-2 transition-colors text-base outline-none dark:bg-slate-900 dark:text-white ${errors.length > 0 ? 'border-danger bg-danger/5' : isValid ? 'border-success bg-success/5' : 'border-gray-200 dark:border-gray-700 focus:border-primary'}`}
                            />
                        ) : (
                            <input
                                type={type}
                                value={value}
                                onChange={(e) => onChange(e.target.value)}
                                onBlur={() => setTouched(true)}
                                placeholder={placeholder}
                                className={`w-full px-4 py-3 rounded-xl border-2 transition-colors text-base outline-none dark:bg-slate-900 dark:text-white ${errors.length > 0 ? 'border-danger bg-danger/5' : isValid ? 'border-success bg-success/5' : 'border-gray-200 dark:border-gray-700 focus:border-primary'}`}
                            />
                        )}
                        {isValid && <span className="absolute right-3 top-3 text-success text-lg">‚úì</span>}
                    </div>
                    <div className="flex justify-between items-start mt-1">
                        <div>
                            {errors.map((err, i) => (
                                <div key={i} className="text-xs text-danger">{err}</div>
                            ))}
                        </div>
                        {rules.maxLength && (
                            <div className={`text-xs ${value?.length > rules.maxLength ? 'text-danger' : 'text-gray-400'}`}>
                                {value?.length || 0}/{rules.maxLength}
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        // Confirmation Modal for delete actions
        const ConfirmModal = ({ title, message, onConfirm, onCancel, confirmText = 'Delete', confirmStyle = 'danger' }) => (
            <div className="fixed inset-0 bg-black/60 backdrop-blur-sm z-[250] flex items-center justify-center p-4 animate-fade-in" onClick={onCancel}>
                <div className="bg-white dark:bg-slate-800 rounded-3xl max-w-md w-full shadow-premium p-8" onClick={e => e.stopPropagation()}>
                    <h3 className="text-xl font-display font-black text-gray-900 dark:text-white mb-4">{title}</h3>
                    <p className="text-gray-600 dark:text-gray-400 mb-8">{message}</p>
                    <div className="flex gap-4">
                        <button onClick={onCancel} className="flex-1 py-3 px-6 bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors min-h-[44px]">
                            Cancel
                        </button>
                        <button onClick={onConfirm} className={`flex-1 py-3 px-6 rounded-xl font-bold transition-colors min-h-[44px] ${confirmStyle === 'danger' ? 'bg-danger text-white hover:bg-red-700' : 'bg-primary text-white hover:bg-slate-800'}`}>
                            {confirmText}
                        </button>
                    </div>
                </div>
            </div>
        );

        // Welcome Modal for first-time visitors
        const WelcomeModal = ({ onClose }) => {
            const [dontShowAgain, setDontShowAgain] = useState(false);

            const handleClose = () => {
                if (dontShowAgain) {
                    markFirstVisitComplete();
                }
                onClose();
            };

            return (
                <div className="fixed inset-0 bg-black/60 backdrop-blur-sm z-[300] flex items-center justify-center p-4 animate-fade-in">
                    <div className="bg-white dark:bg-slate-800 rounded-3xl max-w-lg w-full shadow-premium p-8 max-h-[90vh] overflow-y-auto">
                        <div className="text-center mb-8">
                            <div className="w-16 h-16 bg-primary rounded-2xl flex items-center justify-center text-white text-3xl mx-auto mb-4">üè†</div>
                            <h2 className="text-2xl font-display font-black text-primary dark:text-white mb-2">Welcome to the Information Hub</h2>
                            <p className="text-gray-500 dark:text-gray-400">Your regional resource directory</p>
                        </div>

                        <div className="space-y-4 mb-8">
                            <div className="flex gap-4 items-start p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl">
                                <span className="bg-primary/10 p-2 rounded-lg text-xl">üìÇ</span>
                                <div><strong className="text-gray-900 dark:text-white">Categories</strong><p className="text-sm text-gray-500">Organise by topics like Housing, Health, Education</p></div>
                            </div>
                            <div className="flex gap-4 items-start p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl">
                                <span className="bg-accent/10 p-2 rounded-lg text-xl">üìç</span>
                                <div><strong className="text-gray-900 dark:text-white">Regions</strong><p className="text-sm text-gray-500">Locations like Alexandra, Yea, Kinglake</p></div>
                            </div>
                            <div className="flex gap-4 items-start p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl">
                                <span className="bg-support/10 p-2 rounded-lg text-xl">üîó</span>
                                <div><strong className="text-gray-900 dark:text-white">Resources</strong><p className="text-sm text-gray-500">Services, websites, and contact information</p></div>
                            </div>
                        </div>

                        <div className="bg-primary/5 rounded-2xl p-4 mb-6 border border-primary/10">
                            <p className="text-sm text-gray-600 dark:text-gray-400"><strong>üíæ Your data is saved locally</strong> in your browser. Use the export feature to back up your data or share it with others.</p>
                        </div>

                        <div className="flex items-center justify-between gap-4">
                            <label className="flex items-center gap-2 text-sm text-gray-500 cursor-pointer">
                                <input type="checkbox" checked={dontShowAgain} onChange={(e) => setDontShowAgain(e.target.checked)} className="rounded" />
                                Don't show again
                            </label>
                            <button onClick={handleClose} className="px-8 py-3 bg-primary text-white rounded-xl font-bold hover:bg-slate-800 transition-colors min-h-[44px]">
                                Get Started
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        // Data Management Bar - shows save status, export/import buttons
        const DataManagementBar = () => {
            const { userData, saveStatus, exportData, importData, clearAllData } = useUserData();
            const [showClearConfirm, setShowClearConfirm] = useState(false);
            const [importError, setImportError] = useState(null);
            const fileInputRef = useRef(null);

            const handleImport = async (e) => {
                const file = e.target.files?.[0];
                if (!file) return;
                try {
                    await importData(file);
                    setImportError(null);
                } catch (err) {
                    setImportError(err.message);
                }
                e.target.value = '';
            };

            const totalItems = userData.categories.length + userData.regions.length + userData.resources.length;

            return (
                <>
                    <div className="bg-primary/5 border border-primary/10 rounded-2xl p-4 mb-6">
                        <div className="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">
                            <div className="text-sm text-gray-600 dark:text-gray-400">
                                <span className="font-bold">üíæ Data saved locally</span>
                                {userData.lastSaved && (
                                    <span className="ml-2 text-gray-400">‚Ä¢ Last saved: {new Date(userData.lastSaved).toLocaleString('en-AU')}</span>
                                )}
                                <span className="ml-2 text-gray-400">‚Ä¢ {totalItems} items</span>
                                {saveStatus.warning && <span className="ml-2 text-warning font-bold">‚ö† {saveStatus.warning}</span>}
                            </div>
                            <div className="flex gap-2 flex-wrap">
                                <button onClick={exportData} className="flex items-center gap-2 px-3 py-2 bg-white dark:bg-slate-800 border border-gray-200 dark:border-gray-700 rounded-lg text-xs font-bold text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors min-h-[44px]">
                                    <Icons.Download /> Export JSON
                                </button>
                                <button onClick={() => fileInputRef.current?.click()} className="flex items-center gap-2 px-3 py-2 bg-white dark:bg-slate-800 border border-gray-200 dark:border-gray-700 rounded-lg text-xs font-bold text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors min-h-[44px]">
                                    <Icons.Upload /> Import JSON
                                </button>
                                <input ref={fileInputRef} type="file" accept=".json" onChange={handleImport} className="hidden" />
                                {totalItems > 0 && (
                                    <button onClick={() => setShowClearConfirm(true)} className="flex items-center gap-2 px-3 py-2 bg-danger/10 border border-danger/20 rounded-lg text-xs font-bold text-danger hover:bg-danger/20 transition-colors min-h-[44px]">
                                        <Icons.Trash /> Clear All
                                    </button>
                                )}
                            </div>
                        </div>
                        {importError && <div className="mt-2 text-sm text-danger">Import failed: {importError}</div>}
                    </div>

                    {showClearConfirm && (
                        <ConfirmModal
                            title="Clear All Data?"
                            message="This will permanently delete all your categories, regions, and resources. This action cannot be undone."
                            onConfirm={() => { clearAllData(); setShowClearConfirm(false); }}
                            onCancel={() => setShowClearConfirm(false)}
                            confirmText="Clear All Data"
                        />
                    )}
                </>
            );
        };

        const Nav = ({ activeSection, setActiveSection, userRole, setUserRole, isDarkMode, toggleTheme }) => {
            const [isMenuOpen, setIsMenuOpen] = useState(false);
            const navItems = [
                { id: 'overview', label: 'Home', icon: <Icons.Home /> },
                { id: 'myresources', label: 'My Resources', icon: <Icons.Library /> },
                { id: 'constitution', label: 'Constitution', icon: <Icons.Scale /> },
                { id: 'strategy', label: 'Direction', icon: <Icons.Direction /> },
                { id: 'operations', label: 'Operations', icon: <Icons.Alerts /> },
                { id: 'financials', label: 'Finance', icon: <Icons.Finance /> },
                { id: 'safeguarding', label: 'Safety', icon: <Icons.Safety /> },
                { id: 'involved', label: 'Get Involved', icon: <Icons.Involved /> },
                { id: 'help', label: 'Help', icon: <Icons.Help /> },
                { id: 'contact', label: 'Contact', icon: <Icons.Mail /> }
            ];

            return (
                <nav className="fixed top-0 left-0 right-0 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-800 z-[100] no-print">
                    <div className="max-w-7xl mx-auto px-4">
                        <div className="flex justify-between items-center h-16">
                            <div className="flex items-center gap-3">
                                <img src="smalltalk_logo.png" alt="smalltalk.community logo" className="w-10 h-10 rounded-lg ring-2 ring-primary/20" onError={(e) => { e.target.style.display = 'none'; e.target.nextSibling.style.display = 'flex'; }} />
                                <div className="w-10 h-10 bg-primary rounded-lg items-center justify-center text-white font-bold text-sm ring-2 ring-primary/20 hidden">st</div>
                                <div className="hidden sm:flex flex-col leading-tight mr-16">
                                    <span className="font-display font-extrabold text-primary dark:text-white tracking-tight text-sm">smalltalk.community</span>
                                    <span className="font-display font-black text-accent text-xs">Information Hub</span>
                                </div>
                            </div>

                            {/* Desktop Nav - Now with horizontal scroll for smaller desktop screens */}
                            <div className="hidden lg:flex items-center space-x-1 flex-1 overflow-x-auto scrollbar-hide whitespace-nowrap px-2 py-1 mx-4 no-print">
                                {navItems.map(item => (
                                    <button
                                        key={item.id}
                                        onClick={() => setActiveSection(item.id)}
                                        className={`px-3 py-2 rounded-lg text-xs font-bold transition-all flex items-center gap-2 flex-shrink-0 ${activeSection === item.id ? 'bg-primary/10 text-primary dark:bg-support/20 dark:text-support' : 'text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-slate-800'}`}
                                    >
                                        {item.icon}
                                        {item.label}
                                    </button>
                                ))}
                            </div>

                            <div className="flex items-center gap-3 ml-6">
                                <select
                                    className="text-xs font-bold bg-gray-50 dark:bg-slate-800 border-none rounded-full px-4 py-1.5 focus:ring-2 focus:ring-primary/20 dark:text-gray-200 appearance-none pr-8 cursor-pointer"
                                    style={{ backgroundImage: 'url("data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' fill=\'none\' viewBox=\'0 0 24 24\' stroke=\'currentColor\'%3E%3Cpath stroke-linecap=\'round\' stroke-linejoin=\'round\' stroke-width=\'2\' d=\'M19 9l-7 7-7-7\'/%3E%3C/svg%3E")', backgroundRepeat: 'no-repeat', backgroundPosition: 'right 0.5rem center', backgroundSize: '1rem' }}
                                    value={userRole}
                                    onChange={(e) => setUserRole(e.target.value)}
                                >
                                    <option value="public">üåç Public</option>
                                    <option value="member">üë§ Member</option>
                                    <option value="board">üèõÔ∏è Board</option>
                                    <option value="funder">üí∞ Funder</option>
                                    <option value="partner">üè¢ Partner</option>
                                </select>

                                <button onClick={toggleTheme} className="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800 text-gray-500 transition-colors">
                                    {isDarkMode ? <Icons.Sun /> : <Icons.Moon />}
                                </button>

                                <button className="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-800 text-gray-500 transition-colors" onClick={() => window.print()}>
                                    <Icons.Printer />
                                </button>

                                <button onClick={() => setIsMenuOpen(!isMenuOpen)} className="lg:hidden p-2 text-gray-500">
                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16m-7 6h7" /></svg>
                                </button>
                            </div>
                        </div>
                    </div>

                    {/* Mobile Menu */}
                    {isMenuOpen && (
                        <div className="lg:hidden bg-white dark:bg-slate-900 border-b border-gray-200 dark:border-gray-800 animate-fade-in">
                            <div className="px-4 py-6 space-y-2">
                                {navItems.map(item => (
                                    <button
                                        key={item.id}
                                        onClick={() => { setActiveSection(item.id); setIsMenuOpen(false); }}
                                        className={`w-full px-4 py-3 rounded-xl text-sm font-bold flex items-center gap-3 ${activeSection === item.id ? 'bg-primary text-white shadow-lg' : 'text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-800'}`}
                                    >
                                        {item.icon}
                                        {item.label}
                                    </button>
                                ))}
                            </div>
                        </div>
                    )}
                </nav>
            );
        };

        const SectionHeader = ({ title, subtitle, align = 'centre' }) => (
            <div className={`mb-12 text-${align === 'centre' ? 'center' : 'left'}`}>
                <h2 className="text-3xl font-display font-extrabold text-primary dark:text-white mb-3 tracking-tight">{title}</h2>
                {subtitle && <p className="text-lg text-gray-500 dark:text-gray-400 max-w-2xl mx-auto">{subtitle}</p>}
                <div className={`h-1.5 w-20 bg-accent rounded-full mt-4 ${align === 'centre' ? 'mx-auto' : ''}`}></div>
            </div>
        );

        const StatCard = ({ label, value, icon, color = 'primary' }) => (
            <div className="bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-soft border border-gray-100 dark:border-gray-700 transition-all hover:shadow-premium group">
                <div className={`w-12 h-12 rounded-xl bg-${color}/10 flex items-center justify-center text-2xl mb-4 group-hover:scale-110 transition-transform`}>
                    {icon}
                </div>
                <div className="text-2xl font-display font-black text-gray-900 dark:text-white mb-1">{value}</div>
                <div className="text-xs font-bold text-gray-400 uppercase tracking-widest leading-tight">{label}</div>
            </div>
        );

        // Interactive Murrindindi Map Section with town selection
        const MurrindindiMapSection = () => {
            const [selectedTown, setSelectedTown] = useState(null);

            // Town coordinates (latitude, longitude) for all Murrindindi Shire communities
            const townCoordinates = {
                'Acheron': [-37.3167, 145.9167],
                'Alexandra': [-37.1870, 145.7115],
                'Buxton': [-37.4208, 145.7039],
                'Castella': [-37.4833, 145.4667],
                'Cathkin': [-37.1667, 145.6833],
                'Caveat': [-37.0667, 145.5833],
                'Cheviot': [-37.2167, 145.5333],
                'Devils River': [-37.5000, 145.8333],
                'Dropmore': [-37.1500, 145.6333],
                'Eildon': [-37.2333, 145.9000],
                'Fawcett': [-37.1000, 145.7833],
                'Flowerdale': [-37.3500, 145.2833],
                'Ghin Ghin': [-37.2667, 145.3000],
                'Glenburn': [-37.4333, 145.4167],
                'Gobur': [-37.0500, 145.8333],
                'Gooram': [-37.0333, 145.6667],
                'Highlands': [-37.3833, 145.8667],
                'Homewood': [-37.2000, 145.6167],
                'Kanumbra': [-37.3500, 145.9500],
                'Kerrisdale': [-37.0667, 145.7167],
                'Killingworth': [-37.1500, 145.5500],
                'Kinglake': [-37.5308, 145.3347],
                'Kinglake Central': [-37.5167, 145.3667],
                'Kinglake West': [-37.4833, 145.3000],
                'Koriella': [-37.0833, 145.5167],
                'Limestone': [-37.0167, 145.5667],
                'Maintongoon': [-37.2500, 145.9500],
                'Marysville': [-37.5167, 145.7500],
                'Merton': [-37.0000, 145.7000],
                'Molesworth': [-37.1000, 145.5333],
                'Murrindindi': [-37.4000, 145.5500],
                'Narbethong': [-37.5500, 145.6500],
                'Pheasant Creek': [-37.4167, 145.2833],
                'Rubicon': [-37.3167, 145.8333],
                'Ruffy': [-37.0333, 145.7333],
                'Strath Creek': [-37.2167, 145.1667],
                'Taggerty': [-37.3333, 145.7333],
                'Taylor Bay': [-37.1500, 145.9333],
                'Terip Terip': [-37.0500, 145.6667],
                'Thornton': [-37.2500, 145.8333],
                'Toolangi': [-37.5333, 145.4833],
                'Trawool': [-37.1333, 145.3833],
                'Woods Point': [-37.5667, 146.2000],
                'Yarck': [-37.0500, 145.7833],
                'Yea': [-37.2167, 145.4167]
            };

            const allTowns = Object.keys(townCoordinates);
            const hubTowns = ['Alexandra', 'Eildon', 'Kinglake', 'Marysville', 'Yea'];

            // Generate map URL with marker
            const getMapUrl = (town) => {
                if (town && townCoordinates[town]) {
                    const [lat, lng] = townCoordinates[town];
                    return `https://www.openstreetmap.org/export/embed.html?bbox=${lng - 0.1}%2C${lat - 0.08}%2C${lng + 0.1}%2C${lat + 0.08}&layer=mapnik&marker=${lat}%2C${lng}`;
                }
                return 'https://www.openstreetmap.org/export/embed.html?bbox=144.8%2C-37.7%2C146.3%2C-37.0&layer=mapnik&marker=-37.35%2C145.65';
            };

            const handleTownClick = (town) => {
                setSelectedTown(town === selectedTown ? null : town);
            };

            return (
                <div className="bg-gradient-to-br from-support/10 to-primary/5 border border-support/20 rounded-3xl p-8 animate-fade-in">
                    <div className="text-center mb-8">
                        <h3 className="text-2xl font-display font-black text-primary dark:text-white mb-4">üåç Our Vision for Murrindindi Shire</h3>
                        <p className="text-gray-600 dark:text-gray-400 max-w-3xl mx-auto leading-relaxed">
                            We're starting in Murrindindi because this community, shaped by resilience after <strong>Black Saturday 2009</strong> and the <strong>January 2026 bushfires</strong>, deserves world-class digital tools and intergenerational connection. The spirit of community recovery drives our mission.
                        </p>
                    </div>

                    {/* Interactive Map */}
                    <div className="mb-8 bg-white dark:bg-slate-800 rounded-2xl overflow-hidden border border-gray-100 dark:border-gray-700 shadow-soft">
                        <div className="flex items-center justify-between p-4 border-b border-gray-100 dark:border-gray-700">
                            <div>
                                <h4 className="text-sm font-black text-gray-500 uppercase tracking-widest">üìç Murrindindi Shire Map</h4>
                                {selectedTown && (
                                    <span className="text-xs text-primary font-bold mt-1 block">Showing: {selectedTown}</span>
                                )}
                            </div>
                            <div className="flex items-center gap-2">
                                {selectedTown && (
                                    <button
                                        onClick={() => setSelectedTown(null)}
                                        className="text-xs bg-gray-100 dark:bg-slate-700 text-gray-500 px-3 py-1 rounded-full font-bold hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors"
                                    >
                                        Reset View
                                    </button>
                                )}
                                <a href="https://www.openstreetmap.org/#map=10/-37.35/145.65" target="_blank" rel="noopener noreferrer" className="text-xs bg-primary/10 text-primary px-3 py-1 rounded-full font-bold hover:bg-primary/20 transition-colors">
                                    Open Full Map ‚Üó
                                </a>
                            </div>
                        </div>
                        <iframe
                            key={selectedTown || 'default'}
                            title="Murrindindi Shire Map"
                            width="100%"
                            height="350"
                            frameBorder="0"
                            scrolling="no"
                            marginHeight="0"
                            marginWidth="0"
                            src={getMapUrl(selectedTown)}
                            style={{ border: 0 }}
                            className="w-full"
                        ></iframe>
                        <div className="p-3 bg-gray-50 dark:bg-slate-900 text-center text-xs text-gray-400">
                            Map data ¬© <a href="https://www.openstreetmap.org/copyright" target="_blank" rel="noopener noreferrer" className="text-primary hover:underline">OpenStreetMap</a> contributors
                        </div>
                    </div>

                    {/* Hub Towns (Primary Launch) */}
                    <div className="mb-8">
                        <h4 className="text-center text-sm font-black text-gray-500 uppercase tracking-widest mb-4">Hub Towns (Primary Launch)</h4>
                        <div className="grid grid-cols-2 md:grid-cols-5 gap-4">
                            {hubTowns.map((town, i) => (
                                <div
                                    key={i}
                                    onClick={() => handleTownClick(town)}
                                    className={`p-4 rounded-2xl text-center shadow-soft transition-all cursor-pointer group ${selectedTown === town
                                        ? 'bg-primary text-white shadow-lg scale-105 ring-2 ring-primary/50'
                                        : 'bg-white dark:bg-slate-800 hover:shadow-lg hover:-translate-y-1 hover:bg-primary/5'
                                        }`}
                                >
                                    <div className={`text-lg font-display font-black transition-colors ${selectedTown === town ? 'text-white' : 'text-primary dark:text-white group-hover:text-accent'
                                        }`}>{town}</div>
                                    <div className={`text-[10px] uppercase tracking-wider ${selectedTown === town ? 'text-white/80' : 'text-gray-400'
                                        }`}>Hub Town</div>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* All 45 Communities */}
                    <div className="bg-white dark:bg-slate-800 rounded-2xl p-6 border border-gray-100 dark:border-gray-700">
                        <div className="flex items-center justify-between mb-4">
                            <h4 className="text-sm font-black text-gray-500 uppercase tracking-widest">All 45 Murrindindi Shire Communities</h4>
                            <span className="text-xs bg-accent/10 text-accent px-3 py-1 rounded-full font-bold">Click to View on Map</span>
                        </div>
                        <div className="grid grid-cols-3 sm:grid-cols-5 md:grid-cols-9 gap-2">
                            {allTowns.map((town, i) => {
                                const isMajor = hubTowns.includes(town);
                                const isSelected = selectedTown === town;
                                return (
                                    <div
                                        key={i}
                                        onClick={() => handleTownClick(town)}
                                        className={`p-2 rounded-lg text-center text-xs font-bold transition-all cursor-pointer ${isSelected
                                            ? 'bg-accent text-white shadow-lg scale-110 ring-2 ring-accent/50'
                                            : isMajor
                                                ? 'bg-primary text-white shadow-md hover:scale-105'
                                                : 'bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-primary/20 hover:scale-105'
                                            }`}
                                        title={`Click to view ${town} on map`}
                                    >
                                        {town.length > 10 ? town.slice(0, 8) + '‚Ä¶' : town}
                                    </div>
                                );
                            })}
                        </div>
                        <p className="text-center text-xs text-gray-400 mt-4 italic">
                            üó∫Ô∏è Click any town to view its location on the map ‚Ä¢ Hub Towns in blue ‚Ä¢ Selected town in orange
                        </p>
                    </div>
                </div>
            );
        };

        const HomeSection = ({ data, userRole }) => {
            const roleContent = {
                public: {
                    headline: "Where Every Generation",
                    subhead: "Finds Belonging.",
                    intro: "smalltalk.community is building a new kind of community hub, one where young people teach technology to seniors, where all ages connect, and where regional Victoria builds its own digital future.",
                    showStats: true,
                    showValues: true,
                    showFounders: false,
                    showDashboard: false
                },
                member: {
                    headline: "Your Community",
                    subhead: "Hub Dashboard.",
                    intro: data.organisation.mission,
                    showStats: true,
                    showValues: true,
                    showFounders: true,
                    showDashboard: true
                },
                board: {
                    headline: "Governance &",
                    subhead: "Strategic Command Centre.",
                    intro: "Full oversight of organisational health, compliance status, and strategic direction.",
                    showStats: true,
                    showValues: false,
                    showFounders: true,
                    showDashboard: true
                },
                funder: {
                    headline: "Investment",
                    subhead: "Impact Overview.",
                    intro: "smalltalk.community addresses a data-verified gap: regional isolation and loneliness in Murrindindi Shire. Our model uses the UCLA 3-Item Loneliness Scale to measure impact, targeting 10%+ improvement in Year 1.",
                    showStats: true,
                    showValues: false,
                    showFounders: true,
                    showDashboard: true
                },
                partner: {
                    headline: "Strategic Partnership",
                    subhead: "Overview.",
                    intro: "Collaborate with us to extend intergenerational programming across Murrindindi Shire. We integrate with health services, schools, neighbourhood houses, and community groups.",
                    showStats: true,
                    showValues: true,
                    showFounders: false,
                    showDashboard: false
                }
            };
            const content = roleContent[userRole] || roleContent.public;

            return (
                <div className="space-y-12 animate-fade-in-up">
                    <header className="text-center py-12 relative overflow-hidden rounded-3xl bg-slate-900 text-white p-8 mb-12">
                        <div className="absolute top-0 right-0 w-full h-full bg-[radial-gradient(ellipse_at_top_right,_var(--tw-gradient-stops))] from-support/20 via-transparent to-transparent"></div>
                        <div className="relative z-10">
                            <div className="inline-flex items-center gap-2 px-4 py-1.5 bg-white/10 backdrop-blur-md rounded-full text-xs font-bold text-support mb-6 ring-1 ring-white/20">
                                <span className="w-2 h-2 rounded-full bg-success animate-pulse"></span>
                                {data.organisation.status}
                            </div>
                            <h1 className="text-4xl md:text-6xl font-display font-black mb-6 tracking-tighter leading-tight">
                                {content.headline} <br />
                                <span className="text-support">{content.subhead}</span>
                            </h1>
                            <p className="text-xl text-slate-400 max-w-2xl mx-auto mb-10 leading-relaxed font-medium">
                                {content.intro}
                            </p>
                            {content.showStats && (
                                <div className="grid grid-cols-1 sm:grid-cols-3 gap-6 max-w-3xl mx-auto">
                                    {data.organisation.context.stats.map((stat, i) => (
                                        <div key={i} className="bg-white/5 p-4 rounded-2xl border border-white/10 backdrop-blur-sm hover:bg-white/10 transition-all">
                                            <div className="text-2xl font-display font-black text-white">{stat.value}</div>
                                            <div className="text-[10px] font-bold text-slate-500 uppercase tracking-widest">{stat.label}</div>
                                        </div>
                                    ))}
                                </div>
                            )}
                        </div>
                    </header>

                    {/* Funder-specific Impact Section */}
                    {userRole === 'funder' && (
                        <div className="bg-gradient-to-br from-primary/10 to-accent/5 border border-primary/20 rounded-3xl p-8 animate-fade-in">
                            <div className="flex items-center gap-4 mb-6">
                                <div className="w-12 h-12 bg-primary rounded-xl flex items-center justify-center text-white text-2xl">üìä</div>
                                <div>
                                    <h3 className="text-xl font-display font-black text-primary dark:text-white">Impact Measurement Framework</h3>
                                    <p className="text-sm text-gray-500">How we demonstrate value to funders</p>
                                </div>
                            </div>
                            <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                                <div className="bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-soft">
                                    <div className="text-3xl font-display font-black text-primary mb-2">UCLA Scale</div>
                                    <div className="text-sm text-gray-500">3-item validated loneliness measurement pre/post program</div>
                                </div>
                                <div className="bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-soft">
                                    <div className="text-3xl font-display font-black text-accent mb-2">3 Years</div>
                                    <div className="text-sm text-gray-500">Exit strategy: handover to sustainable regional governance</div>
                                </div>
                                <div className="bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-soft">
                                    <div className="text-3xl font-display font-black text-success mb-2">Triple Revenue</div>
                                    <div className="text-sm text-gray-500">Grants + Consulting + Donations for sustainability</div>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Public-specific Vision Section */}
                    {userRole === 'public' && <MurrindindiMapSection />}

                    {/* Dashboard Section - role dependent */}
                    {content.showDashboard && (
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                            <StatCard icon="üèóÔ∏è" value="Phase 1" label="Current Roadmap" color="primary" />
                            <StatCard icon="üèõÔ∏è" value="37 Clauses" label="Constitutional Framework" color="accent" />
                            <StatCard icon="‚ö°" value="4 Pillars" label="Strategic Direction" color="support" />
                            <StatCard icon="‚ö†Ô∏è" value="4 Risks" label="Active Monitoring" color="warning" />
                        </div>
                    )}

                    {/* Board Priority Alerts */}
                    {userRole === 'board' && (
                        <div className="bg-primary/5 border border-primary/10 rounded-3xl p-8 animate-fade-in no-print">
                            <div className="flex items-center gap-4 mb-6">
                                <div className="w-12 h-12 bg-primary rounded-xl flex items-center justify-center text-white text-2xl">‚ö°</div>
                                <div>
                                    <h3 className="text-xl font-display font-black text-primary">Board Priority Alerts</h3>
                                    <p className="text-sm text-gray-500 italic">Critical items requiring governance attention this month.</p>
                                </div>
                            </div>
                            <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div className="p-4 bg-white dark:bg-slate-800 rounded-2xl border-l-4 border-warning shadow-soft">
                                    <div className="text-xs font-black text-warning uppercase mb-1">Upcoming</div>
                                    <div className="text-sm font-bold dark:text-white">Q1 Board Meeting (Feb 15)</div>
                                </div>
                                <div className="p-4 bg-white dark:bg-slate-800 rounded-2xl border-l-4 border-accent shadow-soft">
                                    <div className="text-xs font-black text-accent uppercase mb-1">Overdue</div>
                                    <div className="text-sm font-bold dark:text-white">Annual Conflict of Interest (AAR)</div>
                                </div>
                                <div className="p-4 bg-white dark:bg-slate-800 rounded-2xl border-l-4 border-success shadow-soft">
                                    <div className="text-xs font-black text-success uppercase mb-1">Status</div>
                                    <div className="text-sm font-bold dark:text-white">Risk Framework Fully Operational</div>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Founders Section */}
                    {content.showFounders && (
                        <div className="bg-white dark:bg-slate-800 rounded-3xl p-8 border border-gray-100 dark:border-gray-700 shadow-soft">
                            <h3 className="text-2xl font-display font-black text-primary dark:text-white mb-6">Leadership Team</h3>
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div className="p-6 rounded-2xl bg-gray-50 dark:bg-slate-900/50 border border-gray-100 dark:border-gray-700">
                                    <div className="flex items-center gap-4 mb-4">
                                        <div className="w-12 h-12 bg-primary rounded-xl flex items-center justify-center text-white text-xl">üë§</div>
                                        <div>
                                            <h4 className="font-display font-black text-gray-900 dark:text-white">{data.organisation.founder.name}</h4>
                                            <div className="text-xs text-accent font-bold uppercase tracking-wider">{data.organisation.founder.role}</div>
                                        </div>
                                    </div>
                                    <p className="text-sm text-gray-500 dark:text-gray-400 leading-relaxed">{data.organisation.founder.bio}</p>
                                </div>
                                <div className="p-6 rounded-2xl bg-gray-50 dark:bg-slate-900/50 border border-gray-100 dark:border-gray-700">
                                    <div className="flex items-center gap-4 mb-4">
                                        <div className="w-12 h-12 bg-accent rounded-xl flex items-center justify-center text-white text-xl">üëë</div>
                                        <div>
                                            <h4 className="font-display font-black text-gray-900 dark:text-white">{data.organisation.cofounder.name}</h4>
                                            <div className="text-xs text-accent font-bold uppercase tracking-wider">{data.organisation.cofounder.role}</div>
                                        </div>
                                    </div>
                                    <p className="text-sm text-gray-500 dark:text-gray-400 leading-relaxed">{data.organisation.cofounder.bio}</p>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Values Section */}
                    {content.showValues && (
                        <div className="bg-white dark:bg-slate-800 rounded-3xl p-8 border border-gray-100 dark:border-gray-700 shadow-soft">
                            <div className="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4">
                                <div>
                                    <h3 className="text-2xl font-display font-black text-primary dark:text-white">Organisation Values</h3>
                                    <p className="text-gray-500 text-sm">Our 4 core principles for community building.</p>
                                </div>
                            </div>
                            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                                {data.organisation.values.map((v, i) => (
                                    <div key={i} className="p-6 rounded-2xl bg-gray-50 dark:bg-slate-900/50 border border-gray-100 dark:border-gray-700 hover:shadow-lg transition-all hover:-translate-y-1">
                                        <div className="text-3xl mb-4">{v.icon}</div>
                                        <h4 className="font-display font-bold text-gray-900 dark:text-white mb-2">{v.title}</h4>
                                        <p className="text-sm text-gray-500 dark:text-gray-400 leading-relaxed">{v.description}</p>
                                    </div>
                                ))}
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const ConstitutionSection = ({ data }) => {
            const [search, setSearch] = useState('');
            const [isPlainMode, setIsPlainMode] = useState(false);
            const [activePart, setActivePart] = useState('part1');

            const filteredClauses = useMemo(() => {
                const results = [];
                Object.keys(data.clauses).forEach(id => {
                    const c = data.clauses[id];
                    if (c.title.toLowerCase().includes(search.toLowerCase()) ||
                        c.content.toLowerCase().includes(search.toLowerCase())) {
                        results.push({ id, ...c });
                    }
                });
                return results;
            }, [search, data]);

            return (
                <div className="animate-fade-in-up space-y-8">
                    <SectionHeader title="The Constitution" subtitle="A governance document for everyone, written in plain language." />

                    <div className="sticky top-20 z-10 flex flex-col sm:flex-row gap-4 bg-gray-50/80 dark:bg-slate-900/80 backdrop-blur-md p-4 rounded-2xl border border-gray-200 dark:border-gray-800 no-print">
                        <div className="relative flex-grow">
                            <div className="absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-400">
                                <Icons.Search />
                            </div>
                            <input
                                type="text"
                                placeholder="Search clauses..."
                                value={search}
                                onChange={(e) => setSearch(e.target.value)}
                                className="w-full pl-10 pr-4 py-2 bg-white dark:bg-slate-800 rounded-xl text-sm font-medium border border-gray-200 dark:border-gray-700 outline-none focus:ring-2 focus:ring-primary/20 dark:text-white"
                            />
                        </div>
                        <div className="flex gap-2">
                            <button
                                onClick={() => setIsPlainMode(!isPlainMode)}
                                className={`px-4 py-2 rounded-xl text-xs font-bold transition-all flex items-center gap-2 ${isPlainMode ? 'bg-accent text-white shadow-lg' : 'bg-white dark:bg-slate-800 text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-700'}`}
                            >
                                ‚ú® Plain English: {isPlainMode ? 'ON' : 'OFF'}
                            </button>
                        </div>
                    </div>

                    {!search && (
                        <div className="grid grid-cols-2 sm:grid-cols-5 md:grid-cols-10 gap-2 mb-8 no-print">
                            {data.parts.map(p => (
                                <button
                                    key={p.id}
                                    onClick={() => setActivePart(p.id)}
                                    className={`px-3 py-2 rounded-lg text-[10px] font-black uppercase tracking-tighter transition-all ${activePart === p.id ? 'bg-primary text-white shadow-md' : 'bg-white dark:bg-slate-800 text-gray-400 hover:text-primary dark:text-gray-500 border border-gray-100 dark:border-gray-700'}`}
                                >
                                    Part {p.id.replace('part', '')}
                                </button>
                            ))}
                        </div>
                    )}

                    <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <div className="lg:col-span-2 space-y-6">
                            {(!search ? data.parts.find(p => p.id === activePart).clauses : filteredClauses.map(c => c.id)).map(id => {
                                const c = data.clauses[id];
                                return (
                                    <div key={id} className="bg-white dark:bg-slate-800 rounded-3xl overflow-hidden border border-gray-100 dark:border-gray-700 shadow-soft group hover:border-primary/20 transition-all">
                                        <div className="p-8">
                                            <div className="flex items-center gap-3 mb-6">
                                                <span className="w-10 h-10 rounded-xl bg-primary text-white flex items-center justify-center font-display font-black text-lg shadow-lg group-hover:scale-110 transition-transform">
                                                    {id}
                                                </span>
                                                <h3 className="text-xl font-display font-black text-primary dark:text-white">{c.title}</h3>
                                            </div>

                                            <div className="space-y-6">
                                                {isPlainMode ? (
                                                    <div className="bg-accent/5 rounded-2xl p-6 border border-accent/10 relative overflow-hidden animate-fade-in">
                                                        <div className="absolute top-0 right-0 p-2 text-[10px] font-bold text-accent uppercase tracking-widest opacity-30">Plain English</div>
                                                        <p className="text-gray-800 dark:text-gray-200 font-medium leading-relaxed italic">"{c.plain}"</p>
                                                    </div>
                                                ) : (
                                                    <div className="prose dark:prose-invert prose-slate max-w-none text-gray-600 dark:text-gray-400 leading-relaxed">
                                                        {c.content.split('\n').map((line, i) => (
                                                            <p key={i} className="mb-4 last:mb-0">
                                                                {line.split('**').map((part, j) => j % 2 === 1 ? <strong key={j} className="text-primary dark:text-support font-extrabold">{part}</strong> : part)}
                                                            </p>
                                                        ))}
                                                    </div>
                                                )}
                                            </div>
                                        </div>
                                    </div>
                                );
                            })}
                        </div>
                        <div className="space-y-8 no-print">
                            <div className="bg-slate-900 text-white rounded-3xl p-8 shadow-premium sticky top-48">
                                <h4 className="text-lg font-display font-black mb-6 flex items-center gap-2">
                                    <span className="text-accent">‚óè</span> Membership Types
                                </h4>
                                <div className="space-y-4">
                                    {data.membershipTypes.map(m => (
                                        <div key={m.id} className="p-4 rounded-2xl bg-white/5 border border-white/10 hover:bg-white/10 transition-colors">
                                            <div className="flex items-center gap-3 mb-3">
                                                <div className="text-2xl">{m.icon}</div>
                                                <div className="font-bold">{m.label}</div>
                                            </div>
                                            <div className="grid grid-cols-2 gap-2">
                                                <div className="text-[10px] uppercase font-bold text-slate-500">Age: {m.age}</div>
                                                <div className="text-[10px] uppercase font-bold text-slate-500 text-right">Voting: {m.voting}</div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const StrategicDirectionSection = ({ data }) => {
            const [activePillar, setActivePillar] = useState(null);

            return (
                <div className="animate-fade-in-up space-y-12">
                    <SectionHeader title="Strategic Direction" subtitle="Phased growth towards a sustainable intergenerational ecosystem." />

                    <div className="bg-white dark:bg-slate-800 rounded-3xl p-8 border border-gray-100 dark:border-gray-700 shadow-soft overflow-x-auto no-print">
                        <div className="min-w-[800px] relative pt-12 pb-8">
                            <div className="absolute top-[84px] left-0 right-0 h-1 bg-gray-100 dark:bg-slate-700"></div>
                            <div className="flex justify-between relative z-10">
                                {data.timeline.map((phase, i) => (
                                    <div key={i} className="flex flex-col items-center w-1/4 px-4 text-center group">
                                        <div className={`w-12 h-12 rounded-2xl flex items-center justify-center text-2xl shadow-lg border-2 mb-4 transition-all group-hover:scale-110 ${phase.status === 'current' ? 'bg-primary border-primary text-white ring-4 ring-primary/20 scale-110' : 'bg-white dark:bg-slate-800 border-gray-100 dark:border-gray-700 text-gray-400'}`}>
                                            {phase.icon}
                                        </div>
                                        <div className={`text-[10px] font-black uppercase tracking-widest mb-1 ${phase.status === 'current' ? 'text-primary dark:text-support' : 'text-gray-400'}`}>{phase.period}</div>
                                        <div className={`text-sm font-display font-black mb-2 ${phase.status === 'current' ? 'text-gray-900 dark:text-white' : 'text-gray-500'}`}>{phase.name}</div>
                                        <div className="text-[10px] text-gray-400 leading-tight">{phase.description}</div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                        {data.pillars.map(pillar => (
                            <div
                                key={pillar.id}
                                onClick={() => setActivePillar(activePillar === pillar.id ? null : pillar.id)}
                                className={`relative h-full text-left p-8 rounded-3xl border transition-all cursor-pointer group flex flex-col ${activePillar === pillar.id ? 'bg-primary text-white border-primary shadow-premium scale-105 z-10' : 'bg-white dark:bg-slate-800 border-gray-100 dark:border-gray-700 shadow-soft hover:shadow-lg'}`}
                            >
                                <div className="flex items-center justify-between mb-8">
                                    <div className={`text-4xl transition-transform group-hover:scale-110 ${activePillar === pillar.id ? 'filter-none' : ''}`}>
                                        {pillar.icon}
                                    </div>
                                    <div className={`text-[8px] font-black uppercase tracking-[0.2em] px-2 py-1 rounded-full ${activePillar === pillar.id ? 'bg-white/20 text-white' : 'bg-gray-100 dark:bg-slate-700 text-gray-400'}`}>
                                        {pillar.status}
                                    </div>
                                </div>
                                <div className="flex-grow">
                                    <div className={`text-[10px] font-black uppercase tracking-widest mb-2 ${activePillar === pillar.id ? 'text-white/60' : 'text-accent'}`}>{pillar.subtitle}</div>
                                    <h4 className="text-xl font-display font-black mb-4 leading-tight dark:text-white">{pillar.title}</h4>
                                    <p className={`text-sm leading-relaxed mb-6 ${activePillar === pillar.id ? 'text-white/80' : 'text-gray-500 dark:text-gray-400'}`}>{pillar.description}</p>
                                </div>

                                <div className={`pt-6 border-t ${activePillar === pillar.id ? 'border-white/20' : 'border-gray-50 dark:border-gray-700'}`}>
                                    <button className={`text-[10px] font-black uppercase tracking-widest ${activePillar === pillar.id ? 'text-white' : 'text-primary dark:text-support'} flex items-center gap-2`}>
                                        {activePillar === pillar.id ? 'Close Details' : 'View Priorities'}
                                        <span className={`transition-transform duration-300 ${activePillar === pillar.id ? 'rotate-180' : ''}`}><Icons.ChevronDown /></span>
                                    </button>
                                </div>

                                {activePillar === pillar.id && (
                                    <div className="mt-8 space-y-4 animate-fade-in">
                                        {pillar.priorities.map((p, j) => (
                                            <div key={j} className="p-4 rounded-2xl bg-white/10 border border-white/20 backdrop-blur-sm">
                                                <div className="flex justify-between items-start mb-1">
                                                    <div className="font-bold text-sm">{p.name}</div>
                                                    <div className="text-[8px] font-black uppercase bg-white/20 px-1.5 py-0.5 rounded-full">{p.phase}</div>
                                                </div>
                                                <div className="text-xs text-white/70">{p.desc}</div>
                                            </div>
                                        ))}
                                    </div>
                                )}
                            </div>
                        ))}
                    </div>

                    <div id="board-roles" className="bg-slate-900 text-white rounded-[3rem] p-12 overflow-hidden relative border border-white/10 shadow-premium">
                        <div className="absolute top-0 right-0 w-96 h-96 bg-accent opacity-10 blur-3xl rounded-full translate-x-1/2 -translate-y-1/2"></div>
                        <div className="relative z-10">
                            <div className="flex flex-col lg:flex-row justify-between items-end mb-16 gap-8">
                                <div className="max-w-xl">
                                    <div className="inline-flex items-center gap-2 px-3 py-1 bg-accent/20 rounded-full text-[10px] font-black uppercase tracking-widest text-accent mb-6 border border-accent/30">Founding Board</div>
                                    <h3 className="text-4xl md:text-5xl font-display font-black leading-tight tracking-tighter mb-6">Shape the future of <br />regional connectivity.</h3>
                                    <p className="text-slate-400 text-lg font-medium leading-relaxed">We are seeking four founding directors to provide the critical governance foundation for our intergenerational community.</p>
                                </div>
                                <div className="hidden lg:block">
                                    <button className="px-8 py-4 bg-accent text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-orange-700 transition-all shadow-lg hover:shadow-orange-900/40">Apply Now</button>
                                </div>
                            </div>

                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                                {data.boardRoles.map(role => (
                                    <div key={role.id} className="bg-white/5 border border-white/10 rounded-3xl p-8 hover:bg-white/10 transition-all group">
                                        <div className="w-14 h-14 rounded-2xl bg-white/10 flex items-center justify-center text-3xl mb-8 group-hover:scale-110 transition-transform">{role.icon}</div>
                                        <h4 className="text-xl font-display font-black mb-2 text-white">{role.title}</h4>
                                        <div className="text-[10px] font-black uppercase tracking-widest text-accent mb-6">{role.timeCommitment}</div>
                                        <p className="text-sm text-slate-400 leading-relaxed mb-8">{role.purpose}</p>
                                        <div className="space-y-3">
                                            {role.responsibilities.map((r, k) => (
                                                <div key={k} className="flex items-start gap-3 text-xs text-slate-300">
                                                    <span className="text-accent mt-0.5"><Icons.Check /></span>
                                                    {r}
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const OperationsSection = ({ data }) => {
            const [activeRisk, setActiveRisk] = useState(null);
            return (
                <div className="animate-fade-in-up space-y-12">
                    <SectionHeader title="Operations & Risk" subtitle="Managing regional expansion with geographical firewalls and founder capacity." />
                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div className="bg-white dark:bg-slate-800 rounded-3xl p-8 border border-gray-100 dark:border-gray-700 shadow-soft">
                            <h3 className="text-xl font-display font-black text-primary dark:text-white mb-6 flex items-center gap-2">üõ°Ô∏è Geographical Firewall</h3>
                            <div className="space-y-4">
                                <div className="grid grid-cols-2 gap-4 mb-6">
                                    <div className="p-4 rounded-2xl bg-primary/5 border border-primary/10">
                                        <div className="text-[10px] font-black uppercase text-primary mb-1">Inner Circle</div>
                                        <div className="text-sm font-bold dark:text-white">{data.geographicalFirewall.inner}</div>
                                    </div>
                                    <div className="p-4 rounded-2xl bg-accent/5 border border-accent/10">
                                        <div className="text-[10px] font-black uppercase text-accent mb-1">Outer Circle</div>
                                        <div className="text-sm font-bold dark:text-white">{data.geographicalFirewall.outer}</div>
                                    </div>
                                </div>
                                <div className="space-y-3">
                                    {data.geographicalFirewall.rules.map((rule, i) => (
                                        <div key={i} className="flex items-start gap-3 p-4 rounded-2xl bg-gray-50 dark:bg-slate-900/50 border border-gray-100 dark:border-gray-700">
                                            <span className="text-primary pt-1"><Icons.Check /></span>
                                            <div className="text-sm font-medium text-gray-700 dark:text-gray-300">{rule}</div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                        <div className="bg-slate-900 text-white rounded-3xl p-8 shadow-premium relative overflow-hidden">
                            <h3 className="text-xl font-display font-black mb-6 relative z-10">‚è≥ Founder Capacity</h3>
                            <div className="p-6 rounded-2xl bg-white/5 border border-white/10 mb-6 relative z-10">
                                <div className="flex justify-between items-end mb-4">
                                    <div><div className="text-[10px] font-black uppercase tracking-widest text-slate-500">Active Rule</div><div className="text-xl font-display font-black text-white">{data.founderCapacity.rule}</div></div>
                                    <div className="text-right"><div className="text-[10px] font-black uppercase tracking-widest text-slate-500">Status</div><div className="text-success font-bold text-sm">Active</div></div>
                                </div>
                                <p className="text-xs text-slate-400 mb-4">{data.founderCapacity.description}</p>
                                <div className="space-y-4">
                                    <div className="h-1.5 w-full bg-white/10 rounded-full overflow-hidden">
                                        <div className="h-full bg-accent w-[40%] shadow-[0_0_8px_rgba(194,65,12,0.4)]"></div>
                                    </div>
                                    <div className="pt-2">
                                        <div className="text-[9px] font-black uppercase tracking-widest text-slate-500 mb-2 flex justify-between">
                                            <span>24-Hour Availability</span>
                                            <span className="text-accent underline decoration-accent/30 underline-offset-4">Interactive</span>
                                        </div>
                                        <div className="flex gap-0.5 h-6">
                                            {[...Array(24)].map((_, hour) => {
                                                const isCore = hour === 7 || hour === 20;
                                                return (
                                                    <div
                                                        key={hour}
                                                        className={`flex-1 rounded-[2px] transition-all duration-300 relative group cursor-help ${isCore ? 'bg-accent shadow-[0_0_10px_rgba(194,65,12,0.5)] scale-y-110' : 'bg-white/5 hover:bg-white/10'}`}
                                                    >
                                                        <div className="absolute bottom-full mb-2 left-1/2 -translate-x-1/2 px-2 py-1 bg-slate-800 text-white text-[8px] rounded-lg opacity-0 group-hover:opacity-100 whitespace-nowrap z-50 pointer-events-none border border-white/10 shadow-xl transition-opacity">
                                                            {hour === 0 ? '12 AM' : hour < 12 ? `${hour} AM` : hour === 12 ? '12 PM' : `${hour - 12} PM`}
                                                            {isCore ? ' ‚Ä¢ CORE CAPACITY' : ''}
                                                        </div>
                                                    </div>
                                                );
                                            })}
                                        </div>
                                        <div className="flex justify-between mt-1 text-[7px] text-slate-600 font-black uppercase tracking-widest">
                                            <span>12am</span>
                                            <span>6am</span>
                                            <span>12pm</span>
                                            <span>6pm</span>
                                            <span>12am</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div className="space-y-3 relative z-10">
                                {data.founderCapacity.protocols.map((p, i) => (
                                    <div key={i} className="flex items-start gap-3 text-xs text-slate-400"><span className="text-accent mt-0.5"><Icons.Check /></span>{p}</div>
                                ))}
                            </div>
                        </div>
                    </div>

                    <div className="bg-white dark:bg-slate-800 rounded-[2.5rem] p-10 border border-gray-100 dark:border-gray-700 shadow-soft">
                        <div className="flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-4">
                            <div>
                                <h3 className="text-2xl font-display font-black text-primary dark:text-white">Governance Calendar 2026</h3>
                                <p className="text-gray-500 text-sm font-medium">Key compliance dates and board meetings.</p>
                            </div>
                        </div>
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            {data.governanceCalendar.map((item, i) => (
                                <div key={i} className="p-6 rounded-3xl bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-gray-700">
                                    <div className="text-sm font-black text-primary mb-4 uppercase tracking-widest">{item.month}</div>
                                    <div className="space-y-2">
                                        {item.events.map((e, j) => (
                                            <div key={j} className="flex items-start gap-2 text-xs font-bold text-gray-700 dark:text-gray-300">
                                                <span className="text-accent">‚Ä¢</span>
                                                {e}
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        };

        const FinancialSection = ({ data }) => {
            const { ResponsiveContainer, BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Cell } = Recharts;
            const scenarioList = Object.entries(data.scenarios).map(([id, val]) => ({ id, ...val }));
            const [scenario, setScenario] = useState('realistic');
            const activeData = data.scenarios[scenario];

            // Recharts expects array of objects
            const chartData = activeData.revenueBreakdown;

            return (
                <div className="animate-fade-in-up space-y-12">
                    <SectionHeader title="Financial Sustainability" subtitle="Triple-stream revenue model ensuring long-term independence." />
                    <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <div className="lg:col-span-1 space-y-4">
                            <div className="bg-white dark:bg-slate-800 rounded-3xl p-8 border border-gray-100 dark:border-gray-700 shadow-soft">
                                <h3 className="text-xl font-display font-black text-primary dark:text-white mb-6">Execution Scenarios</h3>
                                <div className="space-y-3">
                                    {scenarioList.map(s => (
                                        <button key={s.id} onClick={() => setScenario(s.id)} className={`w-full text-left p-4 rounded-2xl border transition-all ${scenario === s.id ? 'bg-primary text-white border-primary shadow-lg' : 'bg-gray-50 dark:bg-slate-900 border-gray-100 dark:border-gray-700 hover:border-primary/30'}`}>
                                            <div className="flex justify-between items-center mb-1"><div className="font-display font-black text-gray-900 dark:text-white">{s.label}</div></div>
                                            <div className={`text-xs ${scenario === s.id ? 'text-white/70' : 'text-gray-400'}`}>{s.description}</div>
                                        </button>
                                    ))}
                                </div>
                            </div>
                            <div className="bg-primary text-white rounded-3xl p-8 shadow-premium">
                                <div className="text-[10px] font-black uppercase tracking-widest text-white/50 mb-2">Total Projected Revenue</div>
                                <div className="text-3xl font-display font-black mb-4">${activeData.totalRevenue?.toLocaleString()}</div>
                                <p className="text-xs text-white/60 leading-relaxed italic">"{activeData.notes}"</p>
                            </div>
                        </div>
                        <div className="lg:col-span-2 bg-white dark:bg-slate-800 rounded-[2.5rem] p-10 border border-gray-100 dark:border-gray-700 shadow-soft flex flex-col items-center justify-center min-h-[450px]">
                            <h4 className="text-sm font-black uppercase tracking-widest text-gray-400 mb-8 self-start">Revenue Breakdown (Year 1)</h4>
                            <ResponsiveContainer width="100%" height={300}>
                                <BarChart data={chartData}>
                                    <CartesianGrid strokeDasharray="3 3" vertical={false} stroke="#eee" />
                                    <XAxis dataKey="name" axisLine={false} tickLine={false} tick={{ fontSize: 10, fontWeight: 700 }} />
                                    <YAxis axisLine={false} tickLine={false} tick={{ fontSize: 10, fontWeight: 700 }} />
                                    <Tooltip
                                        cursor={{ fill: 'transparent' }}
                                        contentStyle={{ borderRadius: '16px', border: 'none', boxShadow: '0 10px 15px -3px rgba(0,0,0,0.1)' }}
                                    />
                                    <Bar dataKey="value" radius={[10, 10, 0, 0]} barSize={60}>
                                        {chartData.map((entry, index) => (
                                            <Cell key={`cell-${index}`} fill={entry.color || '#003b6f'} />
                                        ))}
                                    </Bar>
                                </BarChart>
                            </ResponsiveContainer>
                        </div>
                    </div>
                </div>
            );
        };

        const SafeguardingSection = ({ data }) => (
            <div className="animate-fade-in-up space-y-12">
                <SectionHeader title="Safeguarding & Safety" subtitle="Our commitment to child safety and inclusive design." />
                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    {data.commitments.map((c, i) => (
                        <div key={i} className="bg-white dark:bg-slate-800 p-8 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-soft transition-all hover:shadow-premium group">
                            <h4 className="font-display font-black text-gray-900 dark:text-white mb-4 group-hover:text-primary">{c.title}</h4>
                            <p className="text-sm text-gray-500 dark:text-gray-400 leading-relaxed">{c.desc}</p>
                        </div>
                    ))}
                </div>
                <div className="bg-slate-900 text-white rounded-[3rem] p-12 relative overflow-hidden">
                    <h3 className="text-2xl font-display font-black mb-8">Active Policies</h3>
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                        {data.policies.map((p, i) => (
                            <div key={i} className="p-6 rounded-2xl bg-white/5 border border-white/10 hover:bg-white/10 transition-colors">
                                <h4 className="font-bold mb-2 text-accent">{p.title}</h4>
                                <div className="text-xs text-slate-400 leading-relaxed">{p.content}</div>
                            </div>
                        ))}
                    </div>
                </div>
                <div className="bg-accent/5 border border-accent/20 rounded-3xl p-8 text-center italic text-gray-500 text-sm">
                    {data.realityCheck}
                </div>
            </div>
        );

        const TechnologySection = ({ data }) => (
            <div className="animate-fade-in-up space-y-12">
                <SectionHeader title="Technology & Platform" subtitle="Building a scalable, secure, and accessible digital ecosystem." />
                <div className="bg-white dark:bg-slate-800 rounded-3xl p-10 border border-gray-100 dark:border-gray-700 shadow-soft">
                    <h3 className="text-xl font-display font-black text-primary dark:text-white mb-8">Platform Core Stack</h3>
                    <div className="grid grid-cols-2 md:grid-cols-4 gap-8">
                        {data.stack.map((s, i) => (
                            <div key={i} className="text-center">
                                <div className="w-16 h-16 mx-auto bg-gray-50 rounded-2xl flex items-center justify-center text-3xl mb-4">{s.icon}</div>
                                <div className="font-bold text-sm mb-1 dark:text-white">{s.name}</div>
                                <div className="text-[10px] text-gray-400 uppercase font-black">{s.role}</div>
                            </div>
                        ))}
                    </div>
                </div>
            </div>
        );

        const PerformanceSection = ({ data }) => {
            const metrics = [...data.metrics.year1.youth, ...data.metrics.year1.adult, ...data.metrics.year1.senior, ...data.metrics.year1.org];
            return (
                <div className="animate-fade-in-up space-y-12">
                    <SectionHeader title="Performance & Metrics" subtitle="Measuring our impact on community connection." />
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                        {metrics.map((m, i) => (
                            <div key={i} className="bg-white dark:bg-slate-800 p-8 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-soft">
                                <div className="text-3xl font-display font-black text-primary dark:text-white mb-2">{m.value}</div>
                                <div className="text-sm font-bold text-gray-600 dark:text-gray-300">{m.label}</div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        const GetInvolvedSection = ({ data }) => {
            const [selectedOpportunity, setSelectedOpportunity] = useState(null);
            const contactEmail = "ryanhutchison@outlook.com.au";

            const GetInvolvedModal = ({ opportunity, onClose }) => (
                <div className="fixed inset-0 bg-black/60 backdrop-blur-sm z-[200] flex items-center justify-center p-4 animate-fade-in" onClick={onClose}>
                    <div className="bg-white dark:bg-slate-800 rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-premium" onClick={e => e.stopPropagation()}>
                        <div className="p-8">
                            <div className="flex justify-between items-start mb-6">
                                <div>
                                    <div className="text-[10px] font-black uppercase text-accent mb-2 tracking-widest">{opportunity.role}</div>
                                    <h3 className="text-2xl font-display font-black text-primary dark:text-white">{opportunity.title}</h3>
                                </div>
                                <button onClick={onClose} className="w-10 h-10 rounded-full bg-gray-100 dark:bg-slate-700 flex items-center justify-center text-gray-500 hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" /></svg>
                                </button>
                            </div>

                            <p className="text-gray-600 dark:text-gray-300 mb-8 leading-relaxed">{opportunity.fullDesc}</p>

                            <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                                <div className="bg-gray-50 dark:bg-slate-900/50 rounded-2xl p-6 border border-gray-100 dark:border-gray-700">
                                    <h4 className="font-display font-black text-primary dark:text-white mb-4 flex items-center gap-2">
                                        <span className="text-lg">üìã</span> Requirements
                                    </h4>
                                    <ul className="space-y-2">
                                        {opportunity.requirements.map((req, i) => (
                                            <li key={i} className="flex items-start gap-2 text-sm text-gray-600 dark:text-gray-400">
                                                <span className="text-accent mt-1">‚úì</span>
                                                {req}
                                            </li>
                                        ))}
                                    </ul>
                                </div>
                                <div className="bg-gradient-to-br from-primary/10 to-accent/5 rounded-2xl p-6 border border-primary/20">
                                    <h4 className="font-display font-black text-primary dark:text-white mb-4 flex items-center gap-2">
                                        <span className="text-lg">üéÅ</span> Benefits
                                    </h4>
                                    <ul className="space-y-2">
                                        {opportunity.benefits.map((benefit, i) => (
                                            <li key={i} className="flex items-start gap-2 text-sm text-gray-600 dark:text-gray-400">
                                                <span className="text-success mt-1">‚òÖ</span>
                                                {benefit}
                                            </li>
                                        ))}
                                    </ul>
                                </div>
                            </div>

                            <a
                                href={`mailto:${contactEmail}?subject=${encodeURIComponent(opportunity.emailSubject)}`}
                                className="block w-full py-4 bg-accent text-white rounded-2xl font-black text-sm uppercase tracking-widest text-center hover:bg-orange-700 transition-all shadow-lg hover:shadow-xl hover:-translate-y-0.5"
                            >
                                üìß Contact Us - Get Started
                            </a>
                            <p className="text-center text-xs text-gray-400 mt-4">
                                Clicking will open your email client to contact {contactEmail}
                            </p>
                        </div>
                    </div>
                </div>
            );

            return (
                <div className="animate-fade-in-up space-y-12">
                    <SectionHeader title="Get Involved" subtitle="Join us in building the Murrindindi intergenerational ecosystem." />

                    <div className="bg-gradient-to-r from-primary/5 to-accent/5 rounded-3xl p-8 mb-8 border border-primary/10">
                        <div className="flex items-center gap-4 mb-4">
                            <div className="w-12 h-12 bg-primary rounded-xl flex items-center justify-center text-white text-2xl">ü§ù</div>
                            <div>
                                <h3 className="text-xl font-display font-black text-primary dark:text-white">How It Works</h3>
                                <p className="text-sm text-gray-500">Two simple steps to get involved</p>
                            </div>
                        </div>
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div className="flex items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-2xl">
                                <div className="w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center text-primary font-black">1</div>
                                <div className="text-sm text-gray-600 dark:text-gray-300">Click "Learn More" to see full details about the opportunity</div>
                            </div>
                            <div className="flex items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-2xl">
                                <div className="w-10 h-10 bg-accent/10 rounded-full flex items-center justify-center text-accent font-black">2</div>
                                <div className="text-sm text-gray-600 dark:text-gray-300">Click "Contact Us" to email Ryan directly with your interest</div>
                            </div>
                        </div>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                        {data.map((p, i) => (
                            <div key={i} className="bg-white dark:bg-slate-800 p-8 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-soft flex flex-col hover:shadow-lg transition-all hover:-translate-y-1 group">
                                <div className="w-14 h-14 bg-primary/10 rounded-2xl flex items-center justify-center text-3xl mb-6 group-hover:scale-110 transition-transform">
                                    {p.role === 'Director' ? 'üëë' : p.role === 'Organisation' ? 'üè¢' : p.role === 'Expert' ? 'üéì' : 'ü§≤'}
                                </div>
                                <h4 className="text-xl font-display font-black mb-2 text-gray-900 dark:text-white">{p.title}</h4>
                                <div className="text-[10px] font-black uppercase text-accent mb-4 tracking-widest">{p.role}</div>
                                <p className="text-sm text-gray-500 dark:text-gray-400 mb-8 flex-grow leading-relaxed">{p.shortDesc}</p>
                                <button
                                    onClick={() => setSelectedOpportunity(p)}
                                    className="w-full py-4 bg-primary text-white rounded-2xl font-black text-xs uppercase tracking-widest text-center hover:bg-slate-800 transition-all"
                                >
                                    {p.cta}
                                </button>
                            </div>
                        ))}
                    </div>

                    {selectedOpportunity && (
                        <GetInvolvedModal
                            opportunity={selectedOpportunity}
                            onClose={() => setSelectedOpportunity(null)}
                        />
                    )}
                </div>
            );
        };

        const ResourcesSection = ({ data, setActiveSection }) => (
            <div className="animate-fade-in-up space-y-12">
                <SectionHeader title="Resources & Downloads" subtitle="Access templates, brand assets, and governance documents." />
                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    {data.map((c, i) => (
                        <div key={i} className="bg-white dark:bg-slate-800 p-8 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-soft">
                            <h4 className="text-lg font-display font-black mb-6 text-primary dark:text-white uppercase tracking-tighter">{c.category}</h4>
                            <div className="space-y-3">
                                {c.items.map((item, j) => {
                                    const handleView = () => {
                                        if (item === "Full Constitution (HTML)") setActiveSection('constitution');
                                        else if (item === "Board Prospectus") {
                                            setActiveSection('strategy');
                                            setTimeout(() => {
                                                document.getElementById('board-roles')?.scrollIntoView({ behavior: 'smooth' });
                                            }, 100);
                                        }
                                        else if (item === "Risk Register") setActiveSection('operations');
                                        else if (item === "Strategic Plan") setActiveSection('strategy');
                                        else if (item === "Financial Scenarios") setActiveSection('financials');
                                        else if (item === "Roadmap 2026") setActiveSection('strategy');
                                        else if (item === "Child Safe Policy") setActiveSection('safeguarding');
                                        else if (item === "Boundary Standards") setActiveSection('safeguarding');
                                        else if (item === "Incident Form") setActiveSection('safeguarding');
                                        else alert(`Viewing ${item}... (File simulate load)`);
                                    };
                                    return (
                                        <div key={j} className="flex justify-between items-center p-4 rounded-xl bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-gray-700 group hover:border-primary/20 transition-all">
                                            <div className="text-sm font-bold text-gray-700 dark:text-gray-300">{item}</div>
                                            <div
                                                onClick={handleView}
                                                className="text-[10px] font-black text-primary hover:text-accent underline cursor-pointer transition-colors"
                                            >
                                                View
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>
                        </div>
                    ))}
                </div>
            </div>
        );

        // ============================================================
        // MY RESOURCES SECTION - User-managed categories, regions, resources
        // ============================================================
        const MyResourcesSection = () => {
            const { userData, addCategory, updateCategory, deleteCategory, addRegion, updateRegion, deleteRegion, addResource, updateResource, deleteResource } = useUserData();
            const [activeTab, setActiveTab] = useState('categories');
            const [showAddModal, setShowAddModal] = useState(false);
            const [editItem, setEditItem] = useState(null);
            const [deleteConfirm, setDeleteConfirm] = useState(null);

            // Form state
            const [formData, setFormData] = useState({});

            const resetForm = () => {
                setFormData({});
                setShowAddModal(false);
                setEditItem(null);
            };

            const handleAdd = () => {
                setFormData({});
                setEditItem(null);
                setShowAddModal(true);
            };

            const handleEdit = (item) => {
                setFormData({ ...item });
                setEditItem(item);
                setShowAddModal(true);
            };

            const handleSave = () => {
                try {
                    if (activeTab === 'categories') {
                        const validation = validateForm({ name: formData.name }, { name: VALIDATION_RULES.categoryName });
                        if (!validation.isValid) return;
                        if (editItem) {
                            updateCategory(editItem.id, { name: formData.name, description: formData.description, icon: formData.icon || 'üìÇ' });
                        } else {
                            addCategory({ name: formData.name, description: formData.description, icon: formData.icon || 'üìÇ' });
                        }
                    } else if (activeTab === 'regions') {
                        const validation = validateForm({ name: formData.name }, { name: VALIDATION_RULES.regionName });
                        if (!validation.isValid) return;
                        if (editItem) {
                            updateRegion(editItem.id, { name: formData.name, description: formData.description, icon: formData.icon || 'üìç' });
                        } else {
                            addRegion({ name: formData.name, description: formData.description, icon: formData.icon || 'üìç' });
                        }
                    } else if (activeTab === 'resources') {
                        const validation = validateForm({ title: formData.title }, { title: VALIDATION_RULES.resourceTitle });
                        if (!validation.isValid) return;
                        if (editItem) {
                            updateResource(editItem.id, { title: formData.title, description: formData.description, url: formData.url, categoryId: formData.categoryId, regionId: formData.regionId });
                        } else {
                            addResource({ title: formData.title, description: formData.description, url: formData.url, categoryId: formData.categoryId, regionId: formData.regionId });
                        }
                    }
                    resetForm();
                } catch (error) {
                    console.error('Save error:', error);
                }
            };

            const handleDelete = () => {
                if (!deleteConfirm) return;
                if (activeTab === 'categories') deleteCategory(deleteConfirm.id);
                else if (activeTab === 'regions') deleteRegion(deleteConfirm.id);
                else if (activeTab === 'resources') deleteResource(deleteConfirm.id);
                setDeleteConfirm(null);
            };

            const getCurrentItems = () => {
                if (activeTab === 'categories') return userData.categories;
                if (activeTab === 'regions') return userData.regions;
                return userData.resources;
            };

            const getTitle = () => {
                if (activeTab === 'categories') return 'Category';
                if (activeTab === 'regions') return 'Region';
                return 'Resource';
            };

            return (
                <div className="animate-fade-in-up space-y-8">
                    <SectionHeader title="My Resources" subtitle="Create and manage your own categories, regions, and resources" />

                    <DataManagementBar />

                    {/* Tabs */}
                    <div className="flex gap-2 bg-gray-100 dark:bg-slate-800 p-1 rounded-2xl w-fit">
                        {['categories', 'regions', 'resources'].map(tab => (
                            <button
                                key={tab}
                                onClick={() => setActiveTab(tab)}
                                className={`px-6 py-3 rounded-xl font-bold text-sm transition-all min-h-[44px] ${activeTab === tab ? 'bg-white dark:bg-slate-700 text-primary shadow-md' : 'text-gray-500 hover:text-gray-700'}`}
                            >
                                {tab === 'categories' ? 'üìÇ Categories' : tab === 'regions' ? 'üìç Regions' : 'üîó Resources'}
                            </button>
                        ))}
                    </div>

                    {/* Add Button */}
                    <div className="flex justify-between items-center">
                        <p className="text-gray-500">{getCurrentItems().length} {activeTab}</p>
                        <button onClick={handleAdd} className="flex items-center gap-2 px-6 py-3 bg-primary text-white rounded-xl font-bold hover:bg-slate-800 transition-colors min-h-[44px]">
                            <Icons.Plus /> Add {getTitle()}
                        </button>
                    </div>

                    {/* Items Grid */}
                    {getCurrentItems().length === 0 ? (
                        <div className="bg-gray-50 dark:bg-slate-800 rounded-3xl p-12 text-center">
                            <div className="text-5xl mb-4">{activeTab === 'categories' ? 'üìÇ' : activeTab === 'regions' ? 'üìç' : 'üîó'}</div>
                            <h3 className="text-xl font-display font-black text-gray-900 dark:text-white mb-2">No {activeTab} yet</h3>
                            <p className="text-gray-500 mb-6">Click "Add {getTitle()}" to create your first one</p>
                            <button onClick={handleAdd} className="px-6 py-3 bg-primary text-white rounded-xl font-bold hover:bg-slate-800 transition-colors min-h-[44px]">
                                <Icons.Plus /> Add {getTitle()}
                            </button>
                        </div>
                    ) : (
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            {getCurrentItems().map(item => (
                                <div key={item.id} className="bg-white dark:bg-slate-800 p-6 rounded-2xl border border-gray-100 dark:border-gray-700 shadow-soft group hover:shadow-lg transition-all">
                                    <div className="flex justify-between items-start mb-4">
                                        <div className="text-3xl">{item.icon || (activeTab === 'categories' ? 'üìÇ' : activeTab === 'regions' ? 'üìç' : 'üîó')}</div>
                                        <div className="flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity">
                                            <button onClick={() => handleEdit(item)} className="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-500 min-w-[44px] min-h-[44px] flex items-center justify-center">
                                                <Icons.Edit />
                                            </button>
                                            <button onClick={() => setDeleteConfirm(item)} className="p-2 rounded-lg hover:bg-danger/10 text-danger min-w-[44px] min-h-[44px] flex items-center justify-center">
                                                <Icons.Trash />
                                            </button>
                                        </div>
                                    </div>
                                    <h4 className="font-display font-black text-gray-900 dark:text-white mb-2">{item.name || item.title}</h4>
                                    {item.description && <p className="text-sm text-gray-500 mb-3 line-clamp-2">{item.description}</p>}
                                    {item.url && <a href={item.url} target="_blank" rel="noopener noreferrer" className="text-xs text-primary hover:underline break-all">üîó {item.url}</a>}
                                    <div className="text-[10px] text-gray-400 mt-3">Created: {new Date(item.createdAt).toLocaleDateString('en-AU')}</div>
                                </div>
                            ))}
                        </div>
                    )}

                    {/* Add/Edit Modal */}
                    {showAddModal && (
                        <div className="fixed inset-0 bg-black/60 backdrop-blur-sm z-[200] flex items-center justify-center p-4 animate-fade-in" onClick={resetForm}>
                            <div className="bg-white dark:bg-slate-800 rounded-3xl max-w-lg w-full shadow-premium p-8 max-h-[90vh] overflow-y-auto" onClick={e => e.stopPropagation()}>
                                <div className="flex justify-between items-center mb-6">
                                    <h3 className="text-xl font-display font-black text-primary dark:text-white">{editItem ? 'Edit' : 'Add'} {getTitle()}</h3>
                                    <button onClick={resetForm} className="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-700 min-w-[44px] min-h-[44px] flex items-center justify-center">
                                        <Icons.X />
                                    </button>
                                </div>

                                {activeTab === 'resources' ? (
                                    <>
                                        <ValidatedInput label="Title" value={formData.title || ''} onChange={v => setFormData(p => ({ ...p, title: v }))} rules={VALIDATION_RULES.resourceTitle} placeholder="e.g. Community Health Centre" />
                                        <ValidatedInput label="Description" value={formData.description || ''} onChange={v => setFormData(p => ({ ...p, description: v }))} rules={VALIDATION_RULES.resourceDescription} multiline placeholder="Brief description of the resource" />
                                        <ValidatedInput label="URL" value={formData.url || ''} onChange={v => setFormData(p => ({ ...p, url: v }))} rules={VALIDATION_RULES.url} type="url" placeholder="https://example.com" />
                                        {userData.categories.length > 0 && (
                                            <div className="mb-4">
                                                <label className="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2">Category</label>
                                                <select value={formData.categoryId || ''} onChange={e => setFormData(p => ({ ...p, categoryId: e.target.value }))} className="w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-slate-900 dark:text-white min-h-[44px]">
                                                    <option value="">Select a category</option>
                                                    {userData.categories.map(c => <option key={c.id} value={c.id}>{c.name}</option>)}
                                                </select>
                                            </div>
                                        )}
                                        {userData.regions.length > 0 && (
                                            <div className="mb-4">
                                                <label className="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2">Region</label>
                                                <select value={formData.regionId || ''} onChange={e => setFormData(p => ({ ...p, regionId: e.target.value }))} className="w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-slate-900 dark:text-white min-h-[44px]">
                                                    <option value="">Select a region</option>
                                                    {userData.regions.map(r => <option key={r.id} value={r.id}>{r.name}</option>)}
                                                </select>
                                            </div>
                                        )}
                                    </>
                                ) : (
                                    <>
                                        <ValidatedInput label="Name" value={formData.name || ''} onChange={v => setFormData(p => ({ ...p, name: v }))} rules={activeTab === 'categories' ? VALIDATION_RULES.categoryName : VALIDATION_RULES.regionName} placeholder={`e.g. ${activeTab === 'categories' ? 'Housing' : 'Alexandra'}`} />
                                        <ValidatedInput label="Description" value={formData.description || ''} onChange={v => setFormData(p => ({ ...p, description: v }))} rules={{ ...VALIDATION_RULES.resourceDescription, required: false }} multiline placeholder="Optional description" />
                                    </>
                                )}

                                <div className="flex gap-4 mt-6">
                                    <button onClick={resetForm} className="flex-1 py-3 px-6 bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors min-h-[44px]">Cancel</button>
                                    <button onClick={handleSave} className="flex-1 py-3 px-6 bg-primary text-white rounded-xl font-bold hover:bg-slate-800 transition-colors min-h-[44px]">{editItem ? 'Save Changes' : 'Create'}</button>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Delete Confirmation */}
                    {deleteConfirm && (
                        <ConfirmModal
                            title={`Delete ${getTitle()}?`}
                            message={`Are you sure you want to delete "${deleteConfirm.name || deleteConfirm.title}"? This action cannot be undone.`}
                            onConfirm={handleDelete}
                            onCancel={() => setDeleteConfirm(null)}
                        />
                    )}
                </div>
            );
        };

        // ============================================================
        // HELP & GETTING STARTED SECTION
        // ============================================================
        const HelpSection = () => {
            const steps = [
                { num: 1, icon: 'üìÇ', title: 'Create Categories', desc: 'Start by creating categories to organise your resources (e.g. Housing, Health, Education)' },
                { num: 2, icon: 'üìç', title: 'Add Regions', desc: 'Add the regions or towns you want to track resources for (e.g. Alexandra, Yea)' },
                { num: 3, icon: 'üîó', title: 'Add Resources', desc: 'Create resources with titles, descriptions, and links, then assign them to categories and regions' },
                { num: 4, icon: 'üîç', title: 'Browse & Filter', desc: 'Use the tabs in My Resources to browse your categories, regions, and resources' },
                { num: 5, icon: 'üíæ', title: 'Export Your Data', desc: 'Click Export JSON to download a backup of all your data that you can share or restore later' },
                { num: 6, icon: 'üìß', title: 'Get Help', desc: 'Visit the Contact section to report issues or ask questions' }
            ];

            return (
                <div className="animate-fade-in-up space-y-12">
                    <SectionHeader title="Help & Getting Started" subtitle="Learn how to use the Information Hub effectively" />

                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        {steps.map(step => (
                            <div key={step.num} className="bg-white dark:bg-slate-800 p-8 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-soft">
                                <div className="flex items-center gap-4 mb-4">
                                    <div className="w-10 h-10 bg-primary rounded-full flex items-center justify-center text-white font-black">{step.num}</div>
                                    <div className="text-3xl">{step.icon}</div>
                                </div>
                                <h3 className="font-display font-black text-gray-900 dark:text-white mb-2">{step.title}</h3>
                                <p className="text-sm text-gray-500">{step.desc}</p>
                            </div>
                        ))}
                    </div>

                    <div className="bg-primary/5 border border-primary/10 rounded-3xl p-8">
                        <h3 className="text-xl font-display font-black text-primary dark:text-white mb-4">üí° Tips</h3>
                        <ul className="space-y-3 text-gray-600 dark:text-gray-400">
                            <li className="flex items-start gap-3"><span className="text-success">‚úì</span> Your data is saved automatically in your browser</li>
                            <li className="flex items-start gap-3"><span className="text-success">‚úì</span> Export regularly to keep a backup of your data</li>
                            <li className="flex items-start gap-3"><span className="text-success">‚úì</span> Share your exported JSON file with others so they can import it</li>
                            <li className="flex items-start gap-3"><span className="text-success">‚úì</span> Hover over items to reveal edit and delete buttons</li>
                        </ul>
                    </div>
                </div>
            );
        };

        // ============================================================
        // CONTACT & FEEDBACK SECTION
        // ============================================================
        const ContactFeedbackSection = () => {
            const contactEmail = 'ryanhutchison@outlook.com.au';

            const openFeedbackEmail = () => {
                const subject = encodeURIComponent('Information Hub Feedback');
                const body = encodeURIComponent(
                    'Hi Ryan,\n\n' +
                    'I have feedback about the Information Hub:\n\n' +
                    '[Please describe your feedback or issue here]\n\n' +
                    'Browser: ' + navigator.userAgent + '\n' +
                    'Page: ' + window.location.href + '\n\n' +
                    'Thank you'
                );
                window.location.href = `mailto:${contactEmail}?subject=${subject}&body=${body}`;
            };

            const faqItems = [
                { q: 'Is my data saved?', a: 'Yes, your data is saved locally in your browser. Use the export feature to back up your data or share it with others.' },
                { q: 'Can I share my data with others?', a: 'Yes! Click "Export JSON" to download your data as a file, then share that file. Others can import it using "Import JSON".' },
                { q: 'What browsers are supported?', a: 'All modern browsers from the last 2 years are supported, including Chrome, Firefox, Safari, and Edge.' },
                { q: 'I found a bug. What should I do?', a: 'Click "Report an Issue" below to email Ryan directly with details about the problem.' }
            ];

            return (
                <div className="animate-fade-in-up space-y-12">
                    <SectionHeader title="Contact & Feedback" subtitle="Get help, report issues, or share your feedback" />

                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        {/* Contact Info */}
                        <div className="bg-white dark:bg-slate-800 p-8 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-soft">
                            <h3 className="text-xl font-display font-black text-primary dark:text-white mb-6">üìß Contact Us</h3>
                            <div className="space-y-4 mb-8">
                                <div className="flex items-center gap-4 p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl">
                                    <span className="text-2xl">üë§</span>
                                    <div>
                                        <div className="font-bold text-gray-900 dark:text-white">Ryan</div>
                                        <div className="text-sm text-gray-500">Founder & Strategic Lead</div>
                                    </div>
                                </div>
                                <div className="flex items-center gap-4 p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl">
                                    <span className="text-2xl">üìß</span>
                                    <div>
                                        <div className="font-bold text-gray-900 dark:text-white">Email</div>
                                        <a href={`mailto:${contactEmail}`} className="text-sm text-primary hover:underline">{contactEmail}</a>
                                    </div>
                                </div>
                            </div>
                            <button onClick={openFeedbackEmail} className="w-full py-4 bg-accent text-white rounded-2xl font-bold hover:bg-orange-700 transition-colors min-h-[44px]">
                                üêõ Report an Issue
                            </button>
                        </div>

                        {/* FAQ */}
                        <div className="bg-white dark:bg-slate-800 p-8 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-soft">
                            <h3 className="text-xl font-display font-black text-primary dark:text-white mb-6">‚ùì Frequently Asked Questions</h3>
                            <div className="space-y-4">
                                {faqItems.map((item, i) => (
                                    <div key={i} className="p-4 bg-gray-50 dark:bg-slate-900 rounded-2xl">
                                        <div className="font-bold text-gray-900 dark:text-white mb-2">{item.q}</div>
                                        <div className="text-sm text-gray-500">{item.a}</div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // ============================================================
        // COMMUNITY GUIDELINES SECTION
        // ============================================================
        const CommunityGuidelinesSection = () => (
            <div className="animate-fade-in-up space-y-12">
                <SectionHeader title="Community Guidelines" subtitle="Guidelines for appropriate use of this platform" />

                <div className="bg-white dark:bg-slate-800 p-8 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-soft">
                    <p className="text-gray-600 dark:text-gray-400 mb-8">
                        smalltalk.community Information Hub is designed to help regional communities share resources and information. To keep this tool helpful for everyone, please follow these guidelines:
                    </p>

                    <div className="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
                        {/* Do's */}
                        <div className="bg-success/5 border border-success/20 rounded-2xl p-6">
                            <h4 className="font-display font-black text-success mb-4 flex items-center gap-2">‚úì Do</h4>
                            <ul className="space-y-3 text-gray-600 dark:text-gray-400">
                                <li className="flex items-start gap-2"><span className="text-success">‚Ä¢</span> Share accurate and helpful information</li>
                                <li className="flex items-start gap-2"><span className="text-success">‚Ä¢</span> Respect others' contributions</li>
                                <li className="flex items-start gap-2"><span className="text-success">‚Ä¢</span> Keep descriptions clear and concise</li>
                                <li className="flex items-start gap-2"><span className="text-success">‚Ä¢</span> Include working links when possible</li>
                                <li className="flex items-start gap-2"><span className="text-success">‚Ä¢</span> Focus on community resources and services</li>
                            </ul>
                        </div>

                        {/* Don'ts */}
                        <div className="bg-danger/5 border border-danger/20 rounded-2xl p-6">
                            <h4 className="font-display font-black text-danger mb-4 flex items-center gap-2">‚úó Don't</h4>
                            <ul className="space-y-3 text-gray-600 dark:text-gray-400">
                                <li className="flex items-start gap-2"><span className="text-danger">‚Ä¢</span> Share personal information (phone numbers, addresses, emails)</li>
                                <li className="flex items-start gap-2"><span className="text-danger">‚Ä¢</span> Post spam or promotional content</li>
                                <li className="flex items-start gap-2"><span className="text-danger">‚Ä¢</span> Use offensive or inappropriate language</li>
                                <li className="flex items-start gap-2"><span className="text-danger">‚Ä¢</span> Share false or misleading information</li>
                                <li className="flex items-start gap-2"><span className="text-danger">‚Ä¢</span> Duplicate existing resources</li>
                            </ul>
                        </div>
                    </div>

                    <div className="bg-primary/5 border border-primary/10 rounded-2xl p-6">
                        <h4 className="font-display font-black text-primary dark:text-white mb-2">Reporting Issues</h4>
                        <p className="text-gray-600 dark:text-gray-400">
                            If you see content that violates these guidelines, please contact us at{' '}
                            <a href="mailto:ryanhutchison@outlook.com.au" className="text-primary hover:underline">ryanhutchison@outlook.com.au</a>
                        </p>
                    </div>

                    <p className="text-center text-sm text-gray-500 mt-8 italic">
                        By using this tool, you agree to follow these guidelines.
                    </p>
                </div>
            </div>
        );

        // Privacy Policy Section - tailored for Victorian non-profits per ACNC/OAIC guidelines
        const PrivacyPolicySection = () => (
            <div className="animate-fade-in-up space-y-8">
                <SectionHeader title="Privacy Policy" subtitle="How we collect, use, and protect your personal information" />

                <div className="bg-white dark:bg-slate-800 rounded-3xl p-8 border border-gray-100 dark:border-gray-700 shadow-soft">
                    <div className="prose prose-sm dark:prose-invert max-w-none">
                        <div className="text-xs text-gray-400 uppercase tracking-wider mb-4">Last Updated: January 2026</div>

                        <h3 className="text-lg font-display font-black text-primary dark:text-white mb-4">1. Introduction</h3>
                        <p className="text-gray-600 dark:text-gray-400 mb-6">
                            smalltalk.community Inc ("we", "our", "us") is committed to protecting the privacy of all individuals who interact with our organisation. This policy outlines how we collect, use, store, and disclose personal information in accordance with the Privacy Act 1988 (Cth), the Australian Privacy Principles (APPs), and the Victorian Privacy and Data Protection Act 2014.
                        </p>
                        <p className="text-gray-600 dark:text-gray-400 mb-6">
                            As a registered incorporated association in Victoria committed to good governance, we voluntarily comply with privacy legislation even where not legally required, demonstrating our commitment to transparency and the protection of our community members' information.
                        </p>

                        <h3 className="text-lg font-display font-black text-primary dark:text-white mb-4">2. Information We Collect</h3>
                        <p className="text-gray-600 dark:text-gray-400 mb-4">We may collect the following types of personal information:</p>
                        <ul className="list-disc list-inside text-gray-600 dark:text-gray-400 space-y-2 mb-6">
                            <li>Name, address, email, and phone number</li>
                            <li>Date of birth and age (for program eligibility and child safety)</li>
                            <li>Emergency contact details</li>
                            <li>Working with Children Check numbers (for volunteers and staff)</li>
                            <li>Membership and participation records</li>
                            <li>Donation and payment information</li>
                            <li>Photographs and media (with consent)</li>
                            <li>Feedback and complaints information</li>
                        </ul>

                        <h3 className="text-lg font-display font-black text-primary dark:text-white mb-4">3. How We Collect Information</h3>
                        <p className="text-gray-600 dark:text-gray-400 mb-6">
                            We collect personal information directly from individuals via membership forms, volunteer applications, event registrations, website interactions, and direct communications. We only collect information that is necessary for our legitimate purposes.
                        </p>

                        <h3 className="text-lg font-display font-black text-primary dark:text-white mb-4">4. How We Use Your Information</h3>
                        <p className="text-gray-600 dark:text-gray-400 mb-4">We use personal information to:</p>
                        <ul className="list-disc list-inside text-gray-600 dark:text-gray-400 space-y-2 mb-6">
                            <li>Deliver our programs and services to the Murrindindi Shire community</li>
                            <li>Communicate about events, activities, and opportunities</li>
                            <li>Process memberships, donations, and payments</li>
                            <li>Meet our legal and regulatory obligations (including child safety)</li>
                            <li>Respond to enquiries and resolve complaints</li>
                            <li>Improve our services and plan future programs</li>
                        </ul>

                        <h3 className="text-lg font-display font-black text-primary dark:text-white mb-4">5. Data Storage and Security</h3>
                        <p className="text-gray-600 dark:text-gray-400 mb-6">
                            We store personal information securely using industry-standard encryption and access controls. Our digital systems are hosted in Australia where possible. We take reasonable steps to protect personal information from misuse, loss, unauthorised access, modification, or disclosure.
                        </p>

                        <h3 className="text-lg font-display font-black text-primary dark:text-white mb-4">6. Disclosure of Information</h3>
                        <p className="text-gray-600 dark:text-gray-400 mb-6">
                            We do not sell, trade, or rent personal information. We may disclose information to: trusted service providers assisting our operations (under strict confidentiality), government bodies as required by law, or emergency services if there is a risk to safety.
                        </p>

                        <h3 className="text-lg font-display font-black text-primary dark:text-white mb-4">7. Your Rights</h3>
                        <p className="text-gray-600 dark:text-gray-400 mb-4">You have the right to:</p>
                        <ul className="list-disc list-inside text-gray-600 dark:text-gray-400 space-y-2 mb-6">
                            <li>Request access to your personal information</li>
                            <li>Request correction of inaccurate information</li>
                            <li>Request deletion of your information (subject to legal requirements)</li>
                            <li>Opt out of marketing communications</li>
                            <li>Make a complaint about our handling of your information</li>
                        </ul>

                        <h3 className="text-lg font-display font-black text-primary dark:text-white mb-4">8. Contact Us</h3>
                        <p className="text-gray-600 dark:text-gray-400 mb-4">
                            For privacy-related enquiries or to exercise your rights, contact our Privacy Officer:
                        </p>
                        <div className="bg-primary/5 rounded-2xl p-4 mb-6">
                            <p className="text-gray-600 dark:text-gray-400"><strong>Email:</strong> ryanhutchison@outlook.com.au</p>
                            <p className="text-gray-600 dark:text-gray-400"><strong>Subject:</strong> Privacy Enquiry - smalltalk.community Inc</p>
                        </div>
                        <p className="text-gray-600 dark:text-gray-400 text-sm">
                            If you are not satisfied with our response, you may contact the Office of the Australian Information Commissioner (OAIC) at <a href="https://www.oaic.gov.au" className="text-primary hover:underline">www.oaic.gov.au</a> or 1300 363 992.
                        </p>
                    </div>
                </div>
            </div>
        );

        // Complaints Policy Section - per Victorian Ombudsman and ACNC guidelines
        const ComplaintsPolicySection = () => (
            <div className="animate-fade-in-up space-y-8">
                <SectionHeader title="Complaints Policy" subtitle="How we receive, handle, and resolve complaints fairly and transparently" />

                <div className="bg-white dark:bg-slate-800 rounded-3xl p-8 border border-gray-100 dark:border-gray-700 shadow-soft">
                    <div className="prose prose-sm dark:prose-invert max-w-none">
                        <div className="text-xs text-gray-400 uppercase tracking-wider mb-4">Last Updated: January 2026</div>

                        <div className="bg-accent/10 border border-accent/20 rounded-2xl p-4 mb-6">
                            <p className="text-gray-600 dark:text-gray-400 text-sm m-0">
                                <strong>Our Commitment:</strong> smalltalk.community Inc welcomes feedback and complaints as opportunities to improve. We are committed to handling all complaints fairly, promptly, and confidentially.
                            </p>
                        </div>

                        <h3 className="text-lg font-display font-black text-primary dark:text-white mb-4">1. What Is a Complaint?</h3>
                        <p className="text-gray-600 dark:text-gray-400 mb-6">
                            A complaint is an expression of dissatisfaction about any aspect of our services, programs, volunteers, staff, or governance where a response or resolution is expected. We distinguish complaints from general feedback, which we also welcome.
                        </p>

                        <h3 className="text-lg font-display font-black text-primary dark:text-white mb-4">2. How to Make a Complaint</h3>
                        <p className="text-gray-600 dark:text-gray-400 mb-4">Complaints can be submitted via:</p>
                        <ul className="list-disc list-inside text-gray-600 dark:text-gray-400 space-y-2 mb-6">
                            <li><strong>Email:</strong> ryanhutchison@outlook.com.au (Subject: Formal Complaint)</li>
                            <li><strong>In person:</strong> At any of our programs or events to a staff member or volunteer</li>
                            <li><strong>In writing:</strong> Via mail to our registered office (address on request)</li>
                        </ul>
                        <p className="text-gray-600 dark:text-gray-400 mb-6">
                            You may have a support person or advocate assist you with your complaint at any stage. Anonymous complaints will be considered but may limit our ability to investigate fully.
                        </p>

                        <h3 className="text-lg font-display font-black text-primary dark:text-white mb-4">3. Our Complaints Process</h3>
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                            <div className="bg-gray-50 dark:bg-slate-900 rounded-2xl p-4 text-center">
                                <div className="text-2xl font-display font-black text-primary mb-2">Step 1</div>
                                <div className="text-sm text-gray-500">Acknowledgement within 3 business days</div>
                            </div>
                            <div className="bg-gray-50 dark:bg-slate-900 rounded-2xl p-4 text-center">
                                <div className="text-2xl font-display font-black text-accent mb-2">Step 2</div>
                                <div className="text-sm text-gray-500">Investigation and assessment (up to 20 business days)</div>
                            </div>
                            <div className="bg-gray-50 dark:bg-slate-900 rounded-2xl p-4 text-center">
                                <div className="text-2xl font-display font-black text-success mb-2">Step 3</div>
                                <div className="text-sm text-gray-500">Resolution and written response</div>
                            </div>
                        </div>

                        <h3 className="text-lg font-display font-black text-primary dark:text-white mb-4">4. Investigation Process</h3>
                        <p className="text-gray-600 dark:text-gray-400 mb-6">
                            We will investigate all complaints thoroughly and impartially. All parties will be treated fairly, and no assumptions will be made until all relevant information is collected. The complainant will be kept informed of progress and any delays.
                        </p>

                        <h3 className="text-lg font-display font-black text-primary dark:text-white mb-4">5. Confidentiality</h3>
                        <p className="text-gray-600 dark:text-gray-400 mb-6">
                            All complaints are handled confidentially. Personal information will only be disclosed as necessary for the investigation or as required by law. We maintain secure records of all complaints and their outcomes.
                        </p>

                        <h3 className="text-lg font-display font-black text-primary dark:text-white mb-4">6. Internal Review</h3>
                        <p className="text-gray-600 dark:text-gray-400 mb-6">
                            If you are unsatisfied with the outcome, you may request an internal review within 14 days of receiving our response. This will be conducted by the Board or a designated independent committee member.
                        </p>

                        <h3 className="text-lg font-display font-black text-primary dark:text-white mb-4">7. External Review Options</h3>
                        <p className="text-gray-600 dark:text-gray-400 mb-4">If you remain unsatisfied, you may contact:</p>
                        <ul className="list-disc list-inside text-gray-600 dark:text-gray-400 space-y-2 mb-6">
                            <li><strong>ACNC:</strong> Australian Charities and Not-for-profits Commission (<a href="https://www.acnc.gov.au" className="text-primary hover:underline">www.acnc.gov.au</a>)</li>
                            <li><strong>Victorian Ombudsman:</strong> (<a href="https://www.ombudsman.vic.gov.au" className="text-primary hover:underline">www.ombudsman.vic.gov.au</a>) - 1800 806 314</li>
                            <li><strong>Consumer Affairs Victoria:</strong> For consumer-related matters</li>
                        </ul>
                    </div>
                </div>
            </div>
        );

        // Accessibility Statement Section - per WCAG 2.2 and Australian DDA requirements
        const AccessibilitySection = () => (
            <div className="animate-fade-in-up space-y-8">
                <SectionHeader title="Accessibility Statement" subtitle="Our commitment to digital inclusion for all community members" />

                <div className="bg-white dark:bg-slate-800 rounded-3xl p-8 border border-gray-100 dark:border-gray-700 shadow-soft">
                    <div className="prose prose-sm dark:prose-invert max-w-none">
                        <div className="text-xs text-gray-400 uppercase tracking-wider mb-4">Last Updated: January 2026</div>

                        <div className="bg-support/10 border border-support/20 rounded-2xl p-4 mb-6">
                            <p className="text-gray-600 dark:text-gray-400 text-sm m-0">
                                <strong>Our Commitment:</strong> smalltalk.community Inc is committed to ensuring our website and digital content are accessible to all users, including people with disabilities. We believe that digital inclusion is fundamental to our mission of bringing communities together across all ages, backgrounds, and abilities.
                            </p>
                        </div>

                        <h3 className="text-lg font-display font-black text-primary dark:text-white mb-4">1. Accessibility Standards</h3>
                        <p className="text-gray-600 dark:text-gray-400 mb-6">
                            We aim to conform with the Web Content Accessibility Guidelines (WCAG) 2.2 Level AA and comply with the Disability Discrimination Act 1992 (DDA). We are continually working to improve accessibility across all our digital platforms.
                        </p>

                        <h3 className="text-lg font-display font-black text-primary dark:text-white mb-4">2. Accessibility Features</h3>
                        <p className="text-gray-600 dark:text-gray-400 mb-4">Our website includes the following accessibility features:</p>
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                            <div className="bg-gray-50 dark:bg-slate-900 rounded-2xl p-4">
                                <h4 className="font-bold text-primary dark:text-white mb-2">üé® Visual</h4>
                                <ul className="text-sm text-gray-500 space-y-1">
                                    <li>‚Ä¢ Dark mode toggle for reduced eye strain</li>
                                    <li>‚Ä¢ High contrast colour combinations</li>
                                    <li>‚Ä¢ Scalable text (supports browser zoom up to 400%)</li>
                                    <li>‚Ä¢ Clear visual hierarchy with headings</li>
                                </ul>
                            </div>
                            <div className="bg-gray-50 dark:bg-slate-900 rounded-2xl p-4">
                                <h4 className="font-bold text-primary dark:text-white mb-2">‚å®Ô∏è Navigation</h4>
                                <ul className="text-sm text-gray-500 space-y-1">
                                    <li>‚Ä¢ Full keyboard navigation support</li>
                                    <li>‚Ä¢ Consistent navigation structure</li>
                                    <li>‚Ä¢ Descriptive link text</li>
                                    <li>‚Ä¢ Focus indicators for interactive elements</li>
                                </ul>
                            </div>
                            <div className="bg-gray-50 dark:bg-slate-900 rounded-2xl p-4">
                                <h4 className="font-bold text-primary dark:text-white mb-2">üîä Screen Readers</h4>
                                <ul className="text-sm text-gray-500 space-y-1">
                                    <li>‚Ä¢ Semantic HTML structure</li>
                                    <li>‚Ä¢ ARIA labels where appropriate</li>
                                    <li>‚Ä¢ Alternative text for images</li>
                                    <li>‚Ä¢ Meaningful page titles</li>
                                </ul>
                            </div>
                            <div className="bg-gray-50 dark:bg-slate-900 rounded-2xl p-4">
                                <h4 className="font-bold text-primary dark:text-white mb-2">üì± Responsive</h4>
                                <ul className="text-sm text-gray-500 space-y-1">
                                    <li>‚Ä¢ Mobile-first responsive design</li>
                                    <li>‚Ä¢ Touch-friendly interactive elements</li>
                                    <li>‚Ä¢ Portrait and landscape support</li>
                                    <li>‚Ä¢ Readable without horizontal scrolling</li>
                                </ul>
                            </div>
                        </div>

                        <h3 className="text-lg font-display font-black text-primary dark:text-white mb-4">3. Known Limitations</h3>
                        <p className="text-gray-600 dark:text-gray-400 mb-6">
                            While we strive for full WCAG 2.2 Level AA conformance, some areas may have limitations. We are actively working to address any accessibility barriers. If you encounter difficulties, please contact us, and we will provide the information in an alternative format.
                        </p>

                        <h3 className="text-lg font-display font-black text-primary dark:text-white mb-4">4. Alternative Formats</h3>
                        <p className="text-gray-600 dark:text-gray-400 mb-6">
                            We can provide information in alternative formats upon request, including large print, audio formats, or Easy Read versions. Please contact us with your specific needs.
                        </p>

                        <h3 className="text-lg font-display font-black text-primary dark:text-white mb-4">5. Feedback and Assistance</h3>
                        <p className="text-gray-600 dark:text-gray-400 mb-4">
                            We welcome feedback on the accessibility of our website. If you encounter any barriers or have suggestions, please contact us:
                        </p>
                        <div className="bg-primary/5 rounded-2xl p-4 mb-6">
                            <p className="text-gray-600 dark:text-gray-400"><strong>Email:</strong> ryanhutchison@outlook.com.au</p>
                            <p className="text-gray-600 dark:text-gray-400"><strong>Subject:</strong> Accessibility Feedback - smalltalk.community Inc</p>
                        </div>
                        <p className="text-gray-600 dark:text-gray-400 text-sm">
                            We aim to respond to all accessibility feedback within 5 business days.
                        </p>
                    </div>
                </div>
            </div>
        );

        // Contact Modal Component
        const ContactModal = ({ onClose }) => (
            <div className="fixed inset-0 bg-black/60 backdrop-blur-sm z-[200] flex items-center justify-center p-4 animate-fade-in" onClick={onClose}>
                <div className="bg-white dark:bg-slate-800 rounded-3xl max-w-md w-full shadow-premium" onClick={e => e.stopPropagation()}>
                    <div className="p-8">
                        <div className="flex justify-between items-start mb-6">
                            <div>
                                <h3 className="text-2xl font-display font-black text-primary dark:text-white">Contact Us</h3>
                                <p className="text-sm text-gray-500">We'd love to hear from you</p>
                            </div>
                            <button onClick={onClose} className="w-10 h-10 rounded-full bg-gray-100 dark:bg-slate-700 flex items-center justify-center text-gray-500 hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors">
                                <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" /></svg>
                            </button>
                        </div>

                        <div className="space-y-4 mb-8">
                            <div className="bg-gray-50 dark:bg-slate-900 rounded-2xl p-4">
                                <div className="flex items-center gap-3 mb-2">
                                    <span className="text-2xl">üìß</span>
                                    <div className="font-bold text-gray-700 dark:text-gray-300">Email</div>
                                </div>
                                <a href="mailto:ryanhutchison@outlook.com.au" className="text-primary hover:underline">ryanhutchison@outlook.com.au</a>
                            </div>
                            <div className="bg-gray-50 dark:bg-slate-900 rounded-2xl p-4">
                                <div className="flex items-center gap-3 mb-2">
                                    <span className="text-2xl">üë§</span>
                                    <div className="font-bold text-gray-700 dark:text-gray-300">Primary Contact</div>
                                </div>
                                <p className="text-sm text-gray-500">Ryan, Founder & Strategic Lead</p>
                            </div>
                            <div className="bg-gray-50 dark:bg-slate-900 rounded-2xl p-4">
                                <div className="flex items-center gap-3 mb-2">
                                    <span className="text-2xl">üìç</span>
                                    <div className="font-bold text-gray-700 dark:text-gray-300">Location</div>
                                </div>
                                <p className="text-sm text-gray-500">Kilmore, Victoria, Australia</p>
                            </div>
                        </div>

                        <a
                            href="mailto:ryanhutchison@outlook.com.au?subject=Enquiry%20-%20smalltalk.community%20Inc"
                            className="block w-full py-4 bg-primary text-white rounded-2xl font-black text-sm uppercase tracking-widest text-center hover:bg-slate-800 transition-all"
                        >
                            üìß Send Email
                        </a>
                        <p className="text-center text-xs text-gray-400 mt-4">
                            Clicking will open your default email client
                        </p>
                    </div>
                </div>
            </div>
        );

        const App = () => {
            const [activeSection, setActiveSection] = useState('overview');
            const [userRole, setUserRole] = useState('public');
            const [isDarkMode, setIsDarkMode] = useState(false);
            const [showContactModal, setShowContactModal] = useState(false);
            const [showWelcomeModal, setShowWelcomeModal] = useState(false);

            useEffect(() => {
                // Check theme preference
                const isDark = localStorage.getItem('hub-theme') === 'dark';
                setIsDarkMode(isDark);
                if (isDark) document.documentElement.classList.add('dark');

                // Check if first visit
                if (isFirstVisit()) {
                    setShowWelcomeModal(true);
                }
            }, []);

            const toggleTheme = () => {
                const newMode = !isDarkMode;
                setIsDarkMode(newMode);
                localStorage.setItem('hub-theme', newMode ? 'dark' : 'light');
                if (newMode) document.documentElement.classList.add('dark');
                else document.documentElement.classList.remove('dark');
            };

            const renderSection = () => {
                switch (activeSection) {
                    case 'overview': return <HomeSection data={unifiedData} userRole={userRole} />;
                    case 'myresources': return <MyResourcesSection />;
                    case 'constitution': return <ConstitutionSection data={unifiedData.constitution} />;
                    case 'strategy': return <StrategicDirectionSection data={unifiedData.strategicPlan} />;
                    case 'operations': return <OperationsSection data={unifiedData.operationalFramework} />;
                    case 'financials': return <FinancialSection data={unifiedData.strategicPlan.financials} />;
                    case 'safeguarding': return <SafeguardingSection data={unifiedData.strategicPlan.safeguarding} />;
                    case 'tech': return <TechnologySection data={unifiedData.strategicPlan.technology} />;
                    case 'metrics': return <PerformanceSection data={unifiedData.strategicPlan} />;
                    case 'involved': return <GetInvolvedSection data={unifiedData.strategicPlan.getInvolved} />;
                    case 'resources': return <ResourcesSection data={unifiedData.operationalFramework.resourceLibrary} setActiveSection={setActiveSection} />;
                    case 'help': return <HelpSection />;
                    case 'contact': return <ContactFeedbackSection />;
                    case 'guidelines': return <CommunityGuidelinesSection />;
                    case 'privacy': return <PrivacyPolicySection />;
                    case 'complaints': return <ComplaintsPolicySection />;
                    case 'accessibility': return <AccessibilitySection />;
                    default: return <div className="text-center py-20 text-gray-500">Section pending...</div>;
                }
            };
            return (
                <div className="min-h-screen">
                    <Nav activeSection={activeSection} setActiveSection={setActiveSection} userRole={userRole} setUserRole={setUserRole} isDarkMode={isDarkMode} toggleTheme={toggleTheme} />
                    <main className="pt-28 pb-20 px-4 max-w-7xl mx-auto overflow-hidden">{renderSection()}</main>
                    <footer className="bg-slate-900 text-slate-400 no-print border-t border-white/5">
                        {/* Acknowledgement of Country - Prominent Section */}
                        <div className="bg-gradient-to-r from-primary/20 to-accent/10 py-8 border-b border-white/5">
                            <div className="max-w-7xl mx-auto px-4 text-center">
                                <p className="text-white/90 text-sm leading-relaxed max-w-3xl mx-auto font-medium">
                                    <span className="text-accent">‚óè</span> We acknowledge the Traditional Owners of the lands throughout Murrindindi Shire, including the Taungurung and Wurundjeri peoples. We pay our respects to their Elders past and present, recognising their continuing connection to land, waters, and culture.
                                </p>
                            </div>
                        </div>

                        {/* Main Footer Content */}
                        <div className="py-16">
                            <div className="max-w-7xl mx-auto px-4">
                                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-12">
                                    {/* Organisation Info */}
                                    <div className="lg:col-span-2">
                                        <div className="flex items-center gap-3 mb-6">
                                            <img src="smalltalk_logo.png" alt="smalltalk.community logo" className="w-12 h-12 rounded-xl ring-2 ring-white/10" onError={(e) => { e.target.style.display = 'none'; e.target.nextSibling.style.display = 'flex'; }} />
                                            <div className="w-12 h-12 bg-primary rounded-xl items-center justify-center text-white font-bold text-sm ring-2 ring-white/10 hidden">st</div>
                                            <div>
                                                <div className="font-display font-black text-white text-xl tracking-tight">smalltalk.community</div>
                                                <div className="font-display font-bold text-accent text-sm">Inc</div>
                                            </div>
                                        </div>
                                        <p className="text-sm leading-relaxed mb-6 text-slate-400 max-w-md">
                                            Building intergenerational connections and inclusive digital infrastructure for regional communities across Victoria. Starting in Murrindindi Shire.
                                        </p>
                                        <div className="flex items-center gap-4">
                                            <button onClick={() => setShowContactModal(true)} className="text-xs text-white bg-white/10 hover:bg-white/20 px-4 py-2 rounded-full transition-colors font-bold">
                                                üìß Contact Us
                                            </button>
                                        </div>
                                    </div>

                                    {/* Quick Links */}
                                    <div>
                                        <h4 className="font-display font-black text-white text-sm uppercase tracking-wider mb-6">Quick Links</h4>
                                        <ul className="space-y-3">
                                            <li><button onClick={() => setActiveSection('overview')} className="text-sm text-slate-400 hover:text-white transition-colors">Home</button></li>
                                            <li><button onClick={() => setActiveSection('constitution')} className="text-sm text-slate-400 hover:text-white transition-colors">Constitution</button></li>
                                            <li><button onClick={() => setActiveSection('strategy')} className="text-sm text-slate-400 hover:text-white transition-colors">Strategic Direction</button></li>
                                            <li><button onClick={() => setActiveSection('involved')} className="text-sm text-slate-400 hover:text-white transition-colors">Get Involved</button></li>
                                            <li><button onClick={() => setActiveSection('safeguarding')} className="text-sm text-slate-400 hover:text-white transition-colors">Safeguarding</button></li>
                                        </ul>
                                    </div>

                                    {/* Policies & Contact */}
                                    <div>
                                        <h4 className="font-display font-black text-white text-sm uppercase tracking-wider mb-6">Policies & Info</h4>
                                        <ul className="space-y-3">
                                            <li><button onClick={() => setActiveSection('safeguarding')} className="text-sm text-slate-400 hover:text-white transition-colors">Child Safety</button></li>
                                            <li><button onClick={() => setActiveSection('guidelines')} className="text-sm text-slate-400 hover:text-white transition-colors">Community Guidelines</button></li>
                                            <li><button onClick={() => setActiveSection('privacy')} className="text-sm text-slate-400 hover:text-white transition-colors">Privacy Policy</button></li>
                                            <li><button onClick={() => setActiveSection('complaints')} className="text-sm text-slate-400 hover:text-white transition-colors">Complaints Policy</button></li>
                                            <li><button onClick={() => setActiveSection('accessibility')} className="text-sm text-slate-400 hover:text-white transition-colors">Accessibility Statement</button></li>
                                        </ul>
                                        <div className="mt-6 pt-6 border-t border-white/5">
                                            <div className="text-xs text-slate-500 mb-2 uppercase tracking-wider font-bold">Contact</div>
                                            <button onClick={() => setShowContactModal(true)} className="text-sm text-slate-400 hover:text-white transition-colors">
                                                ryanhutchison@outlook.com.au
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                {/* Cultural Warning */}
                                <div className="bg-white/5 rounded-2xl p-4 mb-8 border border-white/10">
                                    <p className="text-xs text-slate-500 text-center">
                                        <span className="text-warning">‚ö†</span> Aboriginal and Torres Strait Islander people are advised that this website may contain images, voices, and names of deceased persons.
                                    </p>
                                </div>

                                {/* Bottom Bar */}
                                <div className="pt-8 border-t border-white/5 flex flex-col md:flex-row justify-between items-center gap-4">
                                    <div className="text-[10px] uppercase font-bold tracking-[0.2em] text-slate-600">
                                        ¬© 2026 smalltalk.community Inc | ABN Pending | Incorporated Association (Victoria)
                                    </div>
                                    <div className="text-[10px] text-slate-600">
                                        Made with ‚ù§Ô∏è for regional Victoria
                                    </div>
                                </div>
                            </div>
                        </div>
                    </footer>
                    <div className="print-footer hidden print:flex no-print-on-screen" aria-hidden="true">
                        <div className="flex-1 text-left">smalltalk.community Inc</div>
                        <div className="flex-1 text-center font-bold font-display uppercase tracking-widest text-[8px]">smalltalk.community - Information Hub</div>
                        <div className="flex-1 text-right">{new Date().toLocaleDateString('en-AU')}</div>
                    </div>
                    {showContactModal && <ContactModal onClose={() => setShowContactModal(false)} />}
                    {showWelcomeModal && <WelcomeModal onClose={() => setShowWelcomeModal(false)} />}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<UserDataProvider><App /></UserDataProvider>);
    </script>
</body>

</html>